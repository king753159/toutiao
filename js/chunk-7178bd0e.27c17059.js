(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7178bd0e"],{"162e":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout-container"},[n("el-container",{staticClass:"layout-container"},[n("el-aside",{staticClass:"aside",attrs:{width:"auto"}},[n("AppAside",{staticClass:"aside-menu",attrs:{"is-collapse":t.isCollapse}})],1),n("el-container",[n("el-header",{staticClass:"header"},[n("div",[n("i",{class:t.isCollapse?"el-icon-s-unfold":"el-icon-s-fold",on:{click:function(e){t.isCollapse=!t.isCollapse}}}),n("span",[t._v("成都王氏集团有限公司")])]),n("el-dropdown",[n("div",{staticClass:"person-box"},[n("img",{staticClass:"picture",attrs:{src:t.user.photo}}),n("span",[t._v(t._s(t.user.name)),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})])]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("i",{staticClass:"el-icon-setting"}),t._v("个人设置")]),n("el-dropdown-item",{nativeOn:{click:function(e){return t.onLogout.apply(null,arguments)}}},[n("i",{staticClass:"el-icon-warning-outline"}),t._v(" 退出登录")])],1)],1)],1),n("el-main",{staticClass:"main"},[n("router-view")],1)],1)],1)],1)},o=[],i=(n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-menu",{attrs:{"default-active":t.$route.path,"background-color":"#002033","text-color":"#fff","active-text-color":"#ffd04b",router:"",collapse:t.isCollapse,"collapse-transition":!1}},[n("el-menu-item",{attrs:{index:"/layout"}},[n("i",{staticClass:"el-icon-s-home"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("首页")])]),n("el-menu-item",{attrs:{index:"/article"}},[n("i",{staticClass:"el-icon-document"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("内容管理")])]),n("el-menu-item",{attrs:{index:"/image"}},[n("i",{staticClass:"el-icon-picture"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("素材管理")])]),n("el-menu-item",{attrs:{index:"/publish"}},[n("i",{staticClass:"el-icon-s-promotion"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("发布文章")])]),n("el-menu-item",{attrs:{index:"/comment"}},[n("i",{staticClass:"el-icon-chat-dot-round"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("评论管理")])]),n("el-menu-item",{attrs:{index:"/fans"}},[n("i",{staticClass:"el-icon-present"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("粉丝管理")])]),n("el-menu-item",{attrs:{index:"/settings"}},[n("i",{staticClass:"el-icon-setting"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("个人设置")])])],1)}),a=[],l={name:"AppAside",props:["is-collapse"],data:function(){return{}},methods:{}},r=l,c=n("2877"),u=Object(c["a"])(r,i,a,!1,null,null,null),d=u.exports,p=n("c24f"),f=n("50f8"),m={name:"LayoutIndex",data:function(){return{user:{},isCollapse:!1}},created:function(){var t=this;this.loadUserInfo(),f["a"].$on("update-user",(function(e){t.user.name=e.name,t.user.photo=e.photo}))},methods:{loadUserInfo:function(){var t=this;Object(p["a"])().then((function(e){t.user=e.data.data,console.log(t.user)}))},onLogout:function(){var t=this;this.$confirm("是否退出登录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){window.sessionStorage.removeItem("user"),t.$router.push("/login"),t.$message({type:"success",message:"退出成功!"})})).catch((function(t){console.log(t)}))}},components:{AppAside:d}},h=m,v=(n("df1a"),Object(c["a"])(h,s,o,!1,null,"1f57a020",null));e["default"]=v.exports},"50f8":function(t,e,n){"use strict";var s=n("2b0e");e["a"]=new s["default"]},b0c0:function(t,e,n){var s=n("83ab"),o=n("9bf2").f,i=Function.prototype,a=i.toString,l=/^\s*function ([^ (]*)/,r="name";s&&!(r in i)&&o(i,r,{configurable:!0,get:function(){try{return a.call(this).match(l)[1]}catch(t){return""}}})},b11c:function(t,e,n){},c24f:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return l}));var s=n("b775"),o=function(t){return Object(s["a"])({method:"POST",url:"/mp/v1_0/authorizations",data:t})},i=function(){return Object(s["a"])({method:"GET",url:"/mp/v1_0/user/profile"})},a=function(t){return Object(s["a"])({method:"PATCH",url:"/mp/v1_0/user/photo",data:t})},l=function(t){return Object(s["a"])({method:"PATCH",url:"/mp/v1_0/user/profile",data:t})}},df1a:function(t,e,n){"use strict";n("b11c")}}]);
//# sourceMappingURL=chunk-7178bd0e.27c17059.js.map