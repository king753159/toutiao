(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02eb4727"],{"00d5":function(e,t,n){},"00ee":function(e,t,n){var r=n("b622"),o=r("toStringTag"),i={};i[o]="z",e.exports="[object z]"===String(i)},"073e":function(e,t,n){"use strict";var r=n("5dbe"),o=i(Error);function i(e){return t.displayName=e.displayName||e.name,t;function t(t){return t&&(t=r.apply(null,arguments)),new e(t)}}e.exports=o,o.eval=i(EvalError),o.range=i(RangeError),o.reference=i(ReferenceError),o.syntax=i(SyntaxError),o.type=i(TypeError),o.uri=i(URIError),o.create=i},"0d26":function(e,t,n){var r=n("e330"),o=Error,i=r("".replace),s=function(e){return String(o(e).stack)}("zxcasd"),l=/\n\s*at [^:]*:[^\n]*/,a=l.test(s);e.exports=function(e,t){if(a&&"string"==typeof e&&!o.prepareStackTrace)while(t--)e=i(e,l,"");return e}},1020:function(e,t){function n(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach((function(t){var r=e[t];"object"!=typeof r||Object.isFrozen(r)||n(r)})),e}var r=n,o=n;r.default=o;class i{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function s(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function l(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}const a="</span>",c=e=>!!e.kind;class u{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=s(e)}openNode(e){if(!c(e))return;let t=e.kind;e.sublanguage||(t=`${this.classPrefix}${t}`),this.span(t)}closeNode(e){c(e)&&(this.buffer+=a)}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}class d{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t={kind:e,children:[]};this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){while(this.closeNode());}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"===typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(t=>this._walk(e,t)),e.closeNode(t)),e}static _collapse(e){"string"!==typeof e&&e.children&&(e.children.every(e=>"string"===typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{d._collapse(e)}))}}class p extends d{constructor(e){super(),this.options=e}addKeyword(e,t){""!==e&&(this.openNode(t),this.addText(e),this.closeNode())}addText(e){""!==e&&this.add(e)}addSublanguage(e,t){const n=e.root;n.kind=t,n.sublanguage=!0,this.add(n)}toHTML(){const e=new u(this,this.options);return e.value()}finalize(){return!0}}function h(e){return new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function f(e){return e?"string"===typeof e?e:e.source:null}function m(...e){const t=e.map(e=>f(e)).join("");return t}function g(...e){const t="("+e.map(e=>f(e)).join("|")+")";return t}function v(e){return new RegExp(e.toString()+"|").exec("").length-1}function y(e,t){const n=e&&e.exec(t);return n&&0===n.index}const b=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function w(e,t="|"){let n=0;return e.map(e=>{n+=1;const t=n;let r=f(e),o="";while(r.length>0){const e=b.exec(r);if(!e){o+=r;break}o+=r.substring(0,e.index),r=r.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?o+="\\"+String(Number(e[1])+t):(o+=e[0],"("===e[0]&&n++)}return o}).map(e=>`(${e})`).join(t)}const x=/\b\B/,k="[a-zA-Z]\\w*",S="[a-zA-Z_]\\w*",_="\\b\\d+(\\.\\d+)?",C="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",O="\\b(0b[01]+)",M="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",E=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=m(t,/.*\b/,e.binary,/\b.*/)),l({className:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},T={begin:"\\\\[\\s\\S]",relevance:0},A={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[T]},N={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[T]},R={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},I=function(e,t,n={}){const r=l({className:"comment",begin:e,end:t,contains:[]},n);return r.contains.push(R),r.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),r},z=I("//","$"),j=I("/\\*","\\*/"),D=I("#","$"),P={className:"number",begin:_,relevance:0},$={className:"number",begin:C,relevance:0},F={className:"number",begin:O,relevance:0},B={className:"number",begin:_+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},L={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[T,{begin:/\[/,end:/\]/,relevance:0,contains:[T]}]}]},V={className:"title",begin:k,relevance:0},q={className:"title",begin:S,relevance:0},H={begin:"\\.\\s*"+S,relevance:0},W=function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})};var U=Object.freeze({__proto__:null,MATCH_NOTHING_RE:x,IDENT_RE:k,UNDERSCORE_IDENT_RE:S,NUMBER_RE:_,C_NUMBER_RE:C,BINARY_NUMBER_RE:O,RE_STARTERS_RE:M,SHEBANG:E,BACKSLASH_ESCAPE:T,APOS_STRING_MODE:A,QUOTE_STRING_MODE:N,PHRASAL_WORDS_MODE:R,COMMENT:I,C_LINE_COMMENT_MODE:z,C_BLOCK_COMMENT_MODE:j,HASH_COMMENT_MODE:D,NUMBER_MODE:P,C_NUMBER_MODE:$,BINARY_NUMBER_MODE:F,CSS_NUMBER_MODE:B,REGEXP_MODE:L,TITLE_MODE:V,UNDERSCORE_TITLE_MODE:q,METHOD_GUARD:H,END_SAME_AS_BEGIN:W});function J(e,t){const n=e.input[e.index-1];"."===n&&t.ignoreMatch()}function K(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=J,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function G(e,t){Array.isArray(e.illegal)&&(e.illegal=g(...e.illegal))}function X(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Z(e,t){void 0===e.relevance&&(e.relevance=1)}const Y=["of","and","for","in","not","or","if","then","parent","list","value"],Q="keyword";function ee(e,t,n=Q){const r={};return"string"===typeof e?o(n,e.split(" ")):Array.isArray(e)?o(n,e):Object.keys(e).forEach((function(n){Object.assign(r,ee(e[n],t,n))})),r;function o(e,n){t&&(n=n.map(e=>e.toLowerCase())),n.forEach((function(t){const n=t.split("|");r[n[0]]=[e,te(n[0],n[1])]}))}}function te(e,t){return t?Number(t):ne(e)?0:1}function ne(e){return Y.includes(e.toLowerCase())}function re(e,{plugins:t}){function n(t,n){return new RegExp(f(t),"m"+(e.case_insensitive?"i":"")+(n?"g":""))}class r{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=v(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map(e=>e[1]);this.matcherRe=n(w(e),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex((e,t)=>t>0&&void 0!==e),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}class o{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new r;return this.rules.slice(e).forEach(([e,n])=>t.addRule(e,n)),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition())if(n&&n.index===this.lastIndex);else{const t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}function i(e){const t=new o;return e.contains.forEach(e=>t.addRule(e.begin,{rule:e,type:"begin"})),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}function s(t,r){const o=t;if(t.isCompiled)return o;[X].forEach(e=>e(t,r)),e.compilerExtensions.forEach(e=>e(t,r)),t.__beforeBegin=null,[K,G,Z].forEach(e=>e(t,r)),t.isCompiled=!0;let l=null;if("object"===typeof t.keywords&&(l=t.keywords.$pattern,delete t.keywords.$pattern),t.keywords&&(t.keywords=ee(t.keywords,e.case_insensitive)),t.lexemes&&l)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return l=l||t.lexemes||/\w+/,o.keywordPatternRe=n(l,!0),r&&(t.begin||(t.begin=/\B|\b/),o.beginRe=n(t.begin),t.endSameAsBegin&&(t.end=t.begin),t.end||t.endsWithParent||(t.end=/\B|\b/),t.end&&(o.endRe=n(t.end)),o.terminatorEnd=f(t.end)||"",t.endsWithParent&&r.terminatorEnd&&(o.terminatorEnd+=(t.end?"|":"")+r.terminatorEnd)),t.illegal&&(o.illegalRe=n(t.illegal)),t.contains||(t.contains=[]),t.contains=[].concat(...t.contains.map((function(e){return ie("self"===e?t:e)}))),t.contains.forEach((function(e){s(e,o)})),t.starts&&s(t.starts,r),o.matcher=i(o),o}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=l(e.classNameAliases||{}),s(e)}function oe(e){return!!e&&(e.endsWithParent||oe(e.starts))}function ie(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map((function(t){return l(e,{variants:null},t)}))),e.cachedVariants?e.cachedVariants:oe(e)?l(e,{starts:e.starts?l(e.starts):null}):Object.isFrozen(e)?l(e):e}var se="10.7.3";function le(e){return Boolean(e||""===e)}function ae(e){const t={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!e.getLanguage(this.language))return console.warn(`The language "${this.language}" you specified could not be found.`),this.unknownLanguage=!0,s(this.code);let t={};return this.autoDetect?(t=e.highlightAuto(this.code),this.detectedLanguage=t.language):(t=e.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),t.value},autoDetect(){return!this.language||le(this.autodetect)},ignoreIllegals(){return!0}},render(e){return e("pre",{},[e("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}},n={install(e){e.component("highlightjs",t)}};return{Component:t,VuePlugin:n}}const ce={"after:highlightElement":({el:e,result:t,text:n})=>{const r=de(e);if(!r.length)return;const o=document.createElement("div");o.innerHTML=t.value,t.value=pe(r,de(o),n)}};function ue(e){return e.nodeName.toLowerCase()}function de(e){const t=[];return function e(n,r){for(let o=n.firstChild;o;o=o.nextSibling)3===o.nodeType?r+=o.nodeValue.length:1===o.nodeType&&(t.push({event:"start",offset:r,node:o}),r=e(o,r),ue(o).match(/br|hr|img|input/)||t.push({event:"stop",offset:r,node:o}));return r}(e,0),t}function pe(e,t,n){let r=0,o="";const i=[];function l(){return e.length&&t.length?e[0].offset!==t[0].offset?e[0].offset<t[0].offset?e:t:"start"===t[0].event?e:t:e.length?e:t}function a(e){function t(e){return" "+e.nodeName+'="'+s(e.value)+'"'}o+="<"+ue(e)+[].map.call(e.attributes,t).join("")+">"}function c(e){o+="</"+ue(e)+">"}function u(e){("start"===e.event?a:c)(e.node)}while(e.length||t.length){let t=l();if(o+=s(n.substring(r,t[0].offset)),r=t[0].offset,t===e){i.reverse().forEach(c);do{u(t.splice(0,1)[0]),t=l()}while(t===e&&t.length&&t[0].offset===r);i.reverse().forEach(a)}else"start"===t[0].event?i.push(t[0].node):i.pop(),u(t.splice(0,1)[0])}return o+s(n.substr(r))}const he={},fe=e=>{console.error(e)},me=(e,...t)=>{console.log("WARN: "+e,...t)},ge=(e,t)=>{he[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),he[`${e}/${t}`]=!0)},ve=s,ye=l,be=Symbol("nomatch"),we=function(e){const t=Object.create(null),n=Object.create(null),o=[];let s=!0;const l=/(^(<[^>]+>|\t|)+|\n)/gm,a="Could not find the language '{}', did you forget to load/include a language module?",c={disableAutodetect:!0,name:"Plain text",contains:[]};let u={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:p};function d(e){return u.noHighlightRe.test(e)}function f(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=u.languageDetectRe.exec(t);if(n){const t=D(n[1]);return t||(me(a.replace("{}",n[1])),me("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find(e=>d(e)||D(e))}function m(e,t,n,r){let o="",i="";"object"===typeof t?(o=e,n=t.ignoreIllegals,i=t.language,r=void 0):(ge("10.7.0","highlight(lang, code, ...args) has been deprecated."),ge("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),i=e,o=t);const s={code:o,language:i};L("before:highlight",s);const l=s.result?s.result:g(s.language,s.code,n,r);return l.code=s.code,L("after:highlight",l),l}function g(e,n,r,l){function c(e,t){const n=O.case_insensitive?t[0].toLowerCase():t[0];return Object.prototype.hasOwnProperty.call(e.keywords,n)&&e.keywords[n]}function d(){if(!T.keywords)return void N.addText(R);let e=0;T.keywordPatternRe.lastIndex=0;let t=T.keywordPatternRe.exec(R),n="";while(t){n+=R.substring(e,t.index);const r=c(T,t);if(r){const[e,o]=r;if(N.addText(n),n="",I+=o,e.startsWith("_"))n+=t[0];else{const n=O.classNameAliases[e]||e;N.addKeyword(t[0],n)}}else n+=t[0];e=T.keywordPatternRe.lastIndex,t=T.keywordPatternRe.exec(R)}n+=R.substr(e),N.addText(n)}function p(){if(""===R)return;let e=null;if("string"===typeof T.subLanguage){if(!t[T.subLanguage])return void N.addText(R);e=g(T.subLanguage,R,!0,A[T.subLanguage]),A[T.subLanguage]=e.top}else e=b(R,T.subLanguage.length?T.subLanguage:null);T.relevance>0&&(I+=e.relevance),N.addSublanguage(e.emitter,e.language)}function f(){null!=T.subLanguage?p():d(),R=""}function m(e){return e.className&&N.openNode(O.classNameAliases[e.className]||e.className),T=Object.create(e,{parent:{value:T}}),T}function v(e,t,n){let r=y(e.endRe,n);if(r){if(e["on:end"]){const n=new i(e);e["on:end"](t,n),n.isMatchIgnored&&(r=!1)}if(r){while(e.endsParent&&e.parent)e=e.parent;return e}}if(e.endsWithParent)return v(e.parent,t,n)}function w(e){return 0===T.matcher.regexIndex?(R+=e[0],1):(P=!0,0)}function x(e){const t=e[0],n=e.rule,r=new i(n),o=[n.__beforeBegin,n["on:begin"]];for(const i of o)if(i&&(i(e,r),r.isMatchIgnored))return w(t);return n&&n.endSameAsBegin&&(n.endRe=h(t)),n.skip?R+=t:(n.excludeBegin&&(R+=t),f(),n.returnBegin||n.excludeBegin||(R=t)),m(n),n.returnBegin?0:t.length}function k(e){const t=e[0],r=n.substr(e.index),o=v(T,e,r);if(!o)return be;const i=T;i.skip?R+=t:(i.returnEnd||i.excludeEnd||(R+=t),f(),i.excludeEnd&&(R=t));do{T.className&&N.closeNode(),T.skip||T.subLanguage||(I+=T.relevance),T=T.parent}while(T!==o.parent);return o.starts&&(o.endSameAsBegin&&(o.starts.endRe=o.endRe),m(o.starts)),i.returnEnd?0:t.length}function S(){const e=[];for(let t=T;t!==O;t=t.parent)t.className&&e.unshift(t.className);e.forEach(e=>N.openNode(e))}let _={};function C(t,o){const i=o&&o[0];if(R+=t,null==i)return f(),0;if("begin"===_.type&&"end"===o.type&&_.index===o.index&&""===i){if(R+=n.slice(o.index,o.index+1),!s){const t=new Error("0 width match regex");throw t.languageName=e,t.badRule=_.rule,t}return 1}if(_=o,"begin"===o.type)return x(o);if("illegal"===o.type&&!r){const e=new Error('Illegal lexeme "'+i+'" for mode "'+(T.className||"<unnamed>")+'"');throw e.mode=T,e}if("end"===o.type){const e=k(o);if(e!==be)return e}if("illegal"===o.type&&""===i)return 1;if(j>1e5&&j>3*o.index){const e=new Error("potential infinite loop, way more iterations than matches");throw e}return R+=i,i.length}const O=D(e);if(!O)throw fe(a.replace("{}",e)),new Error('Unknown language: "'+e+'"');const M=re(O,{plugins:o});let E="",T=l||M;const A={},N=new u.__emitter(u);S();let R="",I=0,z=0,j=0,P=!1;try{for(T.matcher.considerAll();;){j++,P?P=!1:T.matcher.considerAll(),T.matcher.lastIndex=z;const e=T.matcher.exec(n);if(!e)break;const t=n.substring(z,e.index),r=C(t,e);z=e.index+r}return C(n.substr(z)),N.closeAllNodes(),N.finalize(),E=N.toHTML(),{relevance:Math.floor(I),value:E,language:e,illegal:!1,emitter:N,top:T}}catch($){if($.message&&$.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:$.message,context:n.slice(z-100,z+100),mode:$.mode},sofar:E,relevance:0,value:ve(n),emitter:N};if(s)return{illegal:!1,relevance:0,value:ve(n),emitter:N,language:e,top:T,errorRaised:$};throw $}}function v(e){const t={relevance:0,emitter:new u.__emitter(u),value:ve(e),illegal:!1,top:c};return t.emitter.addText(e),t}function b(e,n){n=n||u.languages||Object.keys(t);const r=v(e),o=n.filter(D).filter($).map(t=>g(t,e,!1));o.unshift(r);const i=o.sort((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(D(e.language).supersetOf===t.language)return 1;if(D(t.language).supersetOf===e.language)return-1}return 0}),[s,l]=i,a=s;return a.second_best=l,a}function w(e){return u.tabReplace||u.useBR?e.replace(l,e=>"\n"===e?u.useBR?"<br>":e:u.tabReplace?e.replace(/\t/g,u.tabReplace):e):e}function x(e,t,r){const o=t?n[t]:r;e.classList.add("hljs"),o&&e.classList.add(o)}const k={"before:highlightElement":({el:e})=>{u.useBR&&(e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n"))},"after:highlightElement":({result:e})=>{u.useBR&&(e.value=e.value.replace(/\n/g,"<br>"))}},S=/^(<[^>]+>|\t)+/gm,_={"after:highlightElement":({result:e})=>{u.tabReplace&&(e.value=e.value.replace(S,e=>e.replace(/\t/g,u.tabReplace)))}};function C(e){let t=null;const n=f(e);if(d(n))return;L("before:highlightElement",{el:e,language:n}),t=e;const r=t.textContent,o=n?m(r,{language:n,ignoreIllegals:!0}):b(r);L("after:highlightElement",{el:e,result:o,text:r}),e.innerHTML=o.value,x(e,n,o.language),e.result={language:o.language,re:o.relevance,relavance:o.relevance},o.second_best&&(e.second_best={language:o.second_best.language,re:o.second_best.relevance,relavance:o.second_best.relevance})}function O(e){e.useBR&&(ge("10.3.0","'useBR' will be removed entirely in v11.0"),ge("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),u=ye(u,e)}const M=()=>{if(M.called)return;M.called=!0,ge("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead.");const e=document.querySelectorAll("pre code");e.forEach(C)};function E(){ge("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),T=!0}let T=!1;function A(){if("loading"===document.readyState)return void(T=!0);const e=document.querySelectorAll("pre code");e.forEach(C)}function N(){T&&A()}function R(n,r){let o=null;try{o=r(e)}catch(i){if(fe("Language definition for '{}' could not be registered.".replace("{}",n)),!s)throw i;fe(i),o=c}o.name||(o.name=n),t[n]=o,o.rawDefinition=r.bind(null,e),o.aliases&&P(o.aliases,{languageName:n})}function I(e){delete t[e];for(const t of Object.keys(n))n[t]===e&&delete n[t]}function z(){return Object.keys(t)}function j(e){ge("10.4.0","requireLanguage will be removed entirely in v11."),ge("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");const t=D(e);if(t)return t;const n=new Error("The '{}' language is required, but not loaded.".replace("{}",e));throw n}function D(e){return e=(e||"").toLowerCase(),t[e]||t[n[e]]}function P(e,{languageName:t}){"string"===typeof e&&(e=[e]),e.forEach(e=>{n[e.toLowerCase()]=t})}function $(e){const t=D(e);return t&&!t.disableAutodetect}function F(e){e["before:highlightBlock"]&&!e["before:highlightElement"]&&(e["before:highlightElement"]=t=>{e["before:highlightBlock"](Object.assign({block:t.el},t))}),e["after:highlightBlock"]&&!e["after:highlightElement"]&&(e["after:highlightElement"]=t=>{e["after:highlightBlock"](Object.assign({block:t.el},t))})}function B(e){F(e),o.push(e)}function L(e,t){const n=e;o.forEach((function(e){e[n]&&e[n](t)}))}function V(e){return ge("10.2.0","fixMarkup will be removed entirely in v11.0"),ge("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),w(e)}function q(e){return ge("10.7.0","highlightBlock will be removed entirely in v12.0"),ge("10.7.0","Please use highlightElement now."),C(e)}"undefined"!==typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",N,!1),Object.assign(e,{highlight:m,highlightAuto:b,highlightAll:A,fixMarkup:V,highlightElement:C,highlightBlock:q,configure:O,initHighlighting:M,initHighlightingOnLoad:E,registerLanguage:R,unregisterLanguage:I,listLanguages:z,getLanguage:D,registerAliases:P,requireLanguage:j,autoDetection:$,inherit:ye,addPlugin:B,vuePlugin:ae(e).VuePlugin}),e.debugMode=function(){s=!1},e.safeMode=function(){s=!0},e.versionString=se;for(const i in U)"object"===typeof U[i]&&r(U[i]);return Object.assign(e,U),e.addPlugin(k),e.addPlugin(ce),e.addPlugin(_),e};var xe=we({});e.exports=xe},"12c8":function(e,t,n){},"18a6":function(e,t,n){"use strict";n("5a41")},"18ff":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=83)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,l){var a,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(a=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=a):o&&(a=l?function(){o.call(this,this.$root.$options.shadowRoot)}:o),a)if(c.functional){c._injectStyles=a;var u=c.render;c.render=function(e,t){return a.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,a):[a]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},4:function(e,t){e.exports=n("d010")},83:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"el-dropdown-menu__item",class:{"is-disabled":e.disabled,"el-dropdown-menu__item--divided":e.divided},attrs:{"aria-disabled":e.disabled,tabindex:e.disabled?null:-1},on:{click:e.handleClick}},[e.icon?n("i",{class:e.icon}):e._e(),e._t("default")],2)},o=[];r._withStripped=!0;var i=n(4),s=n.n(i),l={name:"ElDropdownItem",mixins:[s.a],props:{command:{},disabled:Boolean,divided:Boolean,icon:String},methods:{handleClick:function(e){this.dispatch("ElDropdown","menu-item-click",[this.command,this])}}},a=l,c=n(0),u=Object(c["a"])(a,r,o,!1,null,null,null);u.options.__file="packages/dropdown/src/dropdown-item.vue";var d=u.exports;d.install=function(e){e.component(d.name,d)};t["default"]=d}})},"1e63":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"publish-container"},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",{attrs:{to:"/layout"}},[e._v("首页")]),t("el-breadcrumb-item",[e._v(e._s(e.$route.query.id?"修改文章":"发布文章"))])],1)],1),t("div",[t("el-form",{ref:"form",attrs:{rules:e.formRules,model:e.articles,"label-width":"60px"}},[t("el-form-item",{attrs:{prop:"title",label:"标题"}},[t("el-input",{model:{value:e.articles.title,callback:function(t){e.$set(e.articles,"title",t)},expression:"articles.title"}})],1),t("el-form-item",{attrs:{prop:"content",label:"内容"}},[t("el-tiptap",{attrs:{height:"400",placeholder:"请输入文章内容",extensions:e.extensions,lang:"zh"},model:{value:e.articles.content,callback:function(t){e.$set(e.articles,"content",t)},expression:"articles.content"}})],1),t("el-form-item",{attrs:{label:"封面"}},[t("el-radio-group",{model:{value:e.articles.cover.type,callback:function(t){e.$set(e.articles.cover,"type",t)},expression:"articles.cover.type"}},[t("el-radio",{attrs:{label:1}},[e._v("单图")]),t("el-radio",{attrs:{label:3}},[e._v("三图")]),t("el-radio",{attrs:{label:0}},[e._v("无图")]),t("el-radio",{attrs:{label:-1}},[e._v("自动")])],1),e.articles.cover.type>0?[t("div",{staticClass:"imgDisplay"},e._l(e.articles.cover.type,(function(n,r){return t("articleCover",{key:n,model:{value:e.articles.cover.images[r],callback:function(t){e.$set(e.articles.cover.images,r,t)},expression:"articles.cover.images[index]"}})})),1)]:e._e()],2),t("el-form-item",{attrs:{prop:"channel_id",label:"频道"}},[t("el-select",{attrs:{placeholder:"请选择频道"},model:{value:e.articles.channel_id,callback:function(t){e.$set(e.articles,"channel_id",t)},expression:"articles.channel_id"}},e._l(e.channels,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onPublish(!1)}}},[e._v(e._s(e.$route.query.id?"修改":"发表"))]),e.$route.query.id?e._e():t("el-button",{on:{click:function(t){return e.onPublish(!0)}}},[e._v("存入草稿")])],1)],1)],1)])],1)},o=[],i=(n("d9e2"),n("14d9"),n("2423")),s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"upload-cover",on:{click:e.showCoverSelect}},[t("div",{staticClass:"cover-wrap"},[e.imgUrl?t("img",{ref:"cover-img",attrs:{src:e.value}}):t("i",{staticClass:"el-icon-plus"})]),t("el-dialog",{attrs:{title:"选择封面",visible:e.dialogVisible,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-tabs",{attrs:{type:"card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"素材库",name:"first"}},[t("image-list",{ref:"image-list",attrs:{isShowSelected:"",isShowAdd:!1,isShowAction:!1}})],1),t("el-tab-pane",{attrs:{label:"上传图片",name:"second"}},[t("input",{ref:"file",attrs:{type:"file",id:"file"},on:{change:e.onFileChange}}),t("img",{ref:"preImg",attrs:{width:"100"}})])],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.onCoverConfirm}},[e._v("确 定")])],1)],1)],1)},l=[],a=n("3c33"),c={name:"articleCover",props:["value"],data(){return{dialogVisible:!1,activeName:"first",imgUrl:""}},methods:{showCoverSelect(){this.dialogVisible=!0},onFileChange(){const e=this.$refs.file.files[0],t=window.URL.createObjectURL(e);this.$refs.preImg.src=t},onCoverConfirm(){if("second"===this.activeName){const e=this.$refs.file.files[0];if(!e)return this.$message({type:"warning",message:"请选择文件"}),!1;const t=new FormData;t.append("image",e),Object(i["k"])(t).then(e=>{this.dialogVisible=!1,this.$message({type:"success",message:"上传成功"}),this.imgUrl=e.data.data.url,this.$emit("input",e.data.data.url)})}else if("first"===this.activeName){const e=this.$refs["image-list"],t=e.selected;if(null===t)return this.$message("请选择封面图片"),!1;this.dialogVisible=!1,this.imgUrl=e.pageList[t].url,this.$emit("input",e.pageList[t].url)}}},components:{imageList:a["a"]}},u=c,d=(n("79a1"),n("2877")),p=Object(d["a"])(u,s,l,!1,null,"6565a4b2",null),h=p.exports,f=n("4ccc"),m=(n("7eef"),{name:"PublishIndex",data(){return{articles:{title:"",content:"",cover:{type:0,images:[]},channel_id:null},channels:[],extensions:[new f["c"],new f["n"],new f["l"],new f["e"]({level:5}),new f["a"]({bubble:!0}),new f["r"]({bubble:!0,menubar:!1}),new f["i"],new f["m"],new f["h"]({uploadRequest(e){const t=new FormData;return t.append("image",e),Object(i["k"])(t).then(e=>e.data.data.url)}}),new f["g"],new f["j"],new f["b"],new f["k"],new f["f"],new f["q"],new f["p"],new f["o"]],formRules:{title:[{required:!0,message:"请输入文章标题",trigger:"blur"},{min:5,max:30,message:"长度在 5 到 30 个字符",trigger:"blur"}],content:[{validator:(e,t,n)=>{"<p></p>"===t?n(new Error("请输入文章内容")):n()},trigger:"blur"},{required:!0,message:"请输入文章内容",trigger:"blur"}],channel_id:[{required:!0,message:"请选择文章频道"}]}}},created(){this.loadChannels(),this.$route.query.id&&this.loadArticle()},methods:{loadChannels(){Object(i["e"])().then(({data:e})=>{this.channels=e.data.channels})},onPublish(e=!1){this.$refs.form.validate(t=>{if(!t)return!1;{const t=this.$route.query.id;t?Object(i["i"])(t,this.articles,e).then(t=>{this.$message({message:(e?"存入草稿":"修改")+"成功",type:"success"}),this.$router.push("/article")}):(Object(i["h"])(this.articles,e).then(t=>{this.$message({message:(e?"存入草稿":"发布")+"成功",type:"success"})}),this.$router.push("/article"))}})},loadArticle(){Object(i["g"])(this.$route.query.id).then(e=>{this.articles=e.data.data})}},components:{"el-tiptap":f["d"],articleCover:h}}),g=m,v=(n("18a6"),Object(d["a"])(g,r,o,!1,null,"68bb15f4",null));t["default"]=v.exports},2423:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return a})),n.d(t,"g",(function(){return c})),n.d(t,"k",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"j",(function(){return f}));var r=n("b775");const o=e=>Object(r["a"])({method:"GET",url:"/mp/v1_0/articles",params:e}),i=()=>Object(r["a"])({method:"GET",url:"/mp/v1_0/channels"}),s=e=>Object(r["a"])({method:"DELETE",url:"/mp/v1_0/articles/"+e}),l=(e,t=!1)=>Object(r["a"])({method:"POST",url:"/mp/v1_0/articles",params:{draft:t},data:e}),a=(e,t,n=!1)=>Object(r["a"])({method:"PUT",url:"/mp/v1_0/articles/"+e,params:{draft:n},data:t}),c=e=>Object(r["a"])({method:"GET",url:"/mp/v1_0/articles/"+e}),u=e=>Object(r["a"])({method:"POST",url:"/mp/v1_0/user/images",data:e}),d=e=>Object(r["a"])({method:"GET",url:"/mp/v1_0/user/images",params:e}),p=(e,t)=>Object(r["a"])({method:"PUT",url:"/mp/v1_0/user/images/"+e,data:{collect:t}}),h=e=>Object(r["a"])({method:"DELETE",url:"/mp/v1_0/user/images/"+e}),f=(e,t)=>Object(r["a"])({method:"PUT",url:"/mp/v1_0/comments/status",params:{article_id:e},data:{allow_comment:t}})},"2ba4":function(e,t,n){var r=n("40d5"),o=Function.prototype,i=o.apply,s=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(i):function(){return s.apply(i,arguments)})},"3bbe":function(e,t,n){var r=n("1626"),o=String,i=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw i("Can't set "+o(e)+" as a prototype")}},"3c33":function(e,t,n){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticStyle:{"padding-bottom":"20px",display:"flex","justify-content":"space-between"}},[t("el-radio-group",{attrs:{size:"mini"},on:{change:e.changeCollect},model:{value:e.collect,callback:function(t){e.collect=t},expression:"collect"}},[t("el-radio-button",{attrs:{label:!1}},[e._v("全部")]),t("el-radio-button",{attrs:{label:!0}},[e._v("收藏")])],1),e.isShowAdd?t("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){e.dialogUploadVisible=!0}}},[e._v("上传素材")]):e._e()],1),t("el-row",{staticStyle:{"padding-bottom":"20px"},attrs:{gutter:10}},e._l(e.pageList,(function(n,r){return t("el-col",{key:r,staticClass:"col",attrs:{xs:12,md:6,lg:4},nativeOn:{click:function(t){e.selected=r}}},[t("el-image",{staticStyle:{height:"180px",width:"180px"},attrs:{src:n.url,fit:"cover"}}),e.isShowSelected&&e.selected===r?t("div",{staticClass:"selected"}):e._e(),e.isShowAction?t("div",{staticClass:"collect-box"},[t("el-button",{attrs:{size:"mini",icon:n.is_collected?"el-icon-star-on":"el-icon-star-off",circle:"",loading:n.loading},on:{click:function(t){return e.onCollect(n)}}}),t("el-button",{attrs:{size:"mini",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.deleteImg(n.id)}}})],1):e._e()],1)})),1),t("el-pagination",{attrs:{layout:"prev, pager, next",background:"",total:e.totalCount,"page-size":e.pageSize,"current-page":e.page},on:{"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t},"current-change":e.currentPage}}),t("el-dialog",{attrs:{title:"上传素材",width:"400px","append-to-body":!0,visible:e.dialogUploadVisible},on:{"update:visible":function(t){e.dialogUploadVisible=t}}},[t("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"http://api-toutiao-web.itheima.net/mp/v1_0/user/images",headers:e.uploadHeaders,name:"image","on-success":e.onUploadSuccess,"show-file-list":!1,multiple:""}},[t("i",{staticClass:"el-icon-upload"}),t("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),t("em",[e._v("点击上传")])]),t("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])])],1)],1)},o=[],i=n("2423"),s={name:"imageList",props:{isShowAdd:{type:Boolean,default:!0},isShowAction:{type:Boolean,default:!0},isShowSelected:{type:Boolean,default:!1}},data(){const e=JSON.parse(window.sessionStorage.getItem("user"));return{radio1:"全部",pageList:[],totalCount:0,pageSize:10,page:1,collect:!1,dialogUploadVisible:!1,uploadHeaders:{Authorization:"Bearer "+e.token},selected:null}},created(){this.loadImages(1)},methods:{loadImages(e=1){this.page=e,Object(i["f"])({collect:this.collect,page:e,per_page:this.pageSize}).then(e=>{const t=e.data.data.results;t.forEach(e=>{e.loading=!1}),this.pageList=t,this.totalCount=e.data.data.total_count})},currentPage(e){this.loadImages(e)},changeCollect(){this.loadImages(1)},onUploadSuccess(){this.dialogUploadVisible=!1,this.loadImages(this.page),this.$message({type:"success",message:"上传成功！"})},onCollect(e){e.loading=!0,Object(i["a"])(e.id,!e.is_collected).then(t=>{e.is_collected=!e.is_collected,e.loading=!1})},deleteImg(e){this.$confirm("确定要删除图片吗?╮(╯﹏╰）╭","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{Object(i["c"])(e).then(e=>{this.loadImages(this.page),this.$message({type:"success",message:"删除成功!"})})}).catch(e=>{console.log(e)})}}},l=s,a=(n("e6f7"),n("2877")),c=Object(a["a"])(l,r,o,!1,null,"ce0f9802",null);t["a"]=c.exports},"3ce4":function(e,t,n){"use strict";var r=n("1020"),o=n("073e");t.highlight=s,t.highlightAuto=l,t.registerLanguage=a,t.listLanguages=c,t.registerAlias=u,d.prototype.addText=f,d.prototype.addKeyword=p,d.prototype.addSublanguage=h,d.prototype.openNode=m,d.prototype.closeNode=g,d.prototype.closeAllNodes=y,d.prototype.finalize=y,d.prototype.toHTML=v;var i="hljs-";function s(e,t,n){var s,l=r.configure({}),a=n||{},c=a.prefix;if("string"!==typeof e)throw o("Expected `string` for name, got `%s`",e);if(!r.getLanguage(e))throw o("Unknown language: `%s` is not registered",e);if("string"!==typeof t)throw o("Expected `string` for value, got `%s`",t);if(null!==c&&void 0!==c||(c=i),r.configure({__emitter:d,classPrefix:c}),s=r.highlight(t,{language:e,ignoreIllegals:!0}),r.configure(l||{}),s.errorRaised)throw s.errorRaised;return{relevance:s.relevance,language:s.language,value:s.emitter.rootNode.children}}function l(e,t){var n,l,a,c,u=t||{},d=u.subset||r.listLanguages(),p=u.prefix,h=d.length,f=-1;if(null!==p&&void 0!==p||(p=i),"string"!==typeof e)throw o("Expected `string` for value, got `%s`",e);l={relevance:0,language:null,value:[]},n={relevance:0,language:null,value:[]};while(++f<h)c=d[f],r.getLanguage(c)&&(a=s(c,e,t),a.language=c,a.relevance>l.relevance&&(l=a),a.relevance>n.relevance&&(l=n,n=a));return l.language&&(n.secondBest=l),n}function a(e,t){r.registerLanguage(e,t)}function c(){return r.listLanguages()}function u(e,t){var n,o=e;for(n in t&&(o={},o[e]=t),o)r.registerAliases(o[n],{languageName:n})}function d(e){this.options=e,this.rootNode={children:[]},this.stack=[this.rootNode]}function p(e,t){this.openNode(t),this.addText(e),this.closeNode()}function h(e,t){var n=this.stack,r=n[n.length-1],o=e.rootNode.children,i=t?{type:"element",tagName:"span",properties:{className:[t]},children:o}:o;r.children=r.children.concat(i)}function f(e){var t,n,r=this.stack;""!==e&&(t=r[r.length-1],n=t.children[t.children.length-1],n&&"text"===n.type?n.value+=e:t.children.push({type:"text",value:e}))}function m(e){var t=this.stack,n=this.options.classPrefix+e,r=t[t.length-1],o={type:"element",tagName:"span",properties:{className:[n]},children:[]};r.children.push(o),t.push(o)}function g(){this.stack.pop()}function v(){return""}function y(){}},"442c":function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return N})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return A})),n.d(t,"g",(function(){return M}));var r=n("b923"),o=n("6f27"),i=n("6ffb");const s=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0),l=(e,t,n)=>{let{$cursor:s}=e.selection;if(!s||(n?!n.endOfTextblock("backward",e):s.parentOffset>0))return!1;let l=u(s);if(!l){let n=s.blockRange(),o=n&&Object(r["k"])(n);return null!=o&&(t&&t(e.tr.lift(n,o).scrollIntoView()),!0)}let c=l.nodeBefore;if(!c.type.spec.isolating&&S(e,l,t))return!0;if(0==s.parent.content.size&&(a(c,"end")||i["NodeSelection"].isSelectable(c))){let n=Object(r["l"])(e.doc,s.before(),s.after(),o["Slice"].empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(a(c,"end")?i["Selection"].findFrom(r.doc.resolve(r.mapping.map(l.pos,-1)),-1):i["NodeSelection"].create(r.doc,l.pos-c.nodeSize)),t(r.scrollIntoView())}return!0}}return!(!c.isAtom||l.depth!=s.depth-1)&&(t&&t(e.tr.delete(l.pos-c.nodeSize,l.pos).scrollIntoView()),!0)};function a(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const c=(e,t,n)=>{let{$head:r,empty:o}=e.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=u(r)}let l=s&&s.nodeBefore;return!(!l||!i["NodeSelection"].isSelectable(l))&&(t&&t(e.tr.setSelection(i["NodeSelection"].create(e.doc,s.pos-l.nodeSize)).scrollIntoView()),!0)};function u(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}const d=(e,t,n)=>{let{$cursor:s}=e.selection;if(!s||(n?!n.endOfTextblock("forward",e):s.parentOffset<s.parent.content.size))return!1;let l=h(s);if(!l)return!1;let c=l.nodeAfter;if(S(e,l,t))return!0;if(0==s.parent.content.size&&(a(c,"start")||i["NodeSelection"].isSelectable(c))){let n=Object(r["l"])(e.doc,s.before(),s.after(),o["Slice"].empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(a(c,"start")?i["Selection"].findFrom(r.doc.resolve(r.mapping.map(l.pos)),1):i["NodeSelection"].create(r.doc,r.mapping.map(l.pos))),t(r.scrollIntoView())}return!0}}return!(!c.isAtom||l.depth!=s.depth-1)&&(t&&t(e.tr.delete(l.pos,l.pos+c.nodeSize).scrollIntoView()),!0)},p=(e,t,n)=>{let{$head:r,empty:o}=e.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=h(r)}let l=s&&s.nodeAfter;return!(!l||!i["NodeSelection"].isSelectable(l))&&(t&&t(e.tr.setSelection(i["NodeSelection"].create(e.doc,s.pos)).scrollIntoView()),!0)};function h(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const f=(e,t)=>{let{$from:n,$to:o}=e.selection,i=n.blockRange(o),s=i&&Object(r["k"])(i);return null!=s&&(t&&t(e.tr.lift(i,s).scrollIntoView()),!0)},m=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function g(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const v=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),s=n.indexAfter(-1),l=g(o.contentMatchAt(s));if(!l||!o.canReplaceWith(s,s,l))return!1;if(t){let r=n.after(),o=e.tr.replaceWith(r,r,l.createAndFill());o.setSelection(i["Selection"].near(o.doc.resolve(r),1)),t(o.scrollIntoView())}return!0},y=(e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof i["AllSelection"]||r.parent.inlineContent||o.parent.inlineContent)return!1;let s=g(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let n=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,l=e.tr.insert(n,s.createAndFill());l.setSelection(i["TextSelection"].create(l.doc,n+1)),t(l.scrollIntoView())}return!0},b=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Object(r["g"])(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let o=n.blockRange(),i=o&&Object(r["k"])(o);return null!=i&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)},w=(e,t)=>{let{$from:n,$to:o}=e.selection;if(e.selection instanceof i["NodeSelection"]&&e.selection.node.isBlock)return!(!n.parentOffset||!Object(r["g"])(e.doc,n.pos))&&(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(t){let s=o.parentOffset==o.parent.content.size,l=e.tr;(e.selection instanceof i["TextSelection"]||e.selection instanceof i["AllSelection"])&&l.deleteSelection();let a=0==n.depth?null:g(n.node(-1).contentMatchAt(n.indexAfter(-1))),c=s&&a?[{type:a}]:void 0,u=Object(r["g"])(l.doc,l.mapping.map(n.pos),1,c);if(c||u||!Object(r["g"])(l.doc,l.mapping.map(n.pos),1,a?[{type:a}]:void 0)||(a&&(c=[{type:a}]),u=!0),u&&(l.split(l.mapping.map(n.pos),1,c),!s&&!n.parentOffset&&n.parent.type!=a)){let e=l.mapping.map(n.before()),t=l.doc.resolve(e);a&&n.node(-1).canReplaceWith(t.index(),t.index()+1,a)&&l.setNodeMarkup(l.mapping.map(n.before()),a)}t(l.scrollIntoView())}return!0},x=(e,t)=>(t&&t(e.tr.setSelection(new i["AllSelection"](e.doc))),!0);function k(e,t,n){let o=t.nodeBefore,i=t.nodeAfter,s=t.index();return!!(o&&i&&o.type.compatibleContent(i.type))&&(!o.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-o.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(s,s+1)||!i.isTextblock&&!Object(r["f"])(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,o.type,o.contentMatchAt(o.childCount)).join(t.pos).scrollIntoView()),!0))}function S(e,t,n){let s,l,c=t.nodeBefore,u=t.nodeAfter;if(c.type.spec.isolating||u.type.spec.isolating)return!1;if(k(e,t,n))return!0;let d=t.parent.canReplace(t.index(),t.index()+1);if(d&&(s=(l=c.contentMatchAt(c.childCount)).findWrapping(u.type))&&l.matchType(s[0]||u.type).validEnd){if(n){let i=t.pos+u.nodeSize,l=o["Fragment"].empty;for(let e=s.length-1;e>=0;e--)l=o["Fragment"].from(s[e].create(null,l));l=o["Fragment"].from(c.copy(l));let a=e.tr.step(new r["b"](t.pos-1,i,t.pos,i,new o["Slice"](l,1,0),s.length,!0)),d=i+2*s.length;Object(r["f"])(a.doc,d)&&a.join(d),n(a.scrollIntoView())}return!0}let p=i["Selection"].findFrom(t,1),h=p&&p.$from.blockRange(p.$to),f=h&&Object(r["k"])(h);if(null!=f&&f>=t.depth)return n&&n(e.tr.lift(h,f).scrollIntoView()),!0;if(d&&a(u,"start",!0)&&a(c,"end")){let i=c,s=[];for(;;){if(s.push(i),i.isTextblock)break;i=i.lastChild}let l=u,a=1;for(;!l.isTextblock;l=l.firstChild)a++;if(i.canReplace(i.childCount,i.childCount,l.content)){if(n){let i=o["Fragment"].empty;for(let e=s.length-1;e>=0;e--)i=o["Fragment"].from(s[e].copy(i));let l=e.tr.step(new r["b"](t.pos-s.length,t.pos+u.nodeSize,t.pos+a,t.pos+u.nodeSize-a,new o["Slice"](i,s.length,0),0,!0));n(l.scrollIntoView())}return!0}}return!1}function _(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,s=o.depth;while(o.node(s).isInline){if(!s)return!1;s--}return!!o.node(s).isTextblock&&(n&&n(t.tr.setSelection(i["TextSelection"].create(t.doc,e<0?o.start(s):o.end(s)))),!0)}}const C=_(-1),O=_(1);function M(e,t=null){return function(n,o){let{$from:i,$to:s}=n.selection,l=i.blockRange(s),a=l&&Object(r["i"])(l,e,t);return!!a&&(o&&o(n.tr.wrap(l,a).scrollIntoView()),!0)}}function E(e,t=null){return function(n,r){let{from:o,to:i}=n.selection,s=!1;return n.doc.nodesBetween(o,i,(r,o)=>{if(s)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)s=!0;else{let t=n.doc.resolve(o),r=t.index();s=t.parent.canReplaceWith(r,r+1,e)}}),!!s&&(r&&r(n.tr.setBlockType(o,i,e,t).scrollIntoView()),!0)}}function T(e,t,n){for(let r=0;r<t.length;r++){let{$from:o,$to:i}=t[r],s=0==o.depth&&(e.inlineContent&&e.type.allowsMarkType(n));if(e.nodesBetween(o.pos,i.pos,e=>{if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)}),s)return!0}return!1}function A(e,t=null){return function(n,r){let{empty:o,$cursor:i,ranges:s}=n.selection;if(o&&!i||!T(n.doc,s,e))return!1;if(r)if(i)e.isInSet(n.storedMarks||i.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{let o=!1,i=n.tr;for(let t=0;!o&&t<s.length;t++){let{$from:r,$to:i}=s[t];o=n.doc.rangeHasMark(r.pos,i.pos,e)}for(let n=0;n<s.length;n++){let{$from:r,$to:l}=s[n];if(o)i.removeMark(r.pos,l.pos,e);else{let n=r.pos,o=l.pos,s=r.nodeAfter,a=l.nodeBefore,c=s&&s.isText?/^\s*/.exec(s.text)[0].length:0,u=a&&a.isText?/\s*$/.exec(a.text)[0].length:0;n+c<o&&(n+=c,o-=u),i.addMark(n,o,e.create(t))}}r(i.scrollIntoView())}return!0}}function N(...e){return function(t,n,r){for(let o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}let R=N(s,l,c),I=N(s,d,p);const z={Enter:N(m,y,b,w),"Mod-Enter":v,Backspace:R,"Mod-Backspace":R,"Shift-Backspace":R,Delete:I,"Mod-Delete":I,"Mod-a":x},j={"Ctrl-h":z["Backspace"],"Alt-Backspace":z["Mod-Backspace"],"Ctrl-d":z["Delete"],"Ctrl-Alt-Backspace":z["Mod-Delete"],"Alt-Delete":z["Mod-Delete"],"Alt-d":z["Mod-Delete"],"Ctrl-a":C,"Ctrl-e":O};for(let $ in z)j[$]=z[$];const D="undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&"darwin"==os.platform(),P=D?j:z},"4ccc":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Yp})),n.d(t,"b",(function(){return Nu})),n.d(t,"c",(function(){return ru})),n.d(t,"d",(function(){return nu})),n.d(t,"e",(function(){return Mu})),n.d(t,"f",(function(){return Th})),n.d(t,"g",(function(){return Zp})),n.d(t,"h",(function(){return Dp})),n.d(t,"i",(function(){return eh})),n.d(t,"j",(function(){return Au})),n.d(t,"k",(function(){return Ru})),n.d(t,"l",(function(){return gu})),n.d(t,"m",(function(){return nh})),n.d(t,"o",(function(){return fh})),n.d(t,"p",(function(){return Lp})),n.d(t,"q",(function(){return Vp})),n.d(t,"r",(function(){return Qp}));var r=n("2b0e"),o=n("cd42");n.d(t,"n",(function(){return o["l"]}));var i=n("f23d"),s=n("6ffb"),l=n("986d"),a=n("299c"),c=n.n(a),u=n("eedf"),d=n.n(u),p=n("dcdc"),h=n.n(p),f=n("df33"),m=n.n(f),g=n("18ff"),v=n.n(g),y=n("defb"),b=n.n(y),w=n("b370"),x=n.n(w),k=n("6ac9"),S=n.n(k),_=n("89a9"),C=n.n(_),O=n("6ed5"),M=n.n(O),E=n("6f27"),T=n("fc88"),A="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};function N(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function R(e,t){return e(t={exports:{}},t.exports),t.exports}function I(e){return e&&e.default||e}var z=function(e){return e&&e.Math==Math&&e},j=z("object"==typeof globalThis&&globalThis)||z("object"==typeof window&&window)||z("object"==typeof self&&self)||z("object"==typeof A&&A)||Function("return this")(),D=function(e){try{return!!e()}catch(e){return!0}},P=!D((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),$={}.propertyIsEnumerable,F=Object.getOwnPropertyDescriptor,B={f:F&&!$.call({1:2},1)?function(e){var t=F(this,e);return!!t&&t.enumerable}:$},L=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},V={}.toString,q=function(e){return V.call(e).slice(8,-1)},H="".split,W=D((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==q(e)?H.call(e,""):Object(e)}:Object,U=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},J=function(e){return W(U(e))},K=function(e){return"object"==typeof e?null!==e:"function"==typeof e},G=function(e,t){if(!K(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!K(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!K(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!K(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},X={}.hasOwnProperty,Z=function(e,t){return X.call(e,t)},Y=j.document,Q=K(Y)&&K(Y.createElement),ee=function(e){return Q?Y.createElement(e):{}},te=!P&&!D((function(){return 7!=Object.defineProperty(ee("div"),"a",{get:function(){return 7}}).a})),ne=Object.getOwnPropertyDescriptor,re={f:P?ne:function(e,t){if(e=J(e),t=G(t,!0),te)try{return ne(e,t)}catch(e){}if(Z(e,t))return L(!B.f.call(e,t),e[t])}},oe=function(e){if(!K(e))throw TypeError(String(e)+" is not an object");return e},ie=Object.defineProperty,se={f:P?ie:function(e,t,n){if(oe(e),t=G(t,!0),oe(n),te)try{return ie(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},le=P?function(e,t,n){return se.f(e,t,L(1,n))}:function(e,t,n){return e[t]=n,e},ae=function(e,t){try{le(j,e,t)}catch(n){j[e]=t}return t},ce=j["__core-js_shared__"]||ae("__core-js_shared__",{}),ue=Function.toString;"function"!=typeof ce.inspectSource&&(ce.inspectSource=function(e){return ue.call(e)});var de,pe,he,fe=ce.inspectSource,me=j.WeakMap,ge="function"==typeof me&&/native code/.test(fe(me)),ve=R((function(e){(e.exports=function(e,t){return ce[e]||(ce[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),ye=0,be=Math.random(),we=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++ye+be).toString(36)},xe=ve("keys"),ke=function(e){return xe[e]||(xe[e]=we(e))},Se={},_e=j.WeakMap;if(ge){var Ce=new _e,Oe=Ce.get,Me=Ce.has,Ee=Ce.set;de=function(e,t){return Ee.call(Ce,e,t),t},pe=function(e){return Oe.call(Ce,e)||{}},he=function(e){return Me.call(Ce,e)}}else{var Te=ke("state");Se[Te]=!0,de=function(e,t){return le(e,Te,t),t},pe=function(e){return Z(e,Te)?e[Te]:{}},he=function(e){return Z(e,Te)}}var Ae,Ne,Re={set:de,get:pe,has:he,enforce:function(e){return he(e)?pe(e):de(e,{})},getterFor:function(e){return function(t){var n;if(!K(t)||(n=pe(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},Ie=R((function(e){var t=Re.get,n=Re.enforce,r=String(String).split("String");(e.exports=function(e,t,o,i){var s=!!i&&!!i.unsafe,l=!!i&&!!i.enumerable,a=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof t||Z(o,"name")||le(o,"name",t),n(o).source=r.join("string"==typeof t?t:"")),e!==j?(s?!a&&e[t]&&(l=!0):delete e[t],l?e[t]=o:le(e,t,o)):l?e[t]=o:ae(t,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||fe(this)}))})),ze=j,je=function(e){return"function"==typeof e?e:void 0},De=function(e,t){return arguments.length<2?je(ze[e])||je(j[e]):ze[e]&&ze[e][t]||j[e]&&j[e][t]},Pe=Math.ceil,$e=Math.floor,Fe=function(e){return isNaN(e=+e)?0:(e>0?$e:Pe)(e)},Be=Math.min,Le=function(e){return e>0?Be(Fe(e),9007199254740991):0},Ve=Math.max,qe=Math.min,He=function(e,t){var n=Fe(e);return n<0?Ve(n+t,0):qe(n,t)},We=function(e){return function(t,n,r){var o,i=J(t),s=Le(i.length),l=He(r,s);if(e&&n!=n){for(;s>l;)if((o=i[l++])!=o)return!0}else for(;s>l;l++)if((e||l in i)&&i[l]===n)return e||l||0;return!e&&-1}},Ue={includes:We(!0),indexOf:We(!1)},Je=Ue.indexOf,Ke=function(e,t){var n,r=J(e),o=0,i=[];for(n in r)!Z(Se,n)&&Z(r,n)&&i.push(n);for(;t.length>o;)Z(r,n=t[o++])&&(~Je(i,n)||i.push(n));return i},Ge=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Xe=Ge.concat("length","prototype"),Ze={f:Object.getOwnPropertyNames||function(e){return Ke(e,Xe)}},Ye={f:Object.getOwnPropertySymbols},Qe=De("Reflect","ownKeys")||function(e){var t=Ze.f(oe(e)),n=Ye.f;return n?t.concat(n(e)):t},et=function(e,t){for(var n=Qe(t),r=se.f,o=re.f,i=0;i<n.length;i++){var s=n[i];Z(e,s)||r(e,s,o(t,s))}},tt=/#|\.prototype\./,nt=function(e,t){var n=ot[rt(e)];return n==st||n!=it&&("function"==typeof t?D(t):!!t)},rt=nt.normalize=function(e){return String(e).replace(tt,".").toLowerCase()},ot=nt.data={},it=nt.NATIVE="N",st=nt.POLYFILL="P",lt=nt,at=re.f,ct=function(e,t){var n,r,o,i,s,l=e.target,a=e.global,c=e.stat;if(n=a?j:c?j[l]||ae(l,{}):(j[l]||{}).prototype)for(r in t){if(i=t[r],o=e.noTargetGet?(s=at(n,r))&&s.value:n[r],!lt(a?r:l+(c?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;et(i,o)}(e.sham||o&&o.sham)&&le(i,"sham",!0),Ie(n,r,i,e)}},ut=Array.isArray||function(e){return"Array"==q(e)},dt=function(e){return Object(U(e))},pt=function(e,t,n){var r=G(t);r in e?se.f(e,r,L(0,n)):e[r]=n},ht=!!Object.getOwnPropertySymbols&&!D((function(){return!String(Symbol())})),ft=ht&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,mt=ve("wks"),gt=j.Symbol,vt=ft?gt:gt&&gt.withoutSetter||we,yt=function(e){return Z(mt,e)||(ht&&Z(gt,e)?mt[e]=gt[e]:mt[e]=vt("Symbol."+e)),mt[e]},bt=yt("species"),wt=function(e,t){var n;return ut(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!ut(n.prototype)?K(n)&&null===(n=n[bt])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},xt=De("navigator","userAgent")||"",kt=j.process,St=kt&&kt.versions,_t=St&&St.v8;_t?Ne=(Ae=_t.split("."))[0]+Ae[1]:xt&&(!(Ae=xt.match(/Edge\/(\d+)/))||Ae[1]>=74)&&(Ae=xt.match(/Chrome\/(\d+)/))&&(Ne=Ae[1]);var Ct=Ne&&+Ne,Ot=yt("species"),Mt=function(e){return Ct>=51||!D((function(){var t=[];return(t.constructor={})[Ot]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Et=yt("isConcatSpreadable"),Tt=Ct>=51||!D((function(){var e=[];return e[Et]=!1,e.concat()[0]!==e})),At=Mt("concat"),Nt=function(e){if(!K(e))return!1;var t=e[Et];return void 0!==t?!!t:ut(e)};ct({target:"Array",proto:!0,forced:!Tt||!At},{concat:function(e){var t,n,r,o,i,s=dt(this),l=wt(s,0),a=0;for(t=-1,r=arguments.length;t<r;t++)if(Nt(i=-1===t?s:arguments[t])){if(a+(o=Le(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,a++)n in i&&pt(l,a,i[n])}else{if(a>=9007199254740991)throw TypeError("Maximum allowed index exceeded");pt(l,a++,i)}return l.length=a,l}});var Rt,It=Object.keys||function(e){return Ke(e,Ge)},zt=P?Object.defineProperties:function(e,t){oe(e);for(var n,r=It(t),o=r.length,i=0;o>i;)se.f(e,n=r[i++],t[n]);return e},jt=De("document","documentElement"),Dt=ke("IE_PROTO"),Pt=function(){},$t=function(e){return"<script>"+e+"<\/script>"},Ft=function(){try{Rt=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;Ft=Rt?function(e){e.write($t("")),e.close();var t=e.parentWindow.Object;return e=null,t}(Rt):((t=ee("iframe")).style.display="none",jt.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write($t("document.F=Object")),e.close(),e.F);for(var n=Ge.length;n--;)delete Ft.prototype[Ge[n]];return Ft()};Se[Dt]=!0;var Bt=Object.create||function(e,t){var n;return null!==e?(Pt.prototype=oe(e),n=new Pt,Pt.prototype=null,n[Dt]=e):n=Ft(),void 0===t?n:zt(n,t)},Lt=yt("unscopables"),Vt=Array.prototype;null==Vt[Lt]&&se.f(Vt,Lt,{configurable:!0,value:Bt(null)});var qt=function(e){Vt[Lt][e]=!0},Ht=Object.defineProperty,Wt={},Ut=function(e){throw e},Jt=function(e,t){if(Z(Wt,e))return Wt[e];t||(t={});var n=[][e],r=!!Z(t,"ACCESSORS")&&t.ACCESSORS,o=Z(t,0)?t[0]:Ut,i=Z(t,1)?t[1]:void 0;return Wt[e]=!!n&&!D((function(){if(r&&!P)return!0;var e={length:-1};r?Ht(e,1,{enumerable:!0,get:Ut}):e[1]=1,n.call(e,o,i)}))},Kt=Ue.includes,Gt=Jt("indexOf",{ACCESSORS:!0,1:0});ct({target:"Array",proto:!0,forced:!Gt},{includes:function(e){return Kt(this,e,arguments.length>1?arguments[1]:void 0)}}),qt("includes");var Xt=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},Zt=function(e){return function(t,n,r,o){Xt(n);var i=dt(t),s=W(i),l=Le(i.length),a=e?l-1:0,c=e?-1:1;if(r<2)for(;;){if(a in s){o=s[a],a+=c;break}if(a+=c,e?a<0:l<=a)throw TypeError("Reduce of empty array with no initial value")}for(;e?a>=0:l>a;a+=c)a in s&&(o=n(o,s[a],a,i));return o}},Yt=function(e,t){var n=[][e];return!!n&&D((function(){n.call(null,t||function(){throw 1},1)}))},Qt={left:Zt(!1),right:Zt(!0)}.left,en=Yt("reduce"),tn=Jt("reduce",{1:0});ct({target:"Array",proto:!0,forced:!en||!tn},{reduce:function(e){return Qt(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var nn=D((function(){It(1)}));ct({target:"Object",stat:!0,forced:nn},{keys:function(e){return It(dt(e))}});var rn=function(){var e=oe(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function on(e,t){return RegExp(e,t)}var sn={UNSUPPORTED_Y:D((function(){var e=on("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),BROKEN_CARET:D((function(){var e=on("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ln=RegExp.prototype.exec,an=String.prototype.replace,cn=ln,un=function(){var e=/a/,t=/b*/g;return ln.call(e,"a"),ln.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),dn=sn.UNSUPPORTED_Y||sn.BROKEN_CARET,pn=void 0!==/()??/.exec("")[1];(un||pn||dn)&&(cn=function(e){var t,n,r,o,i=this,s=dn&&i.sticky,l=rn.call(i),a=i.source,c=0,u=e;return s&&(-1===(l=l.replace("y","")).indexOf("g")&&(l+="g"),u=String(e).slice(i.lastIndex),i.lastIndex>0&&(!i.multiline||i.multiline&&"\n"!==e[i.lastIndex-1])&&(a="(?: "+a+")",u=" "+u,c++),n=new RegExp("^(?:"+a+")",l)),pn&&(n=new RegExp("^"+a+"$(?!\\s)",l)),un&&(t=i.lastIndex),r=ln.call(s?n:i,u),s?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=i.lastIndex,i.lastIndex+=r[0].length):i.lastIndex=0:un&&r&&(i.lastIndex=i.global?r.index+r[0].length:t),pn&&r&&r.length>1&&an.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r});var hn=cn;ct({target:"RegExp",proto:!0,forced:/./.exec!==hn},{exec:hn});var fn=yt("match"),mn=function(e){var t;return K(e)&&(void 0!==(t=e[fn])?!!t:"RegExp"==q(e))},gn=function(e){if(mn(e))throw TypeError("The method doesn't accept regular expressions");return e},vn=yt("match");ct({target:"String",proto:!0,forced:!function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[vn]=!1,"/./"[e](t)}catch(e){}}return!1}("includes")},{includes:function(e){return!!~String(U(this)).indexOf(gn(e),arguments.length>1?arguments[1]:void 0)}});var yn=yt("species"),bn=!D((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),wn="$0"==="a".replace(/./,"$0"),xn=yt("replace"),kn=!!/./[xn]&&""===/./[xn]("a","$0"),Sn=!D((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),_n=function(e,t,n,r){var o=yt(e),i=!D((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),s=i&&!D((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[yn]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!i||!s||"replace"===e&&(!bn||!wn||kn)||"split"===e&&!Sn){var l=/./[o],a=n(o,""[e],(function(e,t,n,r,o){return t.exec===hn?i&&!o?{done:!0,value:l.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:wn,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:kn}),c=a[0],u=a[1];Ie(String.prototype,e,c),Ie(RegExp.prototype,o,2==t?function(e,t){return u.call(e,this,t)}:function(e){return u.call(e,this)})}r&&le(RegExp.prototype[o],"sham",!0)},Cn=yt("species"),On=function(e,t){var n,r=oe(e).constructor;return void 0===r||null==(n=oe(r)[Cn])?t:Xt(n)},Mn=function(e){return function(t,n){var r,o,i=String(U(t)),s=Fe(n),l=i.length;return s<0||s>=l?e?"":void 0:(r=i.charCodeAt(s))<55296||r>56319||s+1===l||(o=i.charCodeAt(s+1))<56320||o>57343?e?i.charAt(s):r:e?i.slice(s,s+2):o-56320+(r-55296<<10)+65536}},En={codeAt:Mn(!1),charAt:Mn(!0)},Tn=En.charAt,An=function(e,t,n){return t+(n?Tn(e,t).length:1)},Nn=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==q(e))throw TypeError("RegExp#exec called on incompatible receiver");return hn.call(e,t)},Rn=[].push,In=Math.min,zn=!D((function(){return!RegExp(4294967295,"y")}));function jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pn(e,t,n){return t&&Dn(e.prototype,t),n&&Dn(e,n),e}_n("split",2,(function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(U(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!mn(e))return t.call(r,e,o);for(var i,s,l,a=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,d=new RegExp(e.source,c+"g");(i=hn.call(d,r))&&!((s=d.lastIndex)>u&&(a.push(r.slice(u,i.index)),i.length>1&&i.index<r.length&&Rn.apply(a,i.slice(1)),l=i[0].length,u=s,a.length>=o));)d.lastIndex===i.index&&d.lastIndex++;return u===r.length?!l&&d.test("")||a.push(""):a.push(r.slice(u)),a.length>o?a.slice(0,o):a}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var o=U(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(String(o),t,n)},function(e,o){var i=n(r,e,this,o,r!==t);if(i.done)return i.value;var s=oe(e),l=String(this),a=On(s,RegExp),c=s.unicode,u=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(zn?"y":"g"),d=new a(zn?s:"^(?:"+s.source+")",u),p=void 0===o?4294967295:o>>>0;if(0===p)return[];if(0===l.length)return null===Nn(d,l)?[l]:[];for(var h=0,f=0,m=[];f<l.length;){d.lastIndex=zn?f:0;var g,v=Nn(d,zn?l:l.slice(f));if(null===v||(g=In(Le(d.lastIndex+(zn?0:f)),l.length))===h)f=An(l,f,c);else{if(m.push(l.slice(h,f)),m.length===p)return m;for(var y=1;y<=v.length-1;y++)if(m.push(v[y]),m.length===p)return m;f=h=g}}return m.push(l.slice(h)),m}]}),!zn);var $n=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return oe(n),function(e){if(!K(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),Fn=function(e,t,n){var r,o;return $n&&"function"==typeof(r=t.constructor)&&r!==n&&K(o=r.prototype)&&o!==n.prototype&&$n(e,o),e},Bn=yt("species"),Ln=function(e){var t=De(e),n=se.f;P&&t&&!t[Bn]&&n(t,Bn,{configurable:!0,get:function(){return this}})},Vn=se.f,qn=Ze.f,Hn=Re.set,Wn=yt("match"),Un=j.RegExp,Jn=Un.prototype,Kn=/a/g,Gn=/a/g,Xn=new Un(Kn)!==Kn,Zn=sn.UNSUPPORTED_Y;if(P&&lt("RegExp",!Xn||Zn||D((function(){return Gn[Wn]=!1,Un(Kn)!=Kn||Un(Gn)==Gn||"/a/i"!=Un(Kn,"i")})))){for(var Yn=function(e,t){var n,r=this instanceof Yn,o=mn(e),i=void 0===t;if(!r&&o&&e.constructor===Yn&&i)return e;Xn?o&&!i&&(e=e.source):e instanceof Yn&&(i&&(t=rn.call(e)),e=e.source),Zn&&(n=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var s=Fn(Xn?new Un(e,t):Un(e,t),r?this:Jn,Yn);return Zn&&n&&Hn(s,{sticky:n}),s},Qn=function(e){e in Yn||Vn(Yn,e,{configurable:!0,get:function(){return Un[e]},set:function(t){Un[e]=t}})},er=qn(Un),tr=0;er.length>tr;)Qn(er[tr++]);Jn.constructor=Yn,Yn.prototype=Jn,Ie(j,"RegExp",Yn)}Ln("RegExp");var nr=RegExp.prototype,rr=nr.toString,or=D((function(){return"/a/b"!=rr.call({source:"a",flags:"b"})})),ir="toString"!=rr.name;(or||ir)&&Ie(RegExp.prototype,"toString",(function(){var e=oe(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in nr)?rn.call(e):n)}),{unsafe:!0});var sr=new RegExp("(".concat("left","|","center","|","right","|","justify",")")),lr=/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/,ar=function(){function e(){jn(this,e)}return Pn(e,null,[{key:"warn",value:function(e){console.warn("".concat("[Element-Tiptap Tip]"," ").concat(e))}},{key:"error",value:function(e){console.error("".concat("[Element-Tiptap Tip]"," ").concat(e))}}]),e}(),cr={en:{editor:{extensions:{Bold:{tooltip:"Bold"},Underline:{tooltip:"Underline"},Italic:{tooltip:"Italic"},Strike:{tooltip:"Strike through"},Heading:{tooltip:"Heading",buttons:{paragraph:"Paragraph",heading:"Heading"}},Blockquote:{tooltip:"Block quote"},CodeBlock:{tooltip:"Code block"},Link:{add:{tooltip:"Apply link",control:{title:"Apply Link",href:"Href",open_in_new_tab:"Open in new tab",confirm:"Apply",cancel:"Cancel"}},edit:{tooltip:"Edit link",control:{title:"Edit Link",href:"Href",open_in_new_tab:"Open in new tab",confirm:"Update",cancel:"Cancel"}},unlink:{tooltip:"Unlink"},open:{tooltip:"Open link"}},Image:{buttons:{insert_image:{tooltip:"Insert image",external:"Insert Image By Url",upload:"Upload Image"},remove_image:{tooltip:"Remove"},image_options:{tooltip:"Image options"},display:{tooltip:"Display",inline:"Inline",block:"Break Text",left:"Float Left",right:"Float Right"}},control:{insert_by_url:{title:"Insert image",placeholder:"Url of image",confirm:"Insert",cancel:"Cancel",invalid_url:"Please enter the correct url"},upload_image:{title:"Upload image",button:"Choose an image file or drag it here"},edit_image:{title:"Edit image",confirm:"Update",cancel:"Cancel",form:{src:"Image Url",alt:"Alternative Text",width:"Width",height:"Height"}}}},Iframe:{tooltip:"Insert video",control:{title:"Insert video",placeholder:"Href",confirm:"Insert",cancel:"Cancel"}},BulletList:{tooltip:"Bullet list"},OrderedList:{tooltip:"Ordered list"},TodoList:{tooltip:"Todo list"},TextAlign:{buttons:{align_left:{tooltip:"Align left"},align_center:{tooltip:"Align center"},align_right:{tooltip:"Align right"},align_justify:{tooltip:"Align justify"}}},FontType:{tooltip:"Font family"},FontSize:{tooltip:"Font size",default:"default"},TextColor:{tooltip:"Text color"},TextHighlight:{tooltip:"Text highlight"},LineHeight:{tooltip:"Line height"},Table:{tooltip:"Table",buttons:{insert_table:"Insert Table",add_column_before:"Add Column Before",add_column_after:"Add Column After",delete_column:"Delete Column",add_row_before:"Add Row Before",add_row_after:"Add Row After",delete_row:"Delete Row",merge_cells:"Merge Cells",split_cell:"Split Cell",delete_table:"Delete Table"}},Indent:{buttons:{indent:{tooltip:"Indent"},outdent:{tooltip:"Outdent"}}},FormatClear:{tooltip:"Clear format"},HorizontalRule:{tooltip:"Horizontal rule"},History:{tooltip:{undo:"Undo",redo:"Redo"}},Fullscreen:{tooltip:{fullscreen:"Full screen",exit_fullscreen:"Exit full screen"}},Print:{tooltip:"Print"},Preview:{tooltip:"Preview",dialog:{title:"Preview"}},SelectAll:{tooltip:"Select all"},CodeView:{tooltip:"Code view"}},characters:"Characters"}},zh:{editor:{extensions:{Bold:{tooltip:"粗体"},Underline:{tooltip:"下划线"},Italic:{tooltip:"斜体"},Strike:{tooltip:"中划线"},Heading:{tooltip:"标题",buttons:{paragraph:"正文",heading:"标题"}},Blockquote:{tooltip:"引用"},CodeBlock:{tooltip:"代码块"},Link:{add:{tooltip:"添加链接",control:{title:"添加链接",href:"链接",open_in_new_tab:"在新标签页中打开",confirm:"添加",cancel:"取消"}},edit:{tooltip:"编辑链接",control:{title:"编辑链接",href:"链接",open_in_new_tab:"在新标签页中打开",confirm:"更新",cancel:"取消"}},unlink:{tooltip:"取消链接"},open:{tooltip:"打开链接"}},Image:{buttons:{insert_image:{tooltip:"插入图片",external:"插入网络图片",upload:"上传本地图片"},remove_image:{tooltip:"删除"},image_options:{tooltip:"图片属性"},display:{tooltip:"布局",inline:"内联",block:"断行",left:"左浮动",right:"右浮动"}},control:{insert_by_url:{title:"插入网络图片",placeholder:"输入链接",confirm:"插入",cancel:"取消",invalid_url:"请输入正确的图片链接"},upload_image:{title:"上传本地图片",button:"将图片文件拖到此处或者点击上传"},edit_image:{title:"编辑图片",confirm:"更新",cancel:"取消",form:{src:"图片链接",alt:"备用文本描述",width:"宽度",height:"高度"}}}},Iframe:{tooltip:"插入视频",control:{title:"插入视频",placeholder:"输入链接",confirm:"插入",cancel:"取消"}},BulletList:{tooltip:"无序列表"},OrderedList:{tooltip:"有序列表"},TodoList:{tooltip:"任务列表"},TextAlign:{buttons:{align_left:{tooltip:"左对齐"},align_center:{tooltip:"居中对齐"},align_right:{tooltip:"右对齐"},align_justify:{tooltip:"两端对齐"}}},FontType:{tooltip:"字体"},FontSize:{tooltip:"字号",default:"默认"},TextColor:{tooltip:"文本颜色"},TextHighlight:{tooltip:"文本高亮"},LineHeight:{tooltip:"行距"},Table:{tooltip:"表格",buttons:{insert_table:"插入表格",add_column_before:"向左插入一列",add_column_after:"向右插入一列",delete_column:"删除列",add_row_before:"向上插入一行",add_row_after:"向下插入一行",delete_row:"删除行",merge_cells:"合并单元格",split_cell:"拆分单元格",delete_table:"删除表格"}},Indent:{buttons:{indent:{tooltip:"增加缩进"},outdent:{tooltip:"减少缩进"}}},FormatClear:{tooltip:"清除格式"},HorizontalRule:{tooltip:"分隔线"},History:{tooltip:{undo:"撤销",redo:"重做"}},Fullscreen:{tooltip:{fullscreen:"全屏",exit_fullscreen:"退出全屏"}},Print:{tooltip:"打印"},Preview:{tooltip:"预览",dialog:{title:"预览"}},SelectAll:{tooltip:"全选"},CodeView:{tooltip:"查看源代码"}},characters:"字数"}},zh_tw:{editor:{extensions:{Bold:{tooltip:"粗體"},Underline:{tooltip:"底線"},Italic:{tooltip:"斜體"},Strike:{tooltip:"刪除線"},Heading:{tooltip:"標題",buttons:{paragraph:"段落",heading:"標題"}},Blockquote:{tooltip:"引用"},CodeBlock:{tooltip:"程式碼"},Link:{add:{tooltip:"新增超連結",control:{title:"新增超連結",href:"超連結",open_in_new_tab:"在新分頁開啟",confirm:"新增",cancel:"取消"}},edit:{tooltip:"編輯超連結",control:{title:"編輯超連結",href:"超連結",open_in_new_tab:"在新分頁開啟",confirm:"更新",cancel:"取消"}},unlink:{tooltip:"取消超連結"},open:{tooltip:"打開超連結"}},Image:{buttons:{insert_image:{tooltip:"新增圖片",external:"新增網路圖片",upload:"上傳本機圖片"},remove_image:{tooltip:"刪除"},image_options:{tooltip:"圖片屬性"},display:{tooltip:"佈局",inline:"内聯",block:"塊",left:"左浮動",right:"右浮動"}},control:{insert_by_url:{title:"新增網路圖片",placeholder:"輸入超連結",confirm:"新增",cancel:"取消",invalid_url:"請輸入正確的圖片連結"},upload_image:{title:"上傳本機圖片",button:"將圖片文件拖到此處或者點擊上傳"},edit_image:{title:"編輯圖片",confirm:"更新",cancel:"取消",form:{src:"圖片連結",alt:"替代文字",width:"寬度",height:"高度"}}}},Iframe:{tooltip:"新增影片",control:{title:"新增影片",placeholder:"輸入超連結",confirm:"確認",cancel:"取消"}},BulletList:{tooltip:"無序列表"},OrderedList:{tooltip:"有序列表"},TodoList:{tooltip:"任務列表"},TextAlign:{buttons:{align_left:{tooltip:"置左"},align_center:{tooltip:"置中"},align_right:{tooltip:"置右"},align_justify:{tooltip:"水平對齊"}}},FontType:{tooltip:"字體"},FontSize:{tooltip:"字體大小",default:"默認"},TextColor:{tooltip:"文字顏色"},TextHighlight:{tooltip:"文字反白"},LineHeight:{tooltip:"行距"},Table:{tooltip:"表格",buttons:{insert_table:"新增表格",add_column_before:"向左新增一列",add_column_after:"向右新增一列",delete_column:"刪除列",add_row_before:"向上新增一行",add_row_after:"向下新增一行",delete_row:"删除行",merge_cells:"合併",split_cell:"分離儲存格",delete_table:"删除表格"}},Indent:{buttons:{indent:{tooltip:"增加縮排"},outdent:{tooltip:"减少縮排"}}},FormatClear:{tooltip:"清除格式"},HorizontalRule:{tooltip:"分隔線"},History:{tooltip:{undo:"復原",redo:"取消復原"}},Fullscreen:{tooltip:{fullscreen:"全螢幕",exit_fullscreen:"退出全螢幕"}},Print:{tooltip:"列印"},Preview:{tooltip:"預覽",dialog:{title:"預覽"}},SelectAll:{tooltip:"全選"},CodeView:{tooltip:"查看原始碼"}},characters:"字數"}},pl:{editor:{extensions:{Bold:{tooltip:"Pogrubienie"},Underline:{tooltip:"Podkreślenie"},Italic:{tooltip:"Kursywa"},Strike:{tooltip:"Przekreślenie"},Heading:{tooltip:"Nagłówek",buttons:{paragraph:"Paragraf",heading:"Nagłówek"}},Blockquote:{tooltip:"Cytat"},CodeBlock:{tooltip:"Kod"},Link:{add:{tooltip:"Dodaj link",control:{title:"Dodaj Link",href:"Źródło",open_in_new_tab:"Otwórz w nowej karcie",confirm:"Dodaj",cancel:"Anuluj"}},edit:{tooltip:"Edytuj link",control:{title:"Edytuj link",href:"Źródło",open_in_new_tab:"Otwórz w nowej karcie",confirm:"aktualizacja",cancel:"Anuluj"}},unlink:{tooltip:"Odczepić"},open:{tooltip:"Otwórz link"}},Image:{buttons:{insert_image:{tooltip:"Dodaj obraz",external:"Dodaj obraz online",upload:"Dodaj obraz z dysku"},remove_image:{tooltip:"Usuń"},image_options:{tooltip:"Opcje obrazu"},display:{tooltip:"Pokaz",inline:"Inline",block:"Podziel tekst",left:"Przesuń w lewo",right:"Płyń w prawo"}},control:{insert_by_url:{title:"Dodawanie obrazu online",placeholder:"URL obrazu",confirm:"Dodaj",cancel:"Zamknij",invalid_url:"Proszę podać prawidłowy link prowadzący do obrazu"},upload_image:{title:"Dodawanie obrazu z dysku",button:"Wskaż obraz lub przeciągnij go tutaj"},edit_image:{title:"Edytuj obraz",confirm:"Aktualizacja",cancel:"Zamknij",form:{src:"URL obrazu",alt:"Alternatywny Tekst",width:"Szerokość",height:"Wysokość"}}}},Iframe:{tooltip:"Dodaj film",control:{title:"Dodaj film",placeholder:"URL filmu",confirm:"Dodaj",cancel:"Zamknij"}},BulletList:{tooltip:"Lista wypunktowana"},OrderedList:{tooltip:"Lista uporządkowana"},TodoList:{tooltip:"Lista rzeczy do zrobienia"},TextAlign:{buttons:{align_left:{tooltip:"Wyrównaj do lewej"},align_center:{tooltip:"Wyśrodkuj"},align_right:{tooltip:"Wyrównaj do prawej"},align_justify:{tooltip:"Wyjustuj"}}},FontType:{tooltip:"Rodzina czcionek"},FontSize:{tooltip:"Rozmiar czcionki",default:"domyślna"},TextColor:{tooltip:"Kolor tekstu"},TextHighlight:{tooltip:"Podświetlenie tekstu"},LineHeight:{tooltip:"Wysokość linii"},Table:{tooltip:"Tabela",buttons:{insert_table:"Dodaj tabelę",add_column_before:"Dodaj kolumnę przed",add_column_afer:"Dodaj kolumnę za",delete_column:"Usuń kolumnę",add_row_before:"Dodaj wiersz przed",add_row_after:"Dodaj wiersz za",delete_row:"Usuń wiersz",merge_cells:"Połącz komórki",split_cell:"Rozdziel komórki",delete_table:"Usuń tabelę"}},Indent:{buttons:{indent:{tooltip:"Zwiększ wcięcie"},outdent:{tooltip:"Zmniejsz wcięcie"}}},FormatClear:{tooltip:"Wyczyść formatowanie"},HorizontalRule:{tooltip:"Linia pozioma"},History:{tooltip:{undo:"Cofnij",redo:"Powtórz"}},Fullscreen:{tooltip:{fullscreen:"Pełny ekran",exit_fullscreen:"Zamknij pełny ekran"}},Print:{tooltip:"Drukuj"},Preview:{tooltip:"Podgląd",dialog:{title:"Podgląd"}},SelectAll:{tooltip:"Zaznacz wszystko"},CodeView:{tooltip:"Widok kodu"}},characters:"Znaki"}},ru:{editor:{extensions:{Bold:{tooltip:"Полужирный"},Underline:{tooltip:"Подчеркнутый"},Italic:{tooltip:"Курсив"},Strike:{tooltip:"Зачеркнутый"},Heading:{tooltip:"Заголовок",buttons:{paragraph:"Параграф",heading:"Заголовок"}},Blockquote:{tooltip:"Цитата"},CodeBlock:{tooltip:"Блок кода"},Link:{add:{tooltip:"Добавить ссылку",control:{title:"Добавить ссылку",href:"Адрес",open_in_new_tab:"Открыть в новой вкладке",confirm:"Применить",cancel:"Отменить"}},edit:{tooltip:"Редактировать ссылку",control:{title:"Редактировать ссылку",href:"Адрес",open_in_new_tab:"Открыть в новой вкладке",confirm:"Обновить",cancel:"Отменить"}},unlink:{tooltip:"Удалить ссылку"},open:{tooltip:"Открыть ссылку"}},Image:{buttons:{insert_image:{tooltip:"Вставить картинку",external:"Вставить картинку по ссылке",upload:"Загрузить картинку"},remove_image:{tooltip:"Удалить"},image_options:{tooltip:"Опции изображения"},display:{tooltip:"Положение",inline:"В тексте",block:"Обтекание текстом",left:"Слева",right:"Справа"}},control:{insert_by_url:{title:"Вставить картинку",placeholder:"Адрес картинки",confirm:"Вставить",cancel:"Отменить",invalid_url:"Пожалуйста введите правильный адрес"},upload_image:{title:"Загрузить картинку",button:"Выберите файл изображения или перетащите сюда"},edit_image:{title:"Редактировать изображение",confirm:"Обновить",cancel:"Отменить",form:{src:"Адрес картинки",alt:"Альтернативный текст",width:"Ширина",height:"Высота"}}}},Iframe:{tooltip:"Вставить видео",control:{title:"Вставить видео",placeholder:"Адрес",confirm:"Вставить",cancel:"Отменить"}},BulletList:{tooltip:"Маркированный список"},OrderedList:{tooltip:"Нумерованный список"},TodoList:{tooltip:"Список задач"},TextAlign:{buttons:{align_left:{tooltip:"Выровнять по левому краю"},align_center:{tooltip:"Выровнять по центру"},align_right:{tooltip:"Выровнять по правому краю"},align_justify:{tooltip:"Выровнять по ширине"}}},FontType:{tooltip:"Шрифт"},FontSize:{tooltip:"Размер шрифта",default:"По умолчанию"},TextColor:{tooltip:"Цвет текста"},TextHighlight:{tooltip:"Цвет выделения текста"},LineHeight:{tooltip:"Интервал"},Table:{tooltip:"Таблица",buttons:{insert_table:"Вставить таблицу",add_column_before:"Добавить столбец слева",add_column_after:"Добавить столбец справа",delete_column:"Удалить столбец",add_row_before:"Добавить строку сверху",add_row_after:"Добавить строку снизу",delete_row:"Удалить строку",merge_cells:"Объединить ячейки",split_cell:"Разделить ячейки",delete_table:"Удалить таблицу"}},Indent:{buttons:{indent:{tooltip:"Увеличить отступ"},outdent:{tooltip:"Уменьшить отступ"}}},FormatClear:{tooltip:"Очистить форматирование"},HorizontalRule:{tooltip:"Горизонтальная линия"},History:{tooltip:{undo:"Отменить",redo:"Повторить"}},Fullscreen:{tooltip:{fullscreen:"Полноэкранный режим",exit_fullscreen:"Выйти из полноэкранного режима"}},Print:{tooltip:"Печать"},Preview:{tooltip:"Предварительный просмотр",dialog:{title:"Предварительный просмотр"}},SelectAll:{tooltip:"Выделить все"},CodeView:{tooltip:"Просмотр кода"}},characters:"Количество символов"}},de:{editor:{extensions:{Bold:{tooltip:"Fett"},Underline:{tooltip:"Unterstrichen"},Italic:{tooltip:"Kursiv"},Strike:{tooltip:"Durchgestrichen"},Heading:{tooltip:"Überschrift",buttons:{paragraph:"Absatz",heading:"Überschrift"}},Blockquote:{tooltip:"Zitat"},CodeBlock:{tooltip:"Codeblock"},Link:{add:{tooltip:"Link hinzufügen",control:{title:"Link hinzufügen",href:"Link",open_in_new_tab:"Öffnen Sie in einem neuen Tab",confirm:"Hinzufügen",cancel:"Abbrechen"}},edit:{tooltip:"Link bearbeiten",control:{title:"Link bearbeiten",href:"Link",open_in_new_tab:"Öffnen Sie in einem neuen Tab",confirm:"Speichern",cancel:"Abbrechen"}},unlink:{tooltip:"Link entfernen"},open:{tooltip:"Link öffnen"}},Image:{buttons:{insert_image:{tooltip:"Bild einfügen",external:"Bild von URL einfügen",upload:"Bild hochladen"},remove_image:{tooltip:"Entfernen"},image_options:{tooltip:"Bildoptionen"},display:{tooltip:"Textumbruch",inline:"In der Zeile",block:"Text teilen",left:"Links",right:"Rechts"}},control:{insert_by_url:{title:"Bild einfügen",placeholder:"Bild URL",confirm:"Einfügen",cancel:"Abbrechen",invalid_url:"Diese URL hat ein ungültiges Format"},upload_image:{title:"Bild hochladen",button:"Wählen Sie ein Bild aus, oder ziehen Sie ein Bild auf dieses Feld"},edit_image:{title:"Bild Bearbeiten",confirm:"Speichern",cancel:"Abbrechen",form:{src:"Bild URL",alt:"Alternativer Text (angezeigt beim Überfahren mit Maus)",width:"Breite",height:"Höhe"}}}},Iframe:{tooltip:"Video einfügen",control:{title:"Video einfügen",placeholder:"Link",confirm:"Einfügen",cancel:"Abbrechen"}},BulletList:{tooltip:"Aufzählungsliste"},OrderedList:{tooltip:"Nummerierte Liste"},TodoList:{tooltip:"Erledigungsliste"},TextAlign:{buttons:{align_left:{tooltip:"Linksbündig"},align_center:{tooltip:"Zentriert"},align_right:{tooltip:"Rechtsbündig"},align_justify:{tooltip:"Blocksatz"}}},FontType:{tooltip:"Schriftfamilie"},FontSize:{tooltip:"Schriftgröße",default:"standard"},TextColor:{tooltip:"Textfarbe"},TextHighlight:{tooltip:"Hervorhebungsfarbe"},LineHeight:{tooltip:"Zeilenabstand"},Table:{tooltip:"Tabelle",buttons:{insert_table:"Tabelle einfügen",add_column_before:"Spalte vorher einfügen",add_column_after:"Spalte nachher einfügen",delete_column:"Spalte löschen",add_row_before:"Zeile vorher einfügen",add_row_after:"Zeile nachher einfügen",delete_row:"Zeile löschen",merge_cells:"Zellen verbinden",split_cell:"Zellen aufteilen",delete_table:"Tabelle löschen"}},Indent:{buttons:{indent:{tooltip:"Einzug vergrößern"},outdent:{tooltip:"Einzug verringern"}}},FormatClear:{tooltip:"Formattierung entfernen"},HorizontalRule:{tooltip:"Horizontale Linie"},History:{tooltip:{undo:"Rückgängig",redo:"Wiederholen"}},Fullscreen:{tooltip:{fullscreen:"Vollbild",exit_fullscreen:"Vollbild verlassen"}},Print:{tooltip:"Drucken"},Preview:{tooltip:"Vorschau",dialog:{title:"Vorschau"}},SelectAll:{tooltip:"Alles auswählen"},CodeView:{tooltip:"Codeansicht"}},characters:"Zeichen"}},ko:{editor:{extensions:{Bold:{tooltip:"굵게"},Underline:{tooltip:"밑줄"},Italic:{tooltip:"기울임"},Strike:{tooltip:"취소선"},Heading:{tooltip:"문단 형식",buttons:{paragraph:"문단",heading:"제목"}},Blockquote:{tooltip:"인용"},CodeBlock:{tooltip:"코드"},Link:{add:{tooltip:"링크 추가",control:{title:"링크 추가",href:"URL주소",open_in_new_tab:"새 탭에서 열기",confirm:"적용",cancel:"취소"}},edit:{tooltip:"링크 편집",control:{title:"링크 편집",href:"URL주소",open_in_new_tab:"새 탭에서 열기",confirm:"적용",cancel:"취소"}},unlink:{tooltip:"링크 제거"},open:{tooltip:"링크 열기"}},Image:{buttons:{insert_image:{tooltip:"이미지 추가",external:"이미지 URL을 입력하세요.",upload:"이미지 업로드"},remove_image:{tooltip:"제거"},image_options:{tooltip:"이미지 옵션"},display:{tooltip:"표시",inline:"인라인",block:"새줄",left:"좌측 정렬",right:"우측 정렬"}},control:{insert_by_url:{title:"이미지 추가",placeholder:"이미지 URL",confirm:"추가",cancel:"취소",invalid_url:"정확한 URL을 입력하세요"},upload_image:{title:"이미지 업로드",button:"이미지 파일을 선택하거나 끌어넣기 하세요"},edit_image:{title:"이미지 편집",confirm:"적용",cancel:"취소",form:{src:"이미지 URL",alt:"대체 텍스트",width:"너비",height:"높이"}}}},Iframe:{tooltip:"비디오 추가",control:{title:"비디오 추가",placeholder:"비디오 URL",confirm:"추가",cancel:"취소"}},BulletList:{tooltip:"비번호 목록"},OrderedList:{tooltip:"번호 목록"},TodoList:{tooltip:"할일 목록"},TextAlign:{buttons:{align_left:{tooltip:"좌측 정렬"},align_center:{tooltip:"중앙 정렬"},align_right:{tooltip:"우측 정렬"},align_justify:{tooltip:"좌우 정렬"}}},FontType:{tooltip:"폰트"},FontSize:{tooltip:"글자 크기",default:"기본"},TextColor:{tooltip:"글자 색"},TextHighlight:{tooltip:"글자 강조"},LineHeight:{tooltip:"줄 높이"},Table:{tooltip:"테이블",buttons:{insert_table:"테이블 추가",add_column_before:"이전에 열 추가",add_column_after:"이후에 열 추가",delete_column:"열 삭제",add_row_before:"이전에 줄 추가",add_row_after:"이후에 줄 추가",delete_row:"줄 삭제",merge_cells:"셀 병합",split_cell:"셀 분할",delete_table:"테이블 삭제"}},Indent:{buttons:{indent:{tooltip:"들여 쓰기"},outdent:{tooltip:"내어 쓰기"}}},FormatClear:{tooltip:"형식 지우기"},HorizontalRule:{tooltip:"가로 줄"},History:{tooltip:{undo:"되돌리기",redo:"다시 실행"}},Fullscreen:{tooltip:{fullscreen:"전체화면",exit_fullscreen:"전체화면 나가기"}},Print:{tooltip:"인쇄"},Preview:{tooltip:"미리보기",dialog:{title:"미리보기"}},SelectAll:{tooltip:"전체선택"},CodeView:{tooltip:"코드 뷰"}},characters:"문자수"}},es:{editor:{extensions:{Bold:{tooltip:"Negrita"},Underline:{tooltip:"Subrayado"},Italic:{tooltip:"Cursiva"},Strike:{tooltip:"Texto tachado"},Heading:{tooltip:"Encabezado",buttons:{paragraph:"Párrafo",heading:"Encabezado"}},Blockquote:{tooltip:"Bloque de cita"},CodeBlock:{tooltip:"Bloque de código"},Link:{add:{tooltip:"Crear enlace",control:{title:"Crear enlace",href:"Href",open_in_new_tab:"Abrir en una pestaña nueva",confirm:"Crear",cancel:"Cancelar"}},edit:{tooltip:"Editar enlace",control:{title:"Editar enlace",href:"Href",open_in_new_tab:"Abrir en una pestaña nueva",confirm:"Actualizar",cancel:"Cancelar"}},unlink:{tooltip:"Desenlazar"},open:{tooltip:"Abrir enlace"}},Image:{buttons:{insert_image:{tooltip:"Insertar imagen",external:"Insertar imagen desde Url",upload:"Cargar imagen"},remove_image:{tooltip:"Eliminar"},image_options:{tooltip:"Opciones de imagen"},display:{tooltip:"Visualización",inline:"En línea",block:"Bloque",left:"Flotar a la izquierda",right:"Flotar a la derecha"}},control:{insert_by_url:{title:"Insertar imagen",placeholder:"Url de la imagen",confirm:"Insertar",cancel:"Cancelar",invalid_url:"Por favor introduce una Url válida"},upload_image:{title:"Cargar imagen",button:"Selecciona una imagen o arrástrala aquí"},edit_image:{title:"Editar imagen",confirm:"Actualizar",cancel:"Cancelar",form:{src:"Url de la imagen",alt:"Texto alternativo",width:"Ancho",height:"Alto"}}}},Iframe:{tooltip:"Insertar vídeo",control:{title:"Insertar vídeo",placeholder:"Href",confirm:"Insertar",cancel:"Cancelar"}},BulletList:{tooltip:"Lista desordenada"},OrderedList:{tooltip:"Lista ordenada"},TodoList:{tooltip:"Lista de tareas"},TextAlign:{buttons:{align_left:{tooltip:"Alinear a la izquierda"},align_center:{tooltip:"Centrar texto"},align_right:{tooltip:"Alinear a la derecha"},align_justify:{tooltip:"Texto justificado"}}},FontType:{tooltip:"Fuente"},FontSize:{tooltip:"Tamaño de fuente",default:"por defecto"},TextColor:{tooltip:"Color de texto"},TextHighlight:{tooltip:"Resaltar texto"},LineHeight:{tooltip:"Altura de línea"},Table:{tooltip:"Tabla",buttons:{insert_table:"Insertar tabla",add_column_before:"Añadir columna antes",add_column_after:"Añadir columna después",delete_column:"Eliminar columna",add_row_before:"Añadir fila antes",add_row_after:"Añadir fila después",delete_row:"Eliminar fila",merge_cells:"Fusionar celdas",split_cell:"Separar celda",delete_table:"Eliminar la tabla"}},Indent:{buttons:{indent:{tooltip:"Indentar"},outdent:{tooltip:"Desindentar"}}},FormatClear:{tooltip:"Borrar formato"},HorizontalRule:{tooltip:"Separador horizontal"},History:{tooltip:{undo:"Deshacer",redo:"Rehacer"}},Fullscreen:{tooltip:{fullscreen:"Pantalla completa",exit_fullscreen:"Salir de pantalla completa"}},Print:{tooltip:"Imprimir"},Preview:{tooltip:"Vista previa",dialog:{title:"Vista previa"}},SelectAll:{tooltip:"Seleccionar todo"},CodeView:{tooltip:"Vista de código"}},characters:"Caracteres"}},fr:{editor:{extensions:{Bold:{tooltip:"Gras"},Underline:{tooltip:"Souligné"},Italic:{tooltip:"Italique"},Strike:{tooltip:"Barré"},Heading:{tooltip:"Titre",buttons:{paragraph:"Paragraphe",heading:"Titre"}},Blockquote:{tooltip:"Citation"},CodeBlock:{tooltip:"Bloc de code"},Link:{add:{tooltip:"Appliquer le lien",control:{title:"Appliquer le lien",href:"Cible du lien",open_in_new_tab:"Ouvrir dans un nouvel onglet",confirm:"Appliquer",cancel:"Annuler"}},edit:{tooltip:"Editer le lien",control:{title:"Editer le lien",href:"Cible du lien",open_in_new_tab:"Ouvrir dans un nouvel onglet",confirm:"Mettre à jour",cancel:"Annuler"}},unlink:{tooltip:"Supprimer le lien"},open:{tooltip:"Ouvrir le lien"}},Image:{buttons:{insert_image:{tooltip:"Insérer une image",external:"Insérer une image via un lien",upload:"Télécharger une image"},remove_image:{tooltip:"Retirer"},image_options:{tooltip:"Options de l'image"},display:{tooltip:"Affichage",inline:"En ligne",block:"Rupture du texte",left:"Floter à gauche",right:"Floter à droite"}},control:{insert_by_url:{title:"Insérer une image",placeholder:"Lien de l'image",confirm:"Insérer",cancel:"Annuler",invalid_url:"Lien de l'image incorrect, merci de corriger"},upload_image:{title:"Télécharger une image",button:"Choisir une image ou déposer celle-ci ici"},edit_image:{title:"Editer l'image",confirm:"Mettre à jour",cancel:"Annuler",form:{src:"Lien de l'image",alt:"Texte alternatif",width:"Largeur",height:"Hauteur"}}}},Iframe:{tooltip:"Insérer une video",control:{title:"Insérer une video",placeholder:"Lien",confirm:"Insérer",cancel:"Annuler"}},BulletList:{tooltip:"Liste à puces"},OrderedList:{tooltip:"Liste ordonnée"},TodoList:{tooltip:"Liste de choses à faire"},TextAlign:{buttons:{align_left:{tooltip:"Aligner à gauche"},align_center:{tooltip:"Aigner au centre"},align_right:{tooltip:"Aligner à droite"},align_justify:{tooltip:"Justifier"}}},FontType:{tooltip:"Police de caractère"},FontSize:{tooltip:"Taille de la police",default:"Par défaut"},TextColor:{tooltip:"Couleur du texte"},TextHighlight:{tooltip:"Texte surligné"},LineHeight:{tooltip:"Hauteur de ligne"},Table:{tooltip:"Tableau",buttons:{insert_table:"Insérer un tableau",add_column_before:"Ajouter une colonne avant",add_column_after:"Ajouter une colonne après",delete_column:"Supprimer une colonne",add_row_before:"Ajouter une ligne avant",add_row_after:"Ajouter une ligna après",delete_row:"Supprimer une ligne",merge_cells:"Fusionner les cellules",split_cell:"Diviser la cellule",delete_table:"Supprimer le tableau"}},Indent:{buttons:{indent:{tooltip:"Retrait positif"},outdent:{tooltip:"Retrait négatif"}}},FormatClear:{tooltip:"Supprimer le formatage"},HorizontalRule:{tooltip:"Ligne horizontal"},History:{tooltip:{undo:"Annuler",redo:"Refaire"}},Fullscreen:{tooltip:{fullscreen:"Plein écran",exit_fullscreen:"Sortir du plein écran"}},Print:{tooltip:"Impression"},Preview:{tooltip:"Prévisualisation",dialog:{title:"Prévisualisation"}},SelectAll:{tooltip:"Tout sélectionner"},CodeView:{tooltip:"Voir le code source"}},characters:"Caractères"}},pt_br:{editor:{extensions:{Bold:{tooltip:"Negrito"},Underline:{tooltip:"Sublinhado"},Italic:{tooltip:"Itálico"},Strike:{tooltip:"Riscado"},Heading:{tooltip:"Cabeçalho",buttons:{paragraph:"Parágrafo",heading:"Cabeçalho"}},Blockquote:{tooltip:"Bloco de citação"},CodeBlock:{tooltip:"Bloco de código"},Link:{add:{tooltip:"Inserir Link",control:{title:"Inserir Link",href:"Link de Referência",open_in_new_tab:"Abrir em nova aba",confirm:"Inserir",cancel:"Cancelar"}},edit:{tooltip:"Editar link",control:{title:"Editar Link",href:"Link de Referência",open_in_new_tab:"Abrir em nova aba",confirm:"Alterar",cancel:"Cancelar"}},unlink:{tooltip:"Excluir"},open:{tooltip:"Abrir link"}},Image:{buttons:{insert_image:{tooltip:"Inserir imagem",external:"Inserir Imagem com Url",upload:"Enviar Imagem"},remove_image:{tooltip:"Remover"},image_options:{tooltip:"Opções da Imagem"},display:{tooltip:"Visualização",inline:"Em Linha",block:"Quebra de Texto",left:"Para esquerda",right:"Para direita"}},control:{insert_by_url:{title:"Inserir imagem",placeholder:"Url da imagem",confirm:"Inserir",cancel:"Cancelar",invalid_url:"Por favor, entre com o link correto"},upload_image:{title:"Enviar imagem",button:"Escolha uma imagem ou arraste para cá"},edit_image:{title:"Editar imagem",confirm:"Alterar",cancel:"Cancelar",form:{src:"Imagem Url",alt:"Texto alternativo",width:"Largura",height:"Altura"}}}},Iframe:{tooltip:"Inserir vídeo",control:{title:"Inserir vídeo",placeholder:"Link de Referência",confirm:"Inserir",cancel:"Cancelar"}},BulletList:{tooltip:"Lista de Marcadores"},OrderedList:{tooltip:"Lista Enumerada"},TodoList:{tooltip:"Lista de afazeres"},TextAlign:{buttons:{align_left:{tooltip:"Alinhar a esquerda"},align_center:{tooltip:"Alinhar ao centro"},align_right:{tooltip:"Alinhar a direita"},align_justify:{tooltip:"Alinhamento justificado"}}},FontType:{tooltip:"Fonte"},FontSize:{tooltip:"Tamnaho da Fonte",default:"padrão"},TextColor:{tooltip:"Cor do Texto"},TextHighlight:{tooltip:"Cor de destaque"},LineHeight:{tooltip:"Altura da Linha"},Table:{tooltip:"Tabela",buttons:{insert_table:"Inserir Tabela",add_column_before:"Adicionar coluna antes",add_column_after:"Adicionar coluna depois",delete_column:"Deletar coluna",add_row_before:"Adicionar linha antes",add_row_after:"Adicionar linha depois",delete_row:"Deletar linha",merge_cells:"Mesclar células",split_cell:"Dividir célula",delete_table:"Deletar tabela"}},Indent:{buttons:{indent:{tooltip:"Aumentar Recuo"},outdent:{tooltip:"Diminuir Recuo"}}},FormatClear:{tooltip:"Limpar formatação"},HorizontalRule:{tooltip:"Linha horizontal"},History:{tooltip:{undo:"Desafazer",redo:"Refazer"}},Fullscreen:{tooltip:{fullscreen:"Tela cheia",exit_fullscreen:"Fechar tela cheia"}},Print:{tooltip:"Imprimir"},Preview:{tooltip:"Pre visualizar",dialog:{title:"Pre visualizar"}},SelectAll:{tooltip:"Selecionar Todos"},CodeView:{tooltip:"Visualização de Código"}},characters:"Caracteres"}},nl:{editor:{extensions:{Bold:{tooltip:"Vet"},Underline:{tooltip:"Onderstrepen"},Italic:{tooltip:"Cursief"},Strike:{tooltip:"Doorhalen"},Heading:{tooltip:"Hoofdstuk",buttons:{paragraph:"Paragraaf",heading:"Hoofdstuk"}},Blockquote:{tooltip:"Citaat blokkeren"},CodeBlock:{tooltip:"Codeblok"},Link:{add:{tooltip:"Link toepassen",control:{title:"Link toepassen",href:"Link",open_in_new_tab:"Openen in nieuw tabblad",confirm:"Toepassen",cancel:"Annuleren"}},edit:{tooltip:"Link bewerken",control:{title:"Link bewerken",href:"Link",open_in_new_tab:"Openen in nieuw tabblad",confirm:"Bijwerken",cancel:"Annuleren"}},unlink:{tooltip:"Link verwijderen"},open:{tooltip:"Link openen"}},Image:{buttons:{insert_image:{tooltip:"Afbeelding invoegen",external:"Afbeelding invoegen via URL",upload:"Afbeelding uploaden"},remove_image:{tooltip:"Verwijderen"},image_options:{tooltip:"Afbeeldingsopties"},display:{tooltip:"Weergeven",inline:"In tekstregel",block:"Tekst afbreken",left:"Links uitlijnen",right:"Rechts uitlijnen"}},control:{insert_by_url:{title:"Afbeelding invoegen",placeholder:"URL van afbeelding",confirm:"Invoegen",cancel:"Annuleren",invalid_url:"Vul een geldige URL in"},upload_image:{title:"Afbeelding uploaden",button:"Kies een afbeelding of sleep het hier"},edit_image:{title:"Afbeelding bewerken",confirm:"Bijwerken",cancel:"Annuleren",form:{src:"Afbeelding URL",alt:"Alternatieve tekst",width:"Breedte",height:"Hoogte"}}}},Iframe:{tooltip:"Video invoegen",control:{title:"Video invoegen",placeholder:"Link",confirm:"Invoegen",cancel:"Annuleren"}},BulletList:{tooltip:"Opsommingslijst"},OrderedList:{tooltip:"Genummerde lijst"},TodoList:{tooltip:"Takenlijst"},TextAlign:{buttons:{align_left:{tooltip:"Links uitlijnen"},align_center:{tooltip:"Centreren"},align_right:{tooltip:"Rechts uitlijnen"},align_justify:{tooltip:"Tekst uitvullen"}}},FontType:{tooltip:"Lettertype"},FontSize:{tooltip:"Tekengrootte",default:"Standaard"},TextColor:{tooltip:"Tekstkleur"},TextHighlight:{tooltip:"Tekst markeren"},LineHeight:{tooltip:"Regelafstand"},Table:{tooltip:"Tabel",buttons:{insert_table:"Tabel invoegen",add_column_before:"Kolom links invoegen",add_column_after:"Kolom rechts invoegen",delete_column:"Kolom verwijderen",add_row_before:"Rij boven toevoegen",add_row_after:"Rij onder toevoegen",delete_row:"Rij verwijderen",merge_cells:"Cellen samenvoegen",split_cell:"Cellen splitsen",delete_table:"Cellen verwijderen"}},Indent:{buttons:{indent:{tooltip:"Inspringen"},outdent:{tooltip:"Uitspringen"}}},FormatClear:{tooltip:"Opmaak wissen"},HorizontalRule:{tooltip:"Horizontale regel"},History:{tooltip:{undo:"Ongedaan maken",redo:"Herhalen"}},Fullscreen:{tooltip:{fullscreen:"Volledig scherm",exit_fullscreen:"Volledig scherm sluiten"}},Print:{tooltip:"Afdrukken"},Preview:{tooltip:"Voorbeeld",dialog:{title:"Voorbeeld"}},SelectAll:{tooltip:"Selecteer alles"},CodeView:{tooltip:"Codeweergave"}},characters:"Karakters"}},he:{editor:{extensions:{Bold:{tooltip:"מודגש"},Underline:{tooltip:"קו תחתון"},Italic:{tooltip:"הטה"},Strike:{tooltip:"קו חוצה"},Heading:{tooltip:"כותרת",buttons:{paragraph:"פסקה",heading:"כותרת"}},Blockquote:{tooltip:"ציטוט"},CodeBlock:{tooltip:"קוד"},Link:{add:{tooltip:"החל קישור",control:{title:"החל קישור",href:"קישור",open_in_new_tab:"פתח בחלון חדש",confirm:"החל",cancel:"ביטול"}},edit:{tooltip:"ערוך קישור",control:{title:"ערוך קישור",href:"קישור",open_in_new_tab:"פתח בחלון חדש",confirm:"עידכון",cancel:"ביטול"}},unlink:{tooltip:"הסר קישור"},open:{tooltip:"פתח קישור"}},Image:{buttons:{insert_image:{tooltip:"הוספת תמונה",external:"הוספת תמונה לפי קישור",upload:"העלאת תמונה"},remove_image:{tooltip:"הסר"},image_options:{tooltip:"אפשרויות תמונה"},display:{tooltip:"הצג",inline:"בשורה",block:"שבור טקסט",left:"הצמד לשמאל",right:"הצמד לימין"}},control:{insert_by_url:{title:"הוספת תמונה",placeholder:"קישור לתמונה",confirm:"הוספה",cancel:"ביטול",invalid_url:"נא הזן קישור תקין"},upload_image:{title:"העלאת תמונה",button:"לחץ כאן לבחירת תמונה מתיקיה או גרור אותה הנה"},edit_image:{title:"עריכה תמונה",confirm:"עדכון",cancel:"ביטול",form:{src:"קישור לתמונה",alt:"טקסט חלופי",width:"רוחב",height:"גובה"}}}},Iframe:{tooltip:"הוספת סרטון",control:{title:"הוספת סרטון",placeholder:"קישור",confirm:"הוספה",cancel:"ביטול"}},BulletList:{tooltip:"תבליטים"},OrderedList:{tooltip:"מספור"},TodoList:{tooltip:"רשימת משימות"},TextAlign:{buttons:{align_left:{tooltip:"ישר לשמאל"},align_center:{tooltip:"ישר לאמצע"},align_right:{tooltip:"ישר לימין"},align_justify:{tooltip:"ישר לשני הצדדים"}}},FontType:{tooltip:"גופן"},FontSize:{tooltip:"גודל גופן",default:"ברירת מחדל"},TextColor:{tooltip:"צבע טקסט"},TextHighlight:{tooltip:"צבע סימון טקסט"},LineHeight:{tooltip:"גובה שורה"},Table:{tooltip:"טבלה",buttons:{insert_table:"הוסף טבלה",add_column_before:"הוסף עמודה לפני",add_column_after:"הוסף עמודה אחרי",delete_column:"מחק עמודה",add_row_before:"הוסף שורה לפני",add_row_after:"הוסף שורה אחרי",delete_row:"מחק שורה",merge_cells:"מיזוג תאים",split_cell:"פיצול תא",delete_table:"מחיקת טבלה"}},Indent:{buttons:{indent:{tooltip:"בקטן כניסה"},outdent:{tooltip:"הגדל כניסה"}}},FormatClear:{tooltip:"נקה עיצוב"},HorizontalRule:{tooltip:"קו אופקי"},History:{tooltip:{undo:"הקודם",redo:"הבא"}},Fullscreen:{tooltip:{fullscreen:"מסך מלא",exit_fullscreen:"יציאה ממסך מלא"}},Print:{tooltip:"הדפס"},Preview:{tooltip:"תצוגה מקדימה",dialog:{title:"תצוגה מקדימה"}},SelectAll:{tooltip:"בחר הכל"},CodeView:{tooltip:"תצוגת קוד"}},characters:"תווים"}}},ur={get defaultLanguage(){return"en"},get supportedLanguages(){return Object.keys(cr)},loadLanguage:function(e){return cr[e]},isLangSupported:function(e){return this.supportedLanguages.includes(e)},buildI18nHandler:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";this.isLangSupported(t)?e=t:(ar.warn("Can't find the current language \"".concat(t,'", Using language "').concat("en",'" by default. Welcome contribution to https://github.com/Leecason/element-tiptap')),e="en");var n=this.loadLanguage(e);return function(e){return e.split(".").reduce((function(e,t){return e[t]}),n)}}},dr=function(e,t,n){if(Xt(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},pr=[].push,hr=function(e){var t=1==e,n=2==e,r=3==e,o=4==e,i=6==e,s=5==e||i;return function(l,a,c,u){for(var d,p,h=dt(l),f=W(h),m=dr(a,c,3),g=Le(f.length),v=0,y=u||wt,b=t?y(l,g):n?y(l,0):void 0;g>v;v++)if((s||v in f)&&(p=m(d=f[v],v,h),e))if(t)b[v]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return v;case 2:pr.call(b,d)}else if(o)return!1;return i?-1:r||o?o:b}},fr={forEach:hr(0),map:hr(1),filter:hr(2),some:hr(3),every:hr(4),find:hr(5),findIndex:hr(6)},mr=fr.find,gr=!0,vr=Jt("find");"find"in[]&&Array(1).find((function(){gr=!1})),ct({target:"Array",proto:!0,forced:gr||!vr},{find:function(e){return mr(this,e,arguments.length>1?arguments[1]:void 0)}}),qt("find");var yr=se.f,br=Function.prototype,wr=br.toString,xr=/^\s*function ([^ (]*)/;P&&!("name"in br)&&yr(br,"name",{configurable:!0,get:function(){try{return wr.call(this).match(xr)[1]}catch(e){return""}}});var kr=Object.assign,Sr=Object.defineProperty,_r=!kr||D((function(){if(P&&1!==kr({b:1},kr(Sr({},"a",{enumerable:!0,get:function(){Sr(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=kr({},e)[n]||"abcdefghijklmnopqrst"!=It(kr({},t)).join("")}))?function(e,t){for(var n=dt(e),r=arguments.length,o=1,i=Ye.f,s=B.f;r>o;)for(var l,a=W(arguments[o++]),c=i?It(a).concat(i(a)):It(a),u=c.length,d=0;u>d;)l=c[d++],P&&!s.call(a,l)||(n[l]=a[l]);return n}:kr;function Cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Or(e){return function(e){if(Array.isArray(e))return Cr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Cr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Er(e,t){return(Er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Er(e,t)}function Ar(e){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nr(e){return(Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rr(e,t){return!t||"object"!==Nr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ar(e);if(t){var o=Ar(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rr(this,n)}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function zr(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function jr(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function l(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,l)}a((r=r.apply(e,t||[])).next())}))}
/**
  * vue-class-component v7.2.3
  * (c) 2015-present Evan You
  * @license MIT
  */function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Fr(){return"undefined"!=typeof Reflect&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function Br(e,t){Lr(e,t),Object.getOwnPropertyNames(t.prototype).forEach((function(n){Lr(e.prototype,t.prototype,n)})),Object.getOwnPropertyNames(t).forEach((function(n){Lr(e,t,n)}))}function Lr(e,t,n){(n?Reflect.getOwnMetadataKeys(t,n):Reflect.getOwnMetadataKeys(t)).forEach((function(r){var o=n?Reflect.getOwnMetadata(r,t,n):Reflect.getOwnMetadata(r,t);n?Reflect.defineMetadata(r,o,e,n):Reflect.defineMetadata(r,o,e)}))}ct({target:"Object",stat:!0,forced:Object.assign!==_r},{assign:_r});var Vr={__proto__:[]}instanceof Array;function qr(e){return function(t,n,r){var o="function"==typeof t?t:t.constructor;o.__decorators__||(o.__decorators__=[]),"number"!=typeof r&&(r=void 0),o.__decorators__.push((function(t){return e(t,n,r)}))}}function Hr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r["default"].extend({mixins:t})}function Wr(e,t){var n=t.prototype._init;t.prototype._init=function(){var t=this,n=Object.getOwnPropertyNames(e);if(e.$options.props)for(var r in e.$options.props)e.hasOwnProperty(r)||n.push(r);n.forEach((function(n){"_"!==n.charAt(0)&&Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){e[n]=t},configurable:!0})}))};var r=new t;t.prototype._init=n;var o={};return Object.keys(r).forEach((function(e){void 0!==r[e]&&(o[e]=r[e])})),o}var Ur=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function Jr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var n=e.prototype;Object.getOwnPropertyNames(n).forEach((function(e){if("constructor"!==e)if(Ur.indexOf(e)>-1)t[e]=n[e];else{var r=Object.getOwnPropertyDescriptor(n,e);void 0!==r.value?"function"==typeof r.value?(t.methods||(t.methods={}))[e]=r.value:(t.mixins||(t.mixins=[])).push({data:function(){return Pr({},e,r.value)}}):(r.get||r.set)&&((t.computed||(t.computed={}))[e]={get:r.get,set:r.set})}})),(t.mixins||(t.mixins=[])).push({data:function(){return Wr(this,e)}});var o=e.__decorators__;o&&(o.forEach((function(e){return e(t)})),delete e.__decorators__);var i=Object.getPrototypeOf(e.prototype),s=i instanceof r["default"]?i.constructor:r["default"],l=s.extend(t);return Gr(l,e,s),Fr()&&Br(l,e),l}var Kr={prototype:!0,arguments:!0,callee:!0,caller:!0};function Gr(e,t,n){Object.getOwnPropertyNames(t).forEach((function(r){if(!Kr[r]){var o=Object.getOwnPropertyDescriptor(e,r);if(!o||o.configurable){var i=Object.getOwnPropertyDescriptor(t,r);if(!Vr){if("cid"===r)return;var s=Object.getOwnPropertyDescriptor(n,r);if(!function(e){var t=Dr(e);return null==e||"object"!==t&&"function"!==t}(i.value)&&s&&s.value===i.value)return}Object.defineProperty(e,r,i)}}}))}function Xr(e){return"function"==typeof e?Jr(e):function(t){return Jr(t,e)}}function Zr(e){return qr((function(t,n){void 0===t.inject&&(t.inject={}),Array.isArray(t.inject)||(t.inject[n]=e||n)}))}Xr.registerHooks=function(e){Ur.push.apply(Ur,$r(e))};var Yr="undefined"!=typeof Reflect&&void 0!==Reflect.getMetadata;function Qr(e,t,n){if(Yr&&!Array.isArray(e)&&"function"!=typeof e&&void 0===e.type){var r=Reflect.getMetadata("design:type",t,n);r!==Object&&(e.type=r)}}function eo(e){return void 0===e&&(e={}),function(t,n){Qr(e,t,n),qr((function(t,n){(t.props||(t.props={}))[n]=e}))(t,n)}}function to(e,t){void 0===t&&(t={});var n=t.deep,r=void 0!==n&&n,o=t.immediate,i=void 0!==o&&o;return qr((function(t,n){"object"!=typeof t.watch&&(t.watch=Object.create(null));var o=t.watch;"object"!=typeof o[e]||Array.isArray(o[e])?void 0===o[e]&&(o[e]=[]):o[e]=[o[e]],o[e].push({handler:n,deep:r,immediate:i})}))}var no=/\B([A-Z])/g;function ro(e){return function(t,n,r){var o=n.replace(no,"-$1").toLowerCase(),i=r.value;r.value=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var s=function(r){var i=e||o;void 0===r?0===n.length?t.$emit(i):1===n.length?t.$emit(i,n[0]):t.$emit.apply(t,[i].concat(n)):0===n.length?t.$emit(i,r):1===n.length?t.$emit(i,r,n[0]):t.$emit.apply(t,[i,r].concat(n))},l=i.apply(this,n);return oo(l)?l.then((function(e){s(e)})):s(l),l}}}function oo(e){return e instanceof Promise||e&&"function"==typeof e.then}var io=function(e){Tr(n,o["f"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"name",get:function(){return"content_attributes"}},{key:"defaultOptions",get:function(){return{spellcheck:!0}}},{key:"plugins",get:function(){return[new s["Plugin"]({props:{attributes:Object.assign({},this.options)}})]}}]),n}(),so=Mt("slice"),lo=Jt("slice",{ACCESSORS:!0,0:0,1:2}),ao=yt("species"),co=[].slice,uo=Math.max;ct({target:"Array",proto:!0,forced:!so||!lo},{slice:function(e,t){var n,r,o,i=J(this),s=Le(i.length),l=He(e,s),a=He(void 0===t?s:t,s);if(ut(i)&&("function"!=typeof(n=i.constructor)||n!==Array&&!ut(n.prototype)?K(n)&&null===(n=n[ao])&&(n=void 0):n=void 0,n===Array||void 0===n))return co.call(i,l,a);for(r=new(void 0===n?Array:n)(uo(a-l,0)),o=0;l<a;l++,o++)l in i&&pt(r,o,i[l]);return r.length=o,r}});var po="\t\n\v\f\r                　\u2028\u2029\ufeff",ho="["+po+"]",fo=RegExp("^"+ho+ho+"*"),mo=RegExp(ho+ho+"*$"),go=function(e){return function(t){var n=String(U(t));return 1&e&&(n=n.replace(fo,"")),2&e&&(n=n.replace(mo,"")),n}},vo={start:go(1),end:go(2),trim:go(3)},yo=Ze.f,bo=re.f,wo=se.f,xo=vo.trim,ko=j.Number,So=ko.prototype,_o="Number"==q(Bt(So)),Co=function(e){var t,n,r,o,i,s,l,a,c=G(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=xo(c)).charCodeAt(0))||45===t){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+c}for(s=(i=c.slice(2)).length,l=0;l<s;l++)if((a=i.charCodeAt(l))<48||a>o)return NaN;return parseInt(i,r)}return+c};if(lt("Number",!ko(" 0o1")||!ko("0b1")||ko("+0x1"))){for(var Oo,Mo=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof Mo&&(_o?D((function(){So.valueOf.call(n)})):"Number"!=q(n))?Fn(new ko(Co(t)),n,Mo):Co(t)},Eo=P?yo(ko):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),To=0;Eo.length>To;To++)Z(ko,Oo=Eo[To])&&!Z(Mo,Oo)&&wo(Mo,Oo,bo(ko,Oo));Mo.prototype=So,So.constructor=Mo,Ie(j,"Number",Mo)}ct({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var Ao={};Ao[yt("toStringTag")]="z";var No="[object z]"===String(Ao),Ro=yt("toStringTag"),Io="Arguments"==q(function(){return arguments}()),zo=No?q:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Ro))?n:Io?q(t):"Object"==(r=q(t))&&"function"==typeof t.callee?"Arguments":r},jo=No?{}.toString:function(){return"[object "+zo(this)+"]"};No||Ie(Object.prototype,"toString",jo,{unsafe:!0});var Do=j.Promise,Po=function(e,t,n){for(var r in t)Ie(e,r,t[r],n);return e},$o=se.f,Fo=yt("toStringTag"),Bo=function(e,t,n){e&&!Z(e=n?e:e.prototype,Fo)&&$o(e,Fo,{configurable:!0,value:t})},Lo=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},Vo={},qo=yt("iterator"),Ho=Array.prototype,Wo=function(e){return void 0!==e&&(Vo.Array===e||Ho[qo]===e)},Uo=yt("iterator"),Jo=function(e){if(null!=e)return e[Uo]||e["@@iterator"]||Vo[zo(e)]},Ko=function(e,t,n,r){try{return r?t(oe(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&oe(o.call(e)),t}},Go=R((function(e){var t=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,n,r,o,i){var s,l,a,c,u,d,p,h=dr(n,r,o?2:1);if(i)s=e;else{if("function"!=typeof(l=Jo(e)))throw TypeError("Target is not iterable");if(Wo(l)){for(a=0,c=Le(e.length);c>a;a++)if((u=o?h(oe(p=e[a])[0],p[1]):h(e[a]))&&u instanceof t)return u;return new t(!1)}s=l.call(e)}for(d=s.next;!(p=d.call(s)).done;)if("object"==typeof(u=Ko(s,h,p.value,o))&&u&&u instanceof t)return u;return new t(!1)}).stop=function(e){return new t(!0,e)}})),Xo=yt("iterator"),Zo=!1;try{var Yo=0,Qo={next:function(){return{done:!!Yo++}},return:function(){Zo=!0}};Qo[Xo]=function(){return this},Array.from(Qo,(function(){throw 2}))}catch(Pf){}var ei,ti,ni,ri=function(e,t){if(!t&&!Zo)return!1;var n=!1;try{var r={};r[Xo]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},oi=/(iphone|ipod|ipad).*applewebkit/i.test(xt),ii=j.location,si=j.setImmediate,li=j.clearImmediate,ai=j.process,ci=j.MessageChannel,ui=j.Dispatch,di=0,pi={},hi=function(e){if(pi.hasOwnProperty(e)){var t=pi[e];delete pi[e],t()}},fi=function(e){return function(){hi(e)}},mi=function(e){hi(e.data)},gi=function(e){j.postMessage(e+"",ii.protocol+"//"+ii.host)};si&&li||(si=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return pi[++di]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},ei(di),di},li=function(e){delete pi[e]},"process"==q(ai)?ei=function(e){ai.nextTick(fi(e))}:ui&&ui.now?ei=function(e){ui.now(fi(e))}:ci&&!oi?(ni=(ti=new ci).port2,ti.port1.onmessage=mi,ei=dr(ni.postMessage,ni,1)):!j.addEventListener||"function"!=typeof postMessage||j.importScripts||D(gi)||"file:"===ii.protocol?ei="onreadystatechange"in ee("script")?function(e){jt.appendChild(ee("script")).onreadystatechange=function(){jt.removeChild(this),hi(e)}}:function(e){setTimeout(fi(e),0)}:(ei=gi,j.addEventListener("message",mi,!1)));var vi,yi,bi,wi,xi,ki,Si,_i,Ci={set:si,clear:li},Oi=re.f,Mi=Ci.set,Ei=j.MutationObserver||j.WebKitMutationObserver,Ti=j.process,Ai=j.Promise,Ni="process"==q(Ti),Ri=Oi(j,"queueMicrotask"),Ii=Ri&&Ri.value;Ii||(vi=function(){var e,t;for(Ni&&(e=Ti.domain)&&e.exit();yi;){t=yi.fn,yi=yi.next;try{t()}catch(e){throw yi?wi():bi=void 0,e}}bi=void 0,e&&e.enter()},Ni?wi=function(){Ti.nextTick(vi)}:Ei&&!oi?(xi=!0,ki=document.createTextNode(""),new Ei(vi).observe(ki,{characterData:!0}),wi=function(){ki.data=xi=!xi}):Ai&&Ai.resolve?(Si=Ai.resolve(void 0),_i=Si.then,wi=function(){_i.call(Si,vi)}):wi=function(){Mi.call(j,vi)});var zi,ji,Di,Pi,$i=Ii||function(e){var t={fn:e,next:void 0};bi&&(bi.next=t),yi||(yi=t,wi()),bi=t},Fi=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=Xt(t),this.reject=Xt(n)},Bi={f:function(e){return new Fi(e)}},Li=function(e,t){if(oe(e),K(t)&&t.constructor===e)return t;var n=Bi.f(e);return(0,n.resolve)(t),n.promise},Vi=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},qi=Ci.set,Hi=yt("species"),Wi="Promise",Ui=Re.get,Ji=Re.set,Ki=Re.getterFor(Wi),Gi=Do,Xi=j.TypeError,Zi=j.document,Yi=j.process,Qi=De("fetch"),es=Bi.f,ts=es,ns="process"==q(Yi),rs=!!(Zi&&Zi.createEvent&&j.dispatchEvent),is=lt(Wi,(function(){if(fe(Gi)===String(Gi)){if(66===Ct)return!0;if(!ns&&"function"!=typeof PromiseRejectionEvent)return!0}if(Ct>=51&&/native code/.test(Gi))return!1;var e=Gi.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[Hi]=t,!(e.then((function(){}))instanceof t)})),ss=is||!ri((function(e){Gi.all(e).catch((function(){}))})),ls=function(e){var t;return!(!K(e)||"function"!=typeof(t=e.then))&&t},as=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;$i((function(){for(var o=t.value,i=1==t.state,s=0;r.length>s;){var l,a,c,u=r[s++],d=i?u.ok:u.fail,p=u.resolve,h=u.reject,f=u.domain;try{d?(i||(2===t.rejection&&ps(e,t),t.rejection=1),!0===d?l=o:(f&&f.enter(),l=d(o),f&&(f.exit(),c=!0)),l===u.promise?h(Xi("Promise-chain cycle")):(a=ls(l))?a.call(l,p,h):p(l)):h(o)}catch(e){f&&!c&&f.exit(),h(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&us(e,t)}))}},cs=function(e,t,n){var r,o;rs?((r=Zi.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),j.dispatchEvent(r)):r={promise:t,reason:n},(o=j["on"+e])?o(r):"unhandledrejection"===e&&function(e,t){var n=j.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},us=function(e,t){qi.call(j,(function(){var n,r=t.value;if(ds(t)&&(n=Vi((function(){ns?Yi.emit("unhandledRejection",r,e):cs("unhandledrejection",e,r)})),t.rejection=ns||ds(t)?2:1,n.error))throw n.value}))},ds=function(e){return 1!==e.rejection&&!e.parent},ps=function(e,t){qi.call(j,(function(){ns?Yi.emit("rejectionHandled",e):cs("rejectionhandled",e,t.value)}))},hs=function(e,t,n,r){return function(o){e(t,n,o,r)}},fs=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,as(e,t,!0))},ms=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw Xi("Promise can't be resolved itself");var o=ls(n);o?$i((function(){var r={done:!1};try{o.call(n,hs(ms,e,r,t),hs(fs,e,r,t))}catch(n){fs(e,r,n,t)}})):(t.value=n,t.state=1,as(e,t,!1))}catch(n){fs(e,{done:!1},n,t)}}};function gs(e){return Number.isNaN(e)}function vs(e,t,n){return e<t?t:e>n?n:e}function ys(e){var t=new FileReader;return new Promise((function(n,r){t.onload=function(e){return n(e.target.result)},t.onerror=r,t.readAsDataURL(e)}))}is&&(Gi=function(e){Lo(this,Gi,Wi),Xt(e),zi.call(this);var t=Ui(this);try{e(hs(ms,this,t),hs(fs,this,t))}catch(e){fs(this,t,e)}},(zi=function(e){Ji(this,{type:Wi,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=Po(Gi.prototype,{then:function(e,t){var n=Ki(this),r=es(On(this,Gi));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=ns?Yi.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&as(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),ji=function(){var e=new zi,t=Ui(e);this.promise=e,this.resolve=hs(ms,e,t),this.reject=hs(fs,e,t)},Bi.f=es=function(e){return e===Gi||e===Di?new ji(e):ts(e)},"function"==typeof Do&&(Pi=Do.prototype.then,Ie(Do.prototype,"then",(function(e,t){var n=this;return new Gi((function(e,t){Pi.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof Qi&&ct({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return Li(Gi,Qi.apply(j,arguments))}}))),ct({global:!0,wrap:!0,forced:is},{Promise:Gi}),Bo(Gi,Wi,!1),Ln(Wi),Di=De(Wi),ct({target:Wi,stat:!0,forced:is},{reject:function(e){var t=es(this);return t.reject.call(void 0,e),t.promise}}),ct({target:Wi,stat:!0,forced:is},{resolve:function(e){return Li(this,e)}}),ct({target:Wi,stat:!0,forced:ss},{all:function(e){var t=this,n=es(t),r=n.resolve,o=n.reject,i=Vi((function(){var n=Xt(t.resolve),i=[],s=0,l=1;Go(e,(function(e){var a=s++,c=!1;i.push(void 0),l++,n.call(t,e).then((function(e){c||(c=!0,i[a]=e,--l||r(i))}),o)})),--l||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=es(t),r=n.reject,o=Vi((function(){var o=Xt(t.resolve);Go(e,(function(e){o.call(t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}});var bs=function(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),ws=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"elTiptapEditorStyle",get:function(){return[this.editorSizeStyle]}},{key:"editorSizeStyle",get:function(){var e=this.width,t=this.height;return{width:e=gs(Number(e))?e:"".concat(e).concat("px"),height:t=gs(Number(t))?t:"".concat(t).concat("px")}}}]),n}();zr([eo({type:[String,Number],default:void 0})],ws.prototype,"width",void 0),zr([eo({type:[String,Number],default:void 0})],ws.prototype,"height",void 0),zr([eo({type:Boolean,default:!0})],ws.prototype,"showMenubar",void 0),zr([eo({type:Boolean,default:!0})],ws.prototype,"charCounterCount",void 0);var xs=ws=zr([Xr],ws),ks=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).cmInstance=null,e.isCodeViewMode=!1,e}return Pn(n,[{key:"onCodeViewModeChange",value:function(e){var t=this;if(e)this.$nextTick((function(){return!t.cmInstance&&t.initCodemirror()}));else if(this.cmInstance){var n=this.cmInstance.getValue();this.editor.setContent(n,!0),this.destroyCodemirror()}}},{key:"initCodemirror",value:function(){var e=this.extensions.find((function(e){return"code_view"===e.name}));if(e){var t=e.options,n=t.codemirror,r=t.codemirrorOptions;if(n){var o=Object.assign(Object.assign({},r),{readOnly:this.readonly,spellcheck:this.spellcheckEnabled});this.cmInstance=n.fromTextArea(this.$refs.cmTextArea,o),this.cmInstance.setValue(this.editor.getHTML()),this.formatCode()}}}},{key:"destroyCodemirror",value:function(){var e=this.cmInstance.doc.cm.getWrapperElement();e&&e.remove&&e.remove(),this.cmInstance=null}},{key:"formatCode",value:function(){var e=this.cmInstance;e.execCommand("selectAll");var t={from:e.getCursor(!0),to:e.getCursor(!1)};e.autoFormatRange(t.from,t.to),e.setCursor(0)}}]),n}();zr([to("isCodeViewMode")],ks.prototype,"onCodeViewModeChange",null);var Ss=ks=zr([Xr],ks),_s=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"generateCommandButtonComponentSpecs",value:function(e){var t=this;return this.editor.extensions.extensions.reduce((function(n,r){if(!1===r.options.menubar)return n;if("function"!=typeof r.menuBtnView)return n;var o=r.menuBtnView(Object.assign(Object.assign({},e),{editor:t.editor,t:t.et.t}));return Array.isArray(o)?[].concat(Or(n),Or(o)):[].concat(Or(n),[o])}),[])}}]),n}();function Cs(e,t,n,r,o,i,s,l,a,c){"boolean"!=typeof s&&(a=l,l=s,s=!1);const u="function"==typeof n?n.options:n;let d;if(e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,o&&(u.functional=!0)),r&&(u._scopeId=r),i?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,a(e)),e&&e._registeredComponents&&e._registeredComponents.add(i)},u._ssrRegister=d):t&&(d=s?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,l(e))}),d)if(u.functional){const e=u.render;u.render=function(t,n){return d.call(n),e(t,n)}}else{const e=u.beforeCreate;u.beforeCreate=e?[].concat(e,d):[d]}return n}zr([eo({type:o["b"],required:!0})],_s.prototype,"editor",void 0),zr([Zr()],_s.prototype,"et",void 0);const Os=Cs({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("editor-menu-bar",{attrs:{editor:e.editor},scopedSlots:e._u([{key:"default",fn:function(t){return[e._t("default",[n("div",{staticClass:"el-tiptap-editor__menu-bar"},e._l(e.generateCommandButtonComponentSpecs(t),(function(t,r){return n(t.component,e._g(e._b({key:"command-button"+r,tag:"component",attrs:{"enable-tooltip":e.et.tooltip,readonly:e.et.isCodeViewMode}},"component",t.componentProps,!1),t.componentEvents))})),1)],null,t)]}}],null,!0)})},staticRenderFns:[]},void 0,_s=zr([Xr({components:{EditorMenuBar:o["d"]}})],_s),void 0,!1,void 0,!1,void 0,void 0,void 0);var Ms=fr.some,Es=Yt("some"),Ts=Jt("some");ct({target:"Array",proto:!0,forced:!Es||!Ts},{some:function(e){return Ms(this,e,arguments.length>1?arguments[1]:void 0)}});var As=/"/g,Ns=function(e,t,n,r){var o=String(U(e)),i="<"+t;return""!==n&&(i+=" "+n+'="'+String(r).replace(As,"&quot;")+'"'),i+">"+o+"</"+t+">"},Rs=function(e){return D((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))};ct({target:"String",proto:!0,forced:Rs("link")},{link:function(e){return Ns(this,"a","href",e)}});for(var Is="-_",zs=36;zs--;)Is+=zs.toString(36);for(zs=36;zs---10;)Is+=zs.toString(36).toUpperCase();let js={};function Ds(e,t){t?t.constructor.super.util.warn(e,t):console.error(e)}var Ps={name:"fa-icon",props:{name:{type:String,validator(e){return!e||e in js||(Ds(`Invalid prop: prop "name" is referring to an unregistered icon "${e}".\nPlease make sure you have imported this icon before using it.`,this),!1)}},title:String,scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:e=>"horizontal"===e||"vertical"===e||"both"===e},label:String,tabindex:[Number,String]},data:()=>({id:Fs("va-"),x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}),computed:{normalizedScale(){let e=this.scale;return e=void 0===e?1:Number(e),isNaN(e)||e<=0?(Ds('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):e*this.outerScale},klass(){let e={"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-flip-both":"both"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse};return this.classes&&Object.keys(this.classes).forEach(t=>{this.classes[t]&&(e[t]=!0)}),e},icon(){return this.name?js[this.name]:null},box(){return this.icon?`0 0 ${this.icon.width} ${this.icon.height}`:`0 0 ${this.width} ${this.height}`},ratio(){if(!this.icon)return 1;let{width:e,height:t}=this.icon;return Math.max(e,t)/16},width(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw(){if(!this.icon||!this.icon.raw)return null;let e=this.icon.raw,t={};return e=e.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,(e,n,r)=>{let o=Fs("vat-");return t[r]=o,` id="${o}"`}),e=e.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(e,n,r,o)=>{let i=n||o;return i&&t[i]?"#"+t[i]:e}),e},focusable(){let{tabindex:e}=this;return null==e?"false":("string"==typeof e?parseInt(e,10):e)>=0?null:"false"}},mounted(){this.updateStack()},updated(){this.updateStack()},methods:{updateStack(){if(!this.name&&null!==this.name&&0===this.$children.length)return void Ds('Invalid prop: prop "name" is required.',this);if(this.icon)return;let e=0,t=0;this.$children.forEach(n=>{n.outerScale=this.normalizedScale,e=Math.max(e,n.width),t=Math.max(t,n.height)}),this.childrenWidth=e,this.childrenHeight=t,this.$children.forEach(n=>{n.x=(e-n.width)/2,n.y=(t-n.height)/2})}},render(e){if(null===this.name)return e();let t={class:this.klass,style:this.style,attrs:{role:this.$attrs.role||(this.label||this.title?"img":null),"aria-label":this.label||null,"aria-hidden":!(this.label||this.title),tabindex:this.tabindex,x:this.x,y:this.y,width:this.width,height:this.height,viewBox:this.box,focusable:this.focusable},on:this.$listeners},n=this.id;if(this.title&&(t.attrs["aria-labelledby"]=n),this.raw){let e=`<g>${this.raw}</g>`;this.title&&(e=`<title id="${n}">${function(e){return e.replace(/[<>"&]/g,e=>Bs[e]||e)}(this.title)}</title>${e}`),t.domProps={innerHTML:e}}let r=this.title?[e("title",{attrs:{id:n}},this.title)]:[];return e("svg",t,this.raw?null:r.concat([e("g",this.$slots.default||(this.icon?[...this.icon.paths.map((t,n)=>e("path",{attrs:t,key:"path-"+n})),...this.icon.polygons.map((t,n)=>e("polygon",{attrs:t,key:"polygon-"+n}))]:[]))]))},register(e){for(let t in e){let n=e[t],{paths:r=[],d:o,polygons:i=[],points:s}=n;o&&r.push({d:o}),s&&i.push({points:s}),js[t]=$s({},n,{paths:r,polygons:i})}},icons:js};function $s(e,...t){return t.forEach(t=>{for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}),e}function Fs(e=""){return e+function(e){var t="";for(zs=e||21;zs--;)t+=Is[64*Math.random()|0];return t}(7)}const Bs={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"},Ls=Cs({},void 0,Ps,void 0,void 0,void 0,!1,void 0,void 0,void 0);function Vs(e){return function(e){if(Array.isArray(e))return qs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return qs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qs(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hs(e,t){var n=e.selection,r=n.from,o=n.to,i=[];e.doc.nodesBetween(r,o,(function(e){i=[].concat(Vs(i),Vs(e.marks))}));var s=i.find((function(e){return e.type.name===t.name}));return s?s.attrs:{}}function Ws(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e||!t)return!1;var n=e.parent.childAfter(e.parentOffset);if(!n.node)return!1;var r=n.node.marks.find((function(e){return e.type===t}));if(!r)return!1;for(var o=e.index(),i=e.start()+n.offset,s=o+1,l=i+n.node.nodeSize;o>0&&r.isInSet(e.parent.child(o-1).marks);)o-=1,i-=e.parent.child(o).nodeSize;for(;s<e.parent.childCount&&r.isInSet(e.parent.child(s).marks);)l+=e.parent.child(s).nodeSize,s+=1;return{from:i,to:l}}Ls.register({heading:{width:512,height:512,paths:[{d:"M448 96v320h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-160c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h32v-128h-192v128h32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-160c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h32v-320h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32v128h192v-128h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32z"}]}}),Ls.register({font:{width:448,height:512,paths:[{d:"M432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-128c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h19.6l-23.3-64h-152.6l-23.3 64h19.6c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-128c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h23.4l130.7-362.3c4.1-12 17.6-21.7 30.3-21.7h0 47.2 0c12.6 0 26.2 9.7 30.3 21.7l130.7 362.3h23.4zM176.8 272h94.3l-47.2-129.5z"}]}}),Ls.register({tint:{width:352,height:512,paths:[{d:"M205.2 22.1c47 158.5 146.8 200.1 146.8 311.8 0 98.4-78.7 178.1-176 178.1s-176-79.7-176-178.1c0-111.2 100-154.1 146.8-311.8 9-30.1 50.5-28.8 58.4 0zM176 448c8.8 0 16-7.2 16-16s-7.2-16-16-16c-44.1 0-80-35.9-80-80 0-8.8-7.2-16-16-16s-16 7.2-16 16c0 61.8 50.3 112 112 112z"}]}}),Ls.register({highlighter:{width:544,height:512,paths:[{d:"M0 480l68.3-70.5 67 67-35.5 35.5zM124.6 240l41.5-35.4 173.3 173.3-35.5 41.6c-9.5 10.8-24.4 15-38.2 10.8l-42.7-13.1-50.9 50.9-96.2-96.2 50.9-50.9-13-42.8c-0.9-2.9-1.6-7.7-1.6-10.7 0-9.1 5.5-21.4 12.4-27.4zM527.9 79.3c20.5 20.5 21.5 53.4 2.3 75.1l-169.9 199.1-169.8-169.8 199.1-170c21.7-19.2 54.6-18.1 75.1 2.4z"}]}}),Ls.register({bold:{width:384,height:512,paths:[{d:"M333.5 238c34.4 27.5 55.6 71.2 50.8 119.6-6.9 70.7-70.2 122.4-141 122.4h-209.3c-8.8 0-16-7.2-16-16v-48c0-8.8 7.2-16 16-16h31.9v-288h-31.9c-8.8 0-16-7.2-16-16v-48c0-8.8 7.2-16 16-16h199.4c74.6 0 134.4 64.5 127.1 140.8-2 20.3-14.1 49.5-27 65.2zM145.7 112v96h87.8c26.5 0 48-21.5 48-48s-21.5-48-48-48h-87.8zM233.4 400c30.9 0 56-25.1 56-56s-25.1-56-56-56h-87.8v112h87.8z"}]}}),Ls.register({underline:{width:448,height:512,paths:[{d:"M32 64c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h144c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32v160c0 44.2 35.8 80 80 80s80-35.8 80-80v-160h-32c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h144c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-32v160c0 88.2-71.8 160-160 160s-160-71.8-160-160v-160h-32zM432 448c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Ls.register({italic:{width:320,height:512,paths:[{d:"M320 48v32c0 8.8-7.2 16-16 16h-62.8l-80 320h46.8c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-192c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h62.8l80-320h-46.8c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16z"}]}}),Ls.register({strikethrough:{width:512,height:512,paths:[{d:"M496 224c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-480c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h102.3c-11.7-16.5-19.8-35.5-21.8-56.4-0.3-3.3-0.6-8.7-0.6-12 0-68.2 55.4-123.6 123.6-123.7h68 0c43.7 0 95 31.7 114.5 70.8l0.5 1c0.9 1.9 1.7 5.1 1.7 7.1 0 5.5-4 11.9-8.8 14.3l-42.9 21.5c-1.9 0.9-5.1 1.7-7.2 1.7-5.5 0-11.9-4-14.3-8.8-7.6-15.2-27.6-27.6-44.6-27.6h0-66.8c-24 0-43.5 19.5-43.5 43.5 0 17.7 13.8 36.4 30.7 41.6l87.2 26.8h202.1zM315.8 320h94.4c2.2 6.6 4.6 17.5 5.3 24.4 0.3 3.3 0.6 8.7 0.6 12 0 68.2-55.4 123.6-123.6 123.7h-68 0c-43.7 0-95-31.7-114.5-70.8l-0.5-1c-0.9-1.9-1.7-5.1-1.7-7.1 0-5.5 4-11.9 8.8-14.3l42.9-21.5c1.9-0.9 5.1-1.7 7.2-1.7 5.5 0 11.9 4 14.3 8.8 7.6 15.2 27.6 27.6 44.6 27.6h0 66.8c24 0 43.5-19.5 43.5-43.5 0-13.2-9.1-29.5-20.2-36.5z"}]}}),Ls.register({link:{width:512,height:512,paths:[{d:"M326.6 185.4c59.7 59.8 58.9 155.7 0.4 214.6-0.1 0.1-0.2 0.3-0.4 0.4l-67.2 67.2c-59.3 59.3-155.7 59.3-215 0-59.3-59.3-59.3-155.7 0-215l37.1-37.1c9.8-9.8 26.8-3.3 27.3 10.6 0.6 17.7 3.8 35.5 9.7 52.7 2 5.8 0.6 12.3-3.8 16.6l-13.1 13.1c-28 28-28.9 73.7-1.2 102 28 28.6 74.1 28.7 102.3 0.5l67.2-67.2c28.2-28.2 28.1-73.8 0-101.8-3.7-3.7-7.4-6.6-10.3-8.6-3.7-2.5-6.8-8.2-6.9-12.6-0.4-10.6 3.3-21.5 11.7-29.8l21.1-21.1c5.5-5.5 14.2-6.2 20.6-1.7 6.1 4.2 15.3 12 20.5 17.2zM467.5 44.4c59.3 59.3 59.3 155.7 0 215l-37.1 37.1c-9.8 9.8-26.8 3.3-27.3-10.6-0.6-17.7-3.8-35.5-9.7-52.7-2-5.8-0.6-12.3 3.8-16.6l13.1-13.1c28-28 28.9-73.7 1.2-102-28-28.6-74.1-28.7-102.3-0.5l-67.2 67.2c-28.2 28.2-28.1 73.8 0 101.8 3.7 3.7 7.4 6.6 10.3 8.6 3.7 2.5 6.8 8.2 6.9 12.6 0.4 10.6-3.3 21.5-11.7 29.8l-21.1 21.1c-5.5 5.5-14.2 6.2-20.6 1.7-6.1-4.2-15.3-12-20.5-17.2-59.7-59.8-58.9-155.7-0.4-214.6 0.1-0.1 0.2-0.3 0.4-0.4l67.2-67.2c59.3-59.3 155.7-59.3 215 0z"}]}}),Ls.register({edit:{width:576,height:512,paths:[{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8l-218.4 218.4-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8 218.4-218.4c3.8-3.8 10-3.8 13.8 0zM564.6 60.3c15.2 15.2 15.2 39.9 0 55.2l-35.4 35.4c-3.8 3.8-10 3.8-13.8 0l-90.2-90.2c-3.8-3.8-3.8-10 0-13.8l35.4-35.4c15.3-15.2 40-15.2 55.2 0zM384 346.2c0-3.2 1.3-6.2 3.5-8.5l40-40c7.6-7.5 20.5-2.2 20.5 8.5v157.8c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h285.8c10.7 0 16.1 12.9 8.5 20.5l-40 40c-2.3 2.2-5.3 3.5-8.5 3.5h-229.8v320h320v-101.8z"}]}}),Ls.register({unlink:{width:512,height:512,paths:[{d:"M304.1 405.9c4.7 4.7 4.7 12.3 0 17l-44.7 44.7c-59.3 59.3-155.7 59.3-215 0-59.3-59.3-59.3-155.7 0-215l44.7-44.7c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17l-44.7 44.7c-28.1 28.1-28.1 73.8 0 101.8 28.1 28.1 73.8 28.1 101.8 0l44.7-44.7c4.7-4.7 12.3-4.7 17 0zM247.5 145.7l-39.6-39.6c-4.7-4.7-4.7-12.3 0-17l44.7-44.7c59.3-59.3 155.7-59.3 215 0s59.3 155.7 0 215l-44.7 44.7c-4.7 4.7-12.3 4.7-17 0l-39.6-39.6c-4.7-4.7-4.7-12.3 0-17l44.7-44.7c28.1-28.1 28.1-73.8 0-101.8-28.1-28.1-73.8-28.1-101.8 0l-44.7 44.7c-4.7 4.7-12.3 4.7-17 0zM482.3 505c-9.4 9.4-24.6 9.4-33.9 0l-441.4-441.4c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l441.4 441.4c9.4 9.4 9.4 24.6 0 33.9z"}]}}),Ls.register({"external-link-alt":{width:512,height:512,paths:[{d:"M432 320c8.8 0 16 7.2 16 16v128c0 26.5-21.5 48-48 48h-352c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-144v320h320v-112c0-8.8 7.2-16 16-16h32zM488 0c13.2 0 24 10.8 24 24v128c0 21.5-26 32-41 17l-35.7-35.7-243.6 243.7c-3.9 3.9-11.5 7.1-17 7.1s-13.1-3.2-17-7.1l-22.7-22.6c-3.9-3.9-7.1-11.5-7.1-17s3.2-13.1 7.1-17l243.7-243.6-35.7-35.7c-15-15.1-4.4-41 17-41h128z"}]}}),Ls.register({image:{width:512,height:512,paths:[{d:"M464 448h-416c-26.5 0-48-21.5-48-48v-288c0-26.5 21.5-48 48-48h416c26.5 0 48 21.5 48 48v288c0 26.5-21.5 48-48 48zM112 120c-30.9 0-56 25.1-56 56s25.1 56 56 56 56-25.1 56-56-25.1-56-56-56zM64 384h384v-112l-87.5-87.5c-4.7-4.7-12.3-4.7-17 0l-135.5 135.5-55.5-55.5c-4.7-4.7-12.3-4.7-17 0l-71.5 71.5v48z"}]}}),Ls.register({"regular/image":{width:512,height:512,paths:[{d:"M464 64c26.5 0 48 21.5 48 48v288c0 26.5-21.5 48-48 48h-416c-26.5 0-48-21.5-48-48v-288c0-26.5 21.5-48 48-48h416zM458 400c3.3 0 6-2.7 6-6v-276c0-3.3-2.7-6-6-6h-404c-3.3 0-6 2.7-6 6v276c0 3.3 2.7 6 6 6h404zM128 152c22.1 0 40 17.9 40 40s-17.9 40-40 40-40-17.9-40-40 17.9-40 40-40zM96 352v-48l39.5-39.5c4.7-4.7 12.3-4.7 17 0l39.5 39.5 119.5-119.5c4.7-4.7 12.3-4.7 17 0l87.5 87.5v80h-320z"}]}}),Ls.register({"ellipsis-h":{width:512,height:512,paths:[{d:"M328 256c0 39.8-32.2 72-72 72s-72-32.2-72-72 32.2-72 72-72 72 32.2 72 72zM432 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM80 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72z"}]}}),Ls.register({"regular/trash-alt":{width:448,height:512,paths:[{d:"M268 416c-6.6 0-12-5.4-12-12v-216c0-6.6 5.4-12 12-12h24c6.6 0 12 5.4 12 12v216c0 6.6-5.4 12-12 12h-24zM432 80c8.8 0 16 7.2 16 16v16c0 8.8-7.2 16-16 16h-16v336c0 26.5-21.5 48-48 48h-288c-26.5 0-48-21.5-48-48v-336h-16c-8.8 0-16-7.2-16-16v-16c0-8.8 7.2-16 16-16h82.4l34-56.7c7.7-12.9 26.2-23.3 41.2-23.3h0 100.8 0c15 0 33.4 10.4 41.2 23.3l34 56.7h82.4zM171.8 50.9l-17.5 29.1h139.2l-17.5-29.1c-1-1.6-3.3-2.9-5.1-2.9h0-94 0c-1.9 0-4.2 1.3-5.1 2.9zM368 464v-336h-288v336h288zM156 416c-6.6 0-12-5.4-12-12v-216c0-6.6 5.4-12 12-12h24c6.6 0 12 5.4 12 12v216c0 6.6-5.4 12-12 12h-24z"}]}}),Ls.register({video:{width:576,height:512,paths:[{d:"M336.2 64c26.4 0 47.8 21.4 47.8 47.8v288.4c0 26.4-21.4 47.8-47.8 47.8h-288.4c-26.4 0-47.8-21.4-47.8-47.8v-288.4c0-26.4 21.4-47.8 47.8-47.8h288.4zM525.6 101.7c21.3-14.6 50.4 0.4 50.4 25.8v256.9c0 25.5-29.2 40.4-50.4 25.8l-109.6-75.5v-157.4z"}]}}),Ls.register({code:{width:640,height:512,paths:[{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9l136.5-470.2c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9l-136.5 470.2c-1.9 6.4-8.5 10.1-14.9 8.2zM164.9 399.3c-4.5 4.9-12.1 5.1-17 0.5l-144.1-135.1c-5.1-4.7-5.1-12.8 0-17.5l144.1-135c4.9-4.6 12.5-4.3 17 0.5l43.5 46.4c4.7 4.9 4.3 12.7-0.8 17.2l-90.6 79.7 90.6 79.7c5.1 4.5 5.4 12.3 0.8 17.2zM492.1 399.9c-4.9 4.5-12.5 4.3-17-0.6l-43.5-46.4c-4.7-4.9-4.3-12.7 0.8-17.2l90.6-79.7-90.6-79.8c-5.1-4.5-5.4-12.3-0.8-17.2l43.5-46.4c4.6-4.8 12.2-5 17-0.5l144.1 135.2c5.1 4.7 5.1 12.8 0 17.5z"}]}}),Ls.register({"quote-right":{width:512,height:512,paths:[{d:"M464 32c26.5 0 48 21.5 48 48v240c0 88.4-71.6 160-160 160h-8c-13.3 0-24-10.7-24-24v-48c0-13.3 10.7-24 24-24h8c35.3 0 64-28.7 64-64v-64h-80c-26.5 0-48-21.5-48-48v-128c0-26.5 21.5-48 48-48h128zM176 32c26.5 0 48 21.5 48 48v240c0 88.4-71.6 160-160 160h-8c-13.3 0-24-10.7-24-24v-48c0-13.3 10.7-24 24-24h8c35.3 0 64-28.7 64-64v-64h-80c-26.5 0-48-21.5-48-48v-128c0-26.5 21.5-48 48-48h128z"}]}}),Ls.register({"align-left":{width:448,height:512,paths:[{d:"M12.8 352c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 262.3 0c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-262.3zM12.8 96c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 262.3 0c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-262.3zM432 160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Ls.register({"align-center":{width:448,height:512,paths:[{d:"M432 160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM108.1 96c-6.7 0-12.1-5.4-12.1-12.1v-39.8c0-6.7 5.4-12.1 12.1-12.1h0 231.8c6.7 0 12.1 5.4 12.1 12.1v39.8 0c0 6.7-5.4 12.1-12.1 12.1v0h-231.8zM339.9 352h-231.8c-6.7 0-12.1-5.4-12.1-12.1v-39.8c0-6.7 5.4-12.1 12.1-12.1h0 231.8c6.7 0 12.1 5.4 12.1 12.1v39.8 0c0 6.7-5.4 12.1-12.1 12.1v0z"}]}}),Ls.register({"align-right":{width:448,height:512,paths:[{d:"M16 224c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM435.2 32c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-262.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 262.3zM435.2 288c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-262.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 262.3z"}]}}),Ls.register({"align-justify":{width:448,height:512,paths:[{d:"M432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 288c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 160c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM432 32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Ls.register({"text-width":{width:448,height:512,paths:[{d:"M432 32c8.8 0 16 7.2 16 16v80c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-16h-120v112h24c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-128c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h24v-112h-120v16c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-80c0-8.8 7.2-16 16-16h416zM363.3 292.7l80 80c2.6 2.6 4.7 7.7 4.7 11.3s-2.1 8.7-4.7 11.3l-80 80c-10 10-27.3 3-27.3-11.3v-48h-224v48c0 15.6-18 20.6-27.3 11.3l-80-80c-2.6-2.6-4.7-7.7-4.7-11.3s2.1-8.7 4.7-11.3l80-80c10-10 27.3-3 27.3 11.3v48h224v-48c0-15.6 18-20.6 27.3-11.3z"}]}}),Ls.register({"text-height":{width:576,height:512,paths:[{d:"M304 32c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-32h-56v304h40c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-160c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h40v-304h-56v32c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-96c0-8.8 7.2-16 16-16h288zM560 368c15.6 0 20.6 18 11.3 27.3l-80 80c-2.6 2.6-7.7 4.7-11.3 4.7s-8.7-2.1-11.3-4.7l-80-80c-10-10-3-27.3 11.3-27.3h48v-224h-48c-15.6 0-20.6-18-11.3-27.3l80-80c2.6-2.6 7.7-4.7 11.3-4.7s8.7 2.1 11.3 4.7l80 80c10 10 3 27.3-11.3 27.3h-48v224h48z"}]}}),Ls.register({"list-ul":{width:512,height:512,paths:[{d:"M48 48c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM48 208c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM48 368c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM496 384c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM496 64c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM496 224c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320z"}]}}),Ls.register({"list-ol":{width:512,height:512,paths:[{d:"M61.8 401c19.6 5.1 28.7 20.5 28.7 34.9 0 21.4-14.3 44.1-48.5 44.1-16.6 0-29.3-4.8-37-9.4-5.8-4.2-6.3-9.8-2.6-15.9l5.6-9.3c3.9-6.6 9.1-7 15.6-3.1 4.1 1.7 11 3.1 15.5 3.1 10.2 0 14.4-3.5 14.4-8.2 0-6.6-5.6-9.1-15.9-9.1h-4.7c-6 0-9.3-2.1-12.3-7.9l-1-1.9c-2.5-4.8-1.2-9.8 2.8-14.9l5.6-7c2.9-3.6 7.8-9.1 11-12.3h-22.8c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h57c7.5 0 11.3 4 11.3 11.3v3.3c0 0.2 0 0.6 0 0.9 0 4.2-2.3 10.2-5.1 13.3zM496 224c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM496 64c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM496 384c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-320c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h320zM16 160c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h16v-64h-8c-4.4 0-8-3.6-8-8 0-1 0.4-2.6 0.8-3.6l8-16c1.2-2.4 4.4-4.4 7.1-4.4h24c4.4 0 8 3.6 8 8v88h16c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8h-64zM12.1 320c-7 0-12.1-4-12.1-11.4v-4c0-47.3 51-56.4 51-69.1 0-7.2-6-8.8-9.3-8.8h-0.1c-3 0-7.2 1.7-9.4 3.8-5.1 4.9-10.5 7-16.1 2.4l-8.6-6.9c-5.8-4.5-7.2-9.8-2.8-15.4 6.7-8.8 19.1-18.8 40.5-18.8 19.5 0 44.5 10.5 44.5 39.6 0 37.8-45 46.2-48.3 56.4h38.7c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8h-67.9z"}]}}),Ls.register({tasks:{width:512,height:512,paths:[{d:"M139.6 35.5l17 16.5c1.9 1.9 3.4 5.7 3.4 8.5 0 2.8-1.6 6.6-3.5 8.5l-72.2 72.2-15.6 15.6c-2 1.9-6 3.5-8.8 3.5-2.8 0-6.8-1.6-8.8-3.5l-47.6-47.4c-1.9-1.9-3.5-5.8-3.5-8.5 0-2.8 1.6-6.6 3.5-8.5l15.7-15.7c1.9-1.9 5.7-3.5 8.5-3.5 2.8 0 6.6 1.6 8.5 3.5l22.7 22.1 63.7-63.3c1.9-1.9 5.7-3.5 8.5-3.5 2.8 0 6.6 1.6 8.5 3.5zM139.6 194.7l17 17c1.9 1.9 3.4 5.7 3.4 8.4 0 2.7-1.6 6.6-3.5 8.5l-72.2 72.2-15.7 15.7c-2 1.9-6 3.5-8.8 3.5s-6.8-1.6-8.8-3.5l-47.5-47.5c-1.9-1.9-3.5-5.7-3.5-8.5s1.6-6.6 3.5-8.5l15.7-15.7c1.9-1.9 5.7-3.5 8.5-3.5 2.8 0 6.6 1.6 8.5 3.5l22.7 22.1 63.7-63.7c1.9-1.9 5.7-3.5 8.5-3.5 2.8 0 6.6 1.6 8.5 3.5zM64 368c26.5 0 48 21.5 48 48s-21.5 48-48 48c-26.5 0-48.6-21.5-48.6-48s22.1-48 48.6-48zM496 384c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-288c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h288zM496 64c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-288c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h288zM496 224c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-288c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h288z"}]}}),Ls.register({indent:{width:448,height:512,paths:[{d:"M27.3 363.3c-10 10-27.3 3-27.3-11.3v-192c0-14.2 17.3-21.3 27.3-11.3l96 96c2.6 2.6 4.7 7.7 4.7 11.3 0 3.7-2.1 8.7-4.7 11.3zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM435.2 288c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-230.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 230.3zM435.2 160c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-230.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 230.3zM432 32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Ls.register({outdent:{width:448,height:512,paths:[{d:"M100.7 363.3l-96-96c-2.6-2.6-4.7-7.7-4.7-11.3s2.1-8.7 4.7-11.3l96-96c10-10 27.3-3 27.3 11.3v192c0 14.2-17.3 21.3-27.3 11.3zM432 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416zM435.2 288c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-230.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 230.3zM435.2 160c7.1 0 12.8 5.7 12.8 12.8v0 38.3 0c0 7.1-5.7 12.8-12.8 12.8h0-230.3 0c-7.1 0-12.8-5.7-12.8-12.8v0-38.3 0c0-7.1 5.7-12.8 12.8-12.8h0 230.3zM432 32c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-416c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h416z"}]}}),Ls.register({minus:{width:448,height:512,paths:[{d:"M416 208c17.7 0 32 14.3 32 32v32c0 17.7-14.3 32-32 32h-384c-17.7 0-32-14.3-32-32v-32c0-17.7 14.3-32 32-32h384z"}]}}),Ls.register({table:{width:512,height:512,paths:[{d:"M464 32c26.5 0 48 21.5 48 48v352c0 26.5-21.5 48-48 48h-416c-26.5 0-48-21.5-48-48v-352c0-26.5 21.5-48 48-48h416zM224 416v-96h-160v96h160zM224 256v-96h-160v96h160zM448 416v-96h-160v96h160zM448 256v-96h-160v96h160z"}]}}),Ls.register({"remove-format":{width:640,height:512,paths:[{d:"M336 416c8.8 0 16 7.2 16 16v32c0 8.8-7.2 16-16 16h-128c-8.8 0-16-7.2-16-16v-32c0-8.8 7.2-16 16-16h32.5l26.5-79.6 67.1 51.8-9.3 27.8h11.2zM633.8 458.1c3.4 2.7 6.2 8.3 6.2 12.6 0 3-1.5 7.4-3.4 9.8l-19.6 25.3c-2.7 3.4-8.3 6.2-12.6 6.2-3 0-7.4-1.5-9.8-3.4l-588.4-454.7c-3.4-2.7-6.2-8.3-6.2-12.6 0-3 1.5-7.4 3.4-9.8l19.6-25.3c2.7-3.4 8.3-6.2 12.6-6.2 3 0 7.4 1.5 9.8 3.4l114.5 88.5v-43.9c0-8.8 7.2-16 16-16h416c8.8 0 16 7.2 16 16v96c0 8.8-7.2 16-16 16h-32c-8.8 0-16-7.2-16-16v-32h-117.8l-49.2 147.6zM309.9 207.8l31.9-95.8h-117.8v29.4z"}]}}),Ls.register({undo:{width:512,height:512,paths:[{d:"M212.3 224.3h-200.3c-6.6 0-12-5.4-12-12v-200.3c0-6.6 5.4-12 12-12h48c6.6 0 12 5.4 12 12v78.1c45.8-50.8 112.3-82.6 186.2-82.1 136.9 1 246.4 111.6 246.2 248.5-0.3 136.7-111.2 247.5-248 247.5-64.1 0-122.5-24.3-166.5-64.2-5.1-4.6-5.3-12.6-0.5-17.4l34-34c4.5-4.5 11.7-4.7 16.4-0.5 31 27.5 71.9 44.1 116.6 44.1 97.3 0 176-78.7 176-176 0-97.3-78.7-176-176-176-58.5 0-110.3 28.5-142.3 72.3h98.3c6.6 0 12 5.4 12 12v48c0 6.6-5.4 12-12 12z"}]}}),Ls.register({redo:{width:512,height:512,paths:[{d:"M500.3 0c6.6 0 12 5.4 12 12v200.3c0 6.6-5.4 12-12 12h-200.3c-6.6 0-12-5.4-12-12v-47.4 0c0-6.6 5.4-12 12-12 0.2 0 0.4 0 0.6 0l101.5 4.9c-28.9-43-94.3-77.8-146.1-77.8-97.2 0-176 78.8-176 176 0 97.2 78.8 176 176 176 36.7 0 88.7-19.7 116.3-43.9 1.9-1.6 5.4-3 7.9-3 2.7 0 6.5 1.6 8.5 3.5l34 34c1.9 1.9 3.5 5.7 3.5 8.5 0 3-1.8 7-4 8.9-39 35.3-113.3 63.9-165.8 63.9h-0.3c-136.9 0-247.9-110.9-248-247.8-0.1-136.7 111.3-248.2 248-248.2h0.3c63.2 0 147.7 39.1 188.6 87.3l-4-82.8c0-0.2 0-0.4 0-0.6 0-6.6 5.4-12 12-12h0 47.4z"}]}}),Ls.register({expand:{width:448,height:512,paths:[{d:"M0 180v-124c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-84v84c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12zM288 44c0-6.6 5.4-12 12-12h124c13.3 0 24 10.7 24 24v124c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-84h-84c-6.6 0-12-5.4-12-12v-40zM436 320c6.6 0 12 5.4 12 12v124c0 13.3-10.7 24-24 24h-124c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84v-84c0-6.6 5.4-12 12-12h40zM160 468c0 6.6-5.4 12-12 12h-124c-13.3 0-24-10.7-24-24v-124c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40z"}]}}),Ls.register({compress:{width:448,height:512,paths:[{d:"M436 192h-124c-13.3 0-24-10.7-24-24v-124c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zM160 168c0 13.3-10.7 24-24 24h-124c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84v-84c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v124zM160 468c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-84h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h124c13.3 0 24 10.7 24 24v124zM352 468c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-124c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-84v84z"}]}}),Ls.register({print:{width:512,height:512,paths:[{d:"M448 192c35.3 0 64 28.7 64 64v112c0 8.8-7.2 16-16 16h-48v96c0 17.7-14.3 32-32 32h-320c-17.7 0-32-14.3-32-32v-96h-48c-8.8 0-16-7.2-16-16v-112c0-35.3 28.7-64 64-64v-160c0-17.7 14.3-32 32-32h274.7c8.5 0 16.6 3.4 22.6 9.4l45.3 45.3c6 6 9.4 14.1 9.4 22.6v114.8zM384 448v-96h-256v96h256zM384 224v-96h-48c-8.8 0-16-7.2-16-16v-48h-192v160h256zM432 296c13.3 0 24-10.8 24-24 0-13.3-10.8-24-24-24s-24 10.7-24 24c0 13.3 10.8 24 24 24z"}]}}),Ls.register({eye:{width:576,height:512,paths:[{d:"M572.5 241.4c1.9 3.8 3.5 10.3 3.5 14.6s-1.6 10.8-3.5 14.6c-54.2 105.8-161.6 177.4-284.5 177.4s-230.3-71.6-284.5-177.4c-1.9-3.8-3.5-10.3-3.5-14.6s1.6-10.8 3.5-14.6c54.2-105.8 161.6-177.4 284.5-177.4s230.3 71.6 284.5 177.4zM288 400h0.1c79.4 0 143.9-64.5 143.9-143.9v-0.1c0-79.5-64.5-144-144-144s-144 64.5-144 144 64.5 144 144 144zM288 160h0.2c52.9 0 95.8 42.9 95.8 95.8 0 52.9-42.9 95.8-95.8 95.8-52.9 0-95.8-42.9-95.8-95.8 0-7 1.5-18.3 3.3-25.1 7 5.1 19.7 9.3 28.4 9.3 26.4 0 47.8-21.4 47.8-47.8 0-8.7-4.2-21.4-9.3-28.4 6.8-2 18.2-3.7 25.3-3.8z"}]}}),Ls.register({"regular/object-group":{width:512,height:512,paths:[{d:"M500 128h-12v256h12c6.6 0 12 5.4 12 12v72c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-12h-320v12c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-72c0-6.6 5.4-12 12-12h12v-256h-12c-6.6 0-12-5.4-12-12v-72c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v12h320v-12c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12v72c0 6.6-5.4 12-12 12zM448 64v32h32v-32h-32zM32 64v32h32v-32h-32zM64 448v-32h-32v32h32zM480 448v-32h-32v32h32zM440 384v-256h-12c-6.6 0-12-5.4-12-12v-12h-320v12c0 6.6-5.4 12-12 12h-12v256h12c6.6 0 12 5.4 12 12v12h320v-12c0-6.6 5.4-12 12-12h12zM404 192c6.6 0 12 5.4 12 12v168c0 6.6-5.4 12-12 12h-200c-6.6 0-12-5.4-12-12v-52h-84c-6.6 0-12-5.4-12-12v-168c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v52h84zM136 168v112h144v-112h-144zM376 344v-112h-56v76c0 6.6-5.4 12-12 12h-76v24h144z"}]}}),Ls.register({"regular/file-code":{width:384,height:512,paths:[{d:"M149.9 349.1c3.5 3.3 3.7 8.9 0.4 12.4l-17.4 18.6c-1.6 1.8-4 2.8-6.4 2.8-2.2 0-4.4-0.9-6-2.4l-57.7-54.1c-3.7-3.4-3.7-9.3 0-12.8l57.7-54.1c3.4-3.3 9-3.2 12.4 0.4l17.4 18.6 0.2 0.2c3.2 3.6 2.8 9.2-0.8 12.4l-32.8 28.9 32.8 28.9zM369.9 97.9c9 9 14.1 21.3 14.1 34v332.1c0 26.5-21.5 48-48 48h-288c-26.5 0-48-21.5-48-48v-416c0-26.5 21.5-48 48-48.1h204.1c12.7 0 24.9 5.1 33.9 14.1zM256 51.9v76.1h76.1zM336 464v-288h-104c-13.3 0-24-10.7-24-24v-104h-160v416h288zM209.6 214l24.4 7c4.7 1.3 7.4 6.2 6 10.9l-54.7 188.2c-1.3 4.6-6.2 7.4-10.9 6l-24.4-7.1c-4.7-1.3-7.4-6.2-6-10.9l54.7-188.1c1.4-4.7 6.2-7.4 10.9-6zM234.1 290.9c-3.5-3.3-3.7-8.9-0.4-12.4l17.4-18.6c3.3-3.6 8.9-3.7 12.4-0.4l57.7 54.1c3.7 3.4 3.7 9.3 0 12.8l-57.7 54.1c-3.5 3.3-9.1 3.1-12.4-0.4l-17.4-18.6-0.2-0.2c-3.2-3.6-2.8-9.2 0.8-12.4l32.8-28.9-32.8-28.9z"}]}}),Ls.register({"arrow-left":{width:448,height:512,paths:[{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0l-194.4-194.3c-9.4-9.4-9.4-24.6 0-33.9l194.4-194.4c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-0.4 34.3l-120.5 114.8h287.4c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24h-287.4l120.5 114.8c9.8 9.3 10 24.8 0.4 34.3z"}]}});var Us=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"onClick",value:function(){this.readonly||this.command()}},{key:"commandButtonClass",get:function(){return{"el-tiptap-editor__command-button":!0,"el-tiptap-editor__command-button--active":this.isActive,"el-tiptap-editor__command-button--readonly":this.readonly}}}]),n}();zr([eo({type:String,required:!0})],Us.prototype,"icon",void 0),zr([eo({type:Boolean,default:!1})],Us.prototype,"isActive",void 0),zr([eo({type:String,required:!0})],Us.prototype,"tooltip",void 0),zr([eo({type:Boolean,required:!0})],Us.prototype,"enableTooltip",void 0),zr([eo({type:Function,default:function(){}})],Us.prototype,"command",void 0),zr([eo({type:Boolean,default:!1})],Us.prototype,"readonly",void 0);const Js=Cs({render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-tooltip",{attrs:{content:this.tooltip,"open-delay":350,disabled:!this.enableTooltip||this.readonly,transition:"el-zoom-in-bottom",effect:"dark",placement:"top"}},[t("div",{class:this.commandButtonClass,on:{mousedown:function(e){e.preventDefault()},click:this.onClick}},[t("v-icon",{attrs:{name:this.icon}})],1)])},staticRenderFns:[]},void 0,Us=zr([Xr({components:Mr({"v-icon":Ls},c.a.name,c.a)})],Us),void 0,!1,void 0,!1,void 0,void 0,void 0);var Ks=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"openLink",value:function(){if(this.url){var e=window.open();e&&(e.opener=null,e.location.href=this.url)}}}]),n}();zr([eo({type:String,required:!0})],Ks.prototype,"url",void 0),zr([Zr()],Ks.prototype,"et",void 0);const Gs=Cs({render:function(){var e=this.$createElement;return(this._self._c||e)("command-button",{attrs:{command:this.openLink,"enable-tooltip":this.et.tooltip,tooltip:this.et.t("editor.extensions.Link.open.tooltip"),icon:"external-link-alt"}})},staticRenderFns:[]},void 0,Ks=zr([Xr({components:{CommandButton:Js}})],Ks),void 0,!1,void 0,!1,void 0,void 0,void 0);var Xs=R((function(e,t){t.__esModule=!0,t.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},t.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)},t.isHtmlElement=function(e){return e&&e.nodeType===Node.ELEMENT_NODE},t.isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},t.isUndefined=function(e){return void 0===e},t.isDefined=function(e){return null!=e}}));N(Xs),Xs.isString,Xs.isObject,Xs.isHtmlElement,Xs.isFunction,Xs.isUndefined,Xs.isDefined;var Zs=R((function(e,t){t.__esModule=!0,t.isEmpty=t.isEqual=t.arrayEquals=t.looseEqual=t.capitalize=t.kebabCase=t.autoprefixer=t.isFirefox=t.isEdge=t.isIE=t.coerceTruthyValueToArray=t.arrayFind=t.arrayFindIndex=t.escapeRegexpString=t.valueEquals=t.generateId=t.getValueByPath=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.noop=function(){},t.hasOwn=function(e,t){return s.call(e,t)},t.toObject=function(e){for(var t={},n=0;n<e.length;n++)e[n]&&l(t,e[n]);return t},t.getPropByPath=function(e,t,n){for(var r=e,o=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0,s=o.length;i<s-1&&(r||n);++i){var l=o[i];if(!(l in r)){if(n)throw new Error("please transfer a valid prop path to form item!");break}r=r[l]}return{o:r,k:o[i],v:r?r[o[i]]:null}},t.rafThrottle=function(e){var t=!1;return function(){for(var n=this,r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];t||(t=!0,window.requestAnimationFrame((function(r){e.apply(n,o),t=!1})))}},t.objToArray=function(e){return Array.isArray(e)?e:d(e)?[]:[e]};var o,i=(o=r["default"])&&o.__esModule?o:{default:o},s=Object.prototype.hasOwnProperty;function l(e,t){for(var n in t)e[n]=t[n];return e}t.getValueByPath=function(e,t){for(var n=(t=t||"").split("."),r=e,o=null,i=0,s=n.length;i<s;i++){var l=n[i];if(!r)break;if(i===s-1){o=r[l];break}r=r[l]}return o},t.generateId=function(){return Math.floor(1e4*Math.random())},t.valueEquals=function(e,t){if(e===t)return!0;if(!(e instanceof Array))return!1;if(!(t instanceof Array))return!1;if(e.length!==t.length)return!1;for(var n=0;n!==e.length;++n)if(e[n]!==t[n])return!1;return!0},t.escapeRegexpString=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return String(e).replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")};var a=t.arrayFindIndex=function(e,t){for(var n=0;n!==e.length;++n)if(t(e[n]))return n;return-1},c=(t.arrayFind=function(e,t){var n=a(e,t);return-1!==n?e[n]:void 0},t.coerceTruthyValueToArray=function(e){return Array.isArray(e)?e:e?[e]:[]},t.isIE=function(){return!i.default.prototype.$isServer&&!isNaN(Number(document.documentMode))},t.isEdge=function(){return!i.default.prototype.$isServer&&navigator.userAgent.indexOf("Edge")>-1},t.isFirefox=function(){return!i.default.prototype.$isServer&&!!window.navigator.userAgent.match(/firefox/i)},t.autoprefixer=function(e){if("object"!==(void 0===e?"undefined":n(e)))return e;var t=["ms-","webkit-"];return["transform","transition","animation"].forEach((function(n){var r=e[n];n&&r&&t.forEach((function(t){e[t+n]=r}))})),e},t.kebabCase=function(e){var t=/([^-])([A-Z])/g;return e.replace(t,"$1-$2").replace(t,"$1-$2").toLowerCase()},t.capitalize=function(e){return(0,Xs.isString)(e)?e.charAt(0).toUpperCase()+e.slice(1):e},t.looseEqual=function(e,t){var n=(0,Xs.isObject)(e),r=(0,Xs.isObject)(t);return n&&r?JSON.stringify(e)===JSON.stringify(t):!n&&!r&&String(e)===String(t)}),u=t.arrayEquals=function(e,t){if(t=t||[],(e=e||[]).length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!c(e[n],t[n]))return!1;return!0},d=(t.isEqual=function(e,t){return Array.isArray(e)&&Array.isArray(t)?u(e,t):c(e,t)},t.isEmpty=function(e){if(null==e)return!0;if("boolean"==typeof e)return!1;if("number"==typeof e)return!e;if(e instanceof Error)return""===e.message;switch(Object.prototype.toString.call(e)){case"[object String]":case"[object Array]":return!e.length;case"[object File]":case"[object Map]":case"[object Set]":return!e.size;case"[object Object]":return!Object.keys(e).length}return!1})}));N(Zs),Zs.isEmpty,Zs.isEqual,Zs.arrayEquals,Zs.looseEqual,Zs.capitalize,Zs.kebabCase,Zs.autoprefixer,Zs.isFirefox,Zs.isEdge,Zs.isIE,Zs.coerceTruthyValueToArray,Zs.arrayFind,Zs.arrayFindIndex,Zs.escapeRegexpString,Zs.valueEquals,Zs.generateId,Zs.getValueByPath,Zs.noop,Zs.hasOwn,Zs.toObject,Zs.getPropByPath,Zs.rafThrottle,Zs.objToArray;var Ys=R((function(e,t){t.__esModule=!0,t.default={mounted:function(){},methods:{getMigratingConfig:function(){return{props:{},events:{}}}}}}));N(Ys);var Qs=R((function(e,t){t.__esModule=!0,t.isDef=function(e){return null!=e},t.isKorean=function(e){return/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(e)}}));N(Qs),Qs.isDef,Qs.isKorean;var el=R((function(e,t){function n(e,t,r){this.$children.forEach((function(o){o.$options.componentName===e?o.$emit.apply(o,[t].concat(r)):n.apply(o,[e,t].concat([r]))}))}t.__esModule=!0,t.default={methods:{dispatch:function(e,t,n){for(var r=this.$parent||this.$root,o=r.$options.componentName;r&&(!o||o!==e);)(r=r.$parent)&&(o=r.$options.componentName);r&&r.$emit.apply(r,[t].concat(n))},broadcast:function(e,t,r){n.call(this,e,t,r)}}}}));N(el);var tl=R((function(e,t){t.__esModule=!0,t.default=function(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t]||{};for(var o in r)if(r.hasOwnProperty(o)){var i=r[o];void 0!==i&&(e[o]=i)}}return e}}));N(tl);var nl=N(R((function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=76)}({0:function(e,t,n){function r(e,t,n,r,o,i,s,l){var a,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(a=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=a):o&&(a=l?function(){o.call(this,this.$root.$options.shadowRoot)}:o),a)if(c.functional){c._injectStyles=a;var u=c.render;c.render=function(e,t){return a.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,a):[a]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},11:function(e,t){e.exports=Ys},21:function(e,t){e.exports=Qs},4:function(e,t){e.exports=el},76:function(e,t,n){n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["textarea"===e.type?"el-textarea":"el-input",e.inputSize?"el-input--"+e.inputSize:"",{"is-disabled":e.inputDisabled,"is-exceed":e.inputExceed,"el-input-group":e.$slots.prepend||e.$slots.append,"el-input-group--append":e.$slots.append,"el-input-group--prepend":e.$slots.prepend,"el-input--prefix":e.$slots.prefix||e.prefixIcon,"el-input--suffix":e.$slots.suffix||e.suffixIcon||e.clearable||e.showPassword}],on:{mouseenter:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},["textarea"!==e.type?[e.$slots.prepend?n("div",{staticClass:"el-input-group__prepend"},[e._t("prepend")],2):e._e(),"textarea"!==e.type?n("input",e._b({ref:"input",staticClass:"el-input__inner",attrs:{tabindex:e.tabindex,type:e.showPassword?e.passwordVisible?"text":"password":e.type,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"input",e.$attrs,!1)):e._e(),e.$slots.prefix||e.prefixIcon?n("span",{staticClass:"el-input__prefix"},[e._t("prefix"),e.prefixIcon?n("i",{staticClass:"el-input__icon",class:e.prefixIcon}):e._e()],2):e._e(),e.getSuffixVisible()?n("span",{staticClass:"el-input__suffix"},[n("span",{staticClass:"el-input__suffix-inner"},[e.showClear&&e.showPwdVisible&&e.isWordLimitVisible?e._e():[e._t("suffix"),e.suffixIcon?n("i",{staticClass:"el-input__icon",class:e.suffixIcon}):e._e()],e.showClear?n("i",{staticClass:"el-input__icon el-icon-circle-close el-input__clear",on:{mousedown:function(e){e.preventDefault()},click:e.clear}}):e._e(),e.showPwdVisible?n("i",{staticClass:"el-input__icon el-icon-view el-input__clear",on:{click:e.handlePasswordVisible}}):e._e(),e.isWordLimitVisible?n("span",{staticClass:"el-input__count"},[n("span",{staticClass:"el-input__count-inner"},[e._v("\n            "+e._s(e.textLength)+"/"+e._s(e.upperLimit)+"\n          ")])]):e._e()],2),e.validateState?n("i",{staticClass:"el-input__icon",class:["el-input__validateIcon",e.validateIcon]}):e._e()]):e._e(),e.$slots.append?n("div",{staticClass:"el-input-group__append"},[e._t("append")],2):e._e()]:n("textarea",e._b({ref:"textarea",staticClass:"el-textarea__inner",style:e.textareaStyle,attrs:{tabindex:e.tabindex,disabled:e.inputDisabled,readonly:e.readonly,autocomplete:e.autoComplete||e.autocomplete,"aria-label":e.label},on:{compositionstart:e.handleCompositionStart,compositionupdate:e.handleCompositionUpdate,compositionend:e.handleCompositionEnd,input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,change:e.handleChange}},"textarea",e.$attrs,!1)),e.isWordLimitVisible&&"textarea"===e.type?n("span",{staticClass:"el-input__count"},[e._v(e._s(e.textLength)+"/"+e._s(e.upperLimit))]):e._e()],2)};r._withStripped=!0;var o=n(4),i=n.n(o),s=n(11),l=n.n(s),a=void 0,c="\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",u=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function d(e){var t=window.getComputedStyle(e),n=t.getPropertyValue("box-sizing"),r=parseFloat(t.getPropertyValue("padding-bottom"))+parseFloat(t.getPropertyValue("padding-top")),o=parseFloat(t.getPropertyValue("border-bottom-width"))+parseFloat(t.getPropertyValue("border-top-width"));return{contextStyle:u.map((function(e){return e+":"+t.getPropertyValue(e)})).join(";"),paddingSize:r,borderSize:o,boxSizing:n}}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a||(a=document.createElement("textarea"),document.body.appendChild(a));var r=d(e),o=r.paddingSize,i=r.borderSize,s=r.boxSizing,l=r.contextStyle;a.setAttribute("style",l+";"+c),a.value=e.value||e.placeholder||"";var u=a.scrollHeight,p={};"border-box"===s?u+=i:"content-box"===s&&(u-=o),a.value="";var h=a.scrollHeight-o;if(null!==t){var f=h*t;"border-box"===s&&(f=f+o+i),u=Math.max(f,u),p.minHeight=f+"px"}if(null!==n){var m=h*n;"border-box"===s&&(m=m+o+i),u=Math.min(m,u)}return p.height=u+"px",a.parentNode&&a.parentNode.removeChild(a),a=null,p}var h=n(9),f=n.n(h),m=n(21),g={name:"ElInput",componentName:"ElInput",mixins:[i.a,l.a],inheritAttrs:!1,inject:{elForm:{default:""},elFormItem:{default:""}},data:function(){return{textareaCalcStyle:{},hovering:!1,focused:!1,isComposing:!1,passwordVisible:!1}},props:{value:[String,Number],size:String,resize:String,form:String,disabled:Boolean,readonly:Boolean,type:{type:String,default:"text"},autosize:{type:[Boolean,Object],default:!1},autocomplete:{type:String,default:"off"},autoComplete:{type:String,validator:function(e){return!0}},validateEvent:{type:Boolean,default:!0},suffixIcon:String,prefixIcon:String,label:String,clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},tabindex:String},computed:{_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},validateState:function(){return this.elFormItem?this.elFormItem.validateState:""},needStatusIcon:function(){return!!this.elForm&&this.elForm.statusIcon},validateIcon:function(){return{validating:"el-icon-loading",success:"el-icon-circle-check",error:"el-icon-circle-close"}[this.validateState]},textareaStyle:function(){return f()({},this.textareaCalcStyle,{resize:this.resize})},inputSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputDisabled:function(){return this.disabled||(this.elForm||{}).disabled},nativeInputValue:function(){return null===this.value||void 0===this.value?"":String(this.value)},showClear:function(){return this.clearable&&!this.inputDisabled&&!this.readonly&&this.nativeInputValue&&(this.focused||this.hovering)},showPwdVisible:function(){return this.showPassword&&!this.inputDisabled&&!this.readonly&&(!!this.nativeInputValue||this.focused)},isWordLimitVisible:function(){return this.showWordLimit&&this.$attrs.maxlength&&("text"===this.type||"textarea"===this.type)&&!this.inputDisabled&&!this.readonly&&!this.showPassword},upperLimit:function(){return this.$attrs.maxlength},textLength:function(){return"number"==typeof this.value?String(this.value).length:(this.value||"").length},inputExceed:function(){return this.isWordLimitVisible&&this.textLength>this.upperLimit}},watch:{value:function(e){this.$nextTick(this.resizeTextarea),this.validateEvent&&this.dispatch("ElFormItem","el.form.change",[e])},nativeInputValue:function(){this.setNativeInputValue()},type:function(){var e=this;this.$nextTick((function(){e.setNativeInputValue(),e.resizeTextarea(),e.updateIconOffset()}))}},methods:{focus:function(){this.getInput().focus()},blur:function(){this.getInput().blur()},getMigratingConfig:function(){return{props:{icon:"icon is removed, use suffix-icon / prefix-icon instead.","on-icon-click":"on-icon-click is removed."},events:{click:"click is removed."}}},handleBlur:function(e){this.focused=!1,this.$emit("blur",e),this.validateEvent&&this.dispatch("ElFormItem","el.form.blur",[this.value])},select:function(){this.getInput().select()},resizeTextarea:function(){if(!this.$isServer){var e=this.autosize;if("textarea"===this.type)if(e){var t=e.minRows,n=e.maxRows;this.textareaCalcStyle=p(this.$refs.textarea,t,n)}else this.textareaCalcStyle={minHeight:p(this.$refs.textarea).minHeight}}},setNativeInputValue:function(){var e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},handleFocus:function(e){this.focused=!0,this.$emit("focus",e)},handleCompositionStart:function(){this.isComposing=!0},handleCompositionUpdate:function(e){var t=e.target.value,n=t[t.length-1]||"";this.isComposing=!Object(m.isKorean)(n)},handleCompositionEnd:function(e){this.isComposing&&(this.isComposing=!1,this.handleInput(e))},handleInput:function(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},handleChange:function(e){this.$emit("change",e.target.value)},calcIconOffset:function(e){var t=[].slice.call(this.$el.querySelectorAll(".el-input__"+e)||[]);if(t.length){for(var n=null,r=0;r<t.length;r++)if(t[r].parentNode===this.$el){n=t[r];break}if(n){var o={suffix:"append",prefix:"prepend"}[e];this.$slots[o]?n.style.transform="translateX("+("suffix"===e?"-":"")+this.$el.querySelector(".el-input-group__"+o).offsetWidth+"px)":n.removeAttribute("style")}}},updateIconOffset:function(){this.calcIconOffset("prefix"),this.calcIconOffset("suffix")},clear:function(){this.$emit("input",""),this.$emit("change",""),this.$emit("clear")},handlePasswordVisible:function(){this.passwordVisible=!this.passwordVisible,this.focus()},getInput:function(){return this.$refs.input||this.$refs.textarea},getSuffixVisible:function(){return this.$slots.suffix||this.suffixIcon||this.showClear||this.showPassword||this.isWordLimitVisible||this.validateState&&this.needStatusIcon}},created:function(){this.$on("inputSelect",this.select)},mounted:function(){this.setNativeInputValue(),this.resizeTextarea(),this.updateIconOffset()},updated:function(){this.$nextTick(this.updateIconOffset)}},v=n(0),y=Object(v.a)(g,r,[],!1,null,null,null);y.options.__file="packages/input/src/input.vue";var b=y.exports;b.install=function(e){e.component(b.name,b)},t.default=b},9:function(e,t){e.exports=tl}})}))),rl=R((function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)})),ol=R((function(e){var t=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=t)})),il=(ol.version,function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}),sl=function(e){return"object"==typeof e?null!==e:"function"==typeof e},ll=function(e){if(!sl(e))throw TypeError(e+" is not an object!");return e},al=function(e){try{return!!e()}catch(e){return!0}},cl=!al((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),ul=rl.document,dl=sl(ul)&&sl(ul.createElement),pl=function(e){return dl?ul.createElement(e):{}},hl=!cl&&!al((function(){return 7!=Object.defineProperty(pl("div"),"a",{get:function(){return 7}}).a})),fl=function(e,t){if(!sl(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!sl(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!sl(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!sl(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},ml=Object.defineProperty,gl={f:cl?Object.defineProperty:function(e,t,n){if(ll(e),t=fl(t,!0),ll(n),hl)try{return ml(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},vl=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},yl=cl?function(e,t,n){return gl.f(e,t,vl(1,n))}:function(e,t,n){return e[t]=n,e},bl={}.hasOwnProperty,wl=function(e,t){return bl.call(e,t)},xl=function(e,t,n){var r,o,i,s=e&xl.F,l=e&xl.G,a=e&xl.S,c=e&xl.P,u=e&xl.B,d=e&xl.W,p=l?ol:ol[t]||(ol[t]={}),h=p.prototype,f=l?rl:a?rl[t]:(rl[t]||{}).prototype;for(r in l&&(n=t),n)(o=!s&&f&&void 0!==f[r])&&wl(p,r)||(i=o?f[r]:n[r],p[r]=l&&"function"!=typeof f[r]?n[r]:u&&o?il(i,rl):d&&f[r]==i?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(i):c&&"function"==typeof i?il(Function.call,i):i,c&&((p.virtual||(p.virtual={}))[r]=i,e&xl.R&&h&&!h[r]&&yl(h,r,i)))};xl.F=1,xl.G=2,xl.S=4,xl.P=8,xl.B=16,xl.W=32,xl.U=64,xl.R=128;var kl,Sl=xl,_l={}.toString,Cl=function(e){return _l.call(e).slice(8,-1)},Ol=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==Cl(e)?e.split(""):Object(e)},Ml=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e},El=function(e){return Ol(Ml(e))},Tl=Math.ceil,Al=Math.floor,Nl=function(e){return isNaN(e=+e)?0:(e>0?Al:Tl)(e)},Rl=Math.min,Il=Math.max,zl=Math.min,jl=R((function(e){var t=rl["__core-js_shared__"]||(rl["__core-js_shared__"]={});(e.exports=function(e,n){return t[e]||(t[e]=void 0!==n?n:{})})("versions",[]).push({version:ol.version,mode:"pure",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})})),Dl=0,Pl=Math.random(),$l=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++Dl+Pl).toString(36))},Fl=jl("keys"),Bl=function(e){return Fl[e]||(Fl[e]=$l(e))},Ll=(kl=!1,function(e,t,n){var r,o,i=El(e),s=(r=i.length)>0?Rl(Nl(r),9007199254740991):0,l=function(e,t){return(e=Nl(e))<0?Il(e+t,0):zl(e,t)}(n,s);if(kl&&t!=t){for(;s>l;)if((o=i[l++])!=o)return!0}else for(;s>l;l++)if((kl||l in i)&&i[l]===t)return kl||l||0;return!kl&&-1}),Vl=Bl("IE_PROTO"),ql=function(e,t){var n,r=El(e),o=0,i=[];for(n in r)n!=Vl&&wl(r,n)&&i.push(n);for(;t.length>o;)wl(r,n=t[o++])&&(~Ll(i,n)||i.push(n));return i},Hl="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Wl=Object.keys||function(e){return ql(e,Hl)},Ul={f:Object.getOwnPropertySymbols},Jl={f:{}.propertyIsEnumerable},Kl=function(e){return Object(Ml(e))},Gl=Object.assign,Xl=!Gl||al((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=Gl({},e)[n]||Object.keys(Gl({},t)).join("")!=r}))?function(e,t){for(var n=Kl(e),r=arguments.length,o=1,i=Ul.f,s=Jl.f;r>o;)for(var l,a=Ol(arguments[o++]),c=i?Wl(a).concat(i(a)):Wl(a),u=c.length,d=0;u>d;)l=c[d++],cl&&!s.call(a,l)||(n[l]=a[l]);return n}:Gl;Sl(Sl.S+Sl.F,"Object",{assign:Xl});var Zl=ol.Object.assign,Yl=R((function(e){e.exports={default:Zl,__esModule:!0}}));N(Yl);var Ql=N(R((function(e,t){t.__esModule=!0;var n,r=(n=Yl)&&n.__esModule?n:{default:n};t.default=r.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}}))),ea=yl,ta=cl?Object.defineProperties:function(e,t){ll(e);for(var n,r=Wl(t),o=r.length,i=0;o>i;)gl.f(e,n=r[i++],t[n]);return e},na=rl.document,ra=na&&na.documentElement,oa=Bl("IE_PROTO"),ia=function(){},sa=function(){var e,t=pl("iframe"),n=Hl.length;for(t.style.display="none",ra.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),sa=e.F;n--;)delete sa.prototype[Hl[n]];return sa()},la=Object.create||function(e,t){var n;return null!==e?(ia.prototype=ll(e),n=new ia,ia.prototype=null,n[oa]=e):n=sa(),void 0===t?n:ta(n,t)},aa=R((function(e){var t=jl("wks"),n=rl.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:$l)("Symbol."+e))}).store=t})),ca=gl.f,ua=aa("toStringTag"),da=function(e,t,n){e&&!wl(e=n?e:e.prototype,ua)&&ca(e,ua,{configurable:!0,value:t})},pa={};yl(pa,aa("iterator"),(function(){return this}));var ha=function(e,t,n){e.prototype=la(pa,{next:vl(1,n)}),da(e,t+" Iterator")},fa=Bl("IE_PROTO"),ma=Object.prototype,ga=Object.getPrototypeOf||function(e){return e=Kl(e),wl(e,fa)?e[fa]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?ma:null},va=aa("iterator"),ya=!([].keys&&"next"in[].keys()),ba=function(e,t,n,r,o,i,s){ha(n,t,r);var l,a,c,u=function(e){if(!ya&&e in f)return f[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},d=t+" Iterator",p="values"==o,h=!1,f=e.prototype,m=f[va]||f["@@iterator"]||o&&f[o],g=m||u(o),v=o?p?u("entries"):g:void 0,y="Array"==t&&f.entries||m;if(y&&(c=ga(y.call(new e)))!==Object.prototype&&c.next&&da(c,d,!0),p&&m&&"values"!==m.name&&(h=!0,g=function(){return m.call(this)}),s&&(ya||h||!f[va])&&yl(f,va,g),o)if(l={values:p?g:u("values"),keys:i?g:u("keys"),entries:v},s)for(a in l)a in f||ea(f,a,l[a]);else Sl(Sl.P+Sl.F*(ya||h),t,l);return l},wa=function(e){return function(t,n){var r,o,i=String(Ml(t)),s=Nl(n),l=i.length;return s<0||s>=l?e?"":void 0:(r=i.charCodeAt(s))<55296||r>56319||s+1===l||(o=i.charCodeAt(s+1))<56320||o>57343?e?i.charAt(s):r:e?i.slice(s,s+2):o-56320+(r-55296<<10)+65536}}(!0);ba(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=wa(t,n),this._i+=e.length,{value:e,done:!1})}));for(var xa=function(e,t){return{value:t,done:!!e}},ka=(ba(Array,"Array",(function(e,t){this._t=El(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,xa(1)):xa(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),aa("toStringTag")),Sa="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),_a=0;_a<Sa.length;_a++){var Ca=Sa[_a],Oa=rl[Ca],Ma=Oa&&Oa.prototype;Ma&&!Ma[ka]&&yl(Ma,ka,Ca)}var Ea={f:aa},Ta=Ea.f("iterator"),Aa=R((function(e){e.exports={default:Ta,__esModule:!0}}));N(Aa);var Na=R((function(e){var t=$l("meta"),n=gl.f,r=0,o=Object.isExtensible||function(){return!0},i=!al((function(){return o(Object.preventExtensions({}))})),s=function(e){n(e,t,{value:{i:"O"+ ++r,w:{}}})},l=e.exports={KEY:t,NEED:!1,fastKey:function(e,n){if(!sl(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!wl(e,t)){if(!o(e))return"F";if(!n)return"E";s(e)}return e[t].i},getWeak:function(e,n){if(!wl(e,t)){if(!o(e))return!0;if(!n)return!1;s(e)}return e[t].w},onFreeze:function(e){return i&&l.NEED&&o(e)&&!wl(e,t)&&s(e),e}}})),Ra=(Na.KEY,Na.NEED,Na.fastKey,Na.getWeak,Na.onFreeze,gl.f),Ia=function(e){var t=ol.Symbol||(ol.Symbol={});"_"==e.charAt(0)||e in t||Ra(t,e,{value:Ea.f(e)})},za=Array.isArray||function(e){return"Array"==Cl(e)},ja=Hl.concat("length","prototype"),Da={f:Object.getOwnPropertyNames||function(e){return ql(e,ja)}},Pa=Da.f,$a={}.toString,Fa="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ba={f:function(e){return Fa&&"[object Window]"==$a.call(e)?function(e){try{return Pa(e)}catch(e){return Fa.slice()}}(e):Pa(El(e))}},La=Object.getOwnPropertyDescriptor,Va={f:cl?La:function(e,t){if(e=El(e),t=fl(t,!0),hl)try{return La(e,t)}catch(e){}if(wl(e,t))return vl(!Jl.f.call(e,t),e[t])}},qa=Na.KEY,Ha=Va.f,Wa=gl.f,Ua=Ba.f,Ja=rl.Symbol,Ka=rl.JSON,Ga=Ka&&Ka.stringify,Xa=aa("_hidden"),Za=aa("toPrimitive"),Ya={}.propertyIsEnumerable,Qa=jl("symbol-registry"),ec=jl("symbols"),tc=jl("op-symbols"),nc=Object.prototype,rc="function"==typeof Ja&&!!Ul.f,oc=rl.QObject,ic=!oc||!oc.prototype||!oc.prototype.findChild,sc=cl&&al((function(){return 7!=la(Wa({},"a",{get:function(){return Wa(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Ha(nc,t);r&&delete nc[t],Wa(e,t,n),r&&e!==nc&&Wa(nc,t,r)}:Wa,lc=function(e){var t=ec[e]=la(Ja.prototype);return t._k=e,t},ac=rc&&"symbol"==typeof Ja.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof Ja},cc=function(e,t,n){return e===nc&&cc(tc,t,n),ll(e),t=fl(t,!0),ll(n),wl(ec,t)?(n.enumerable?(wl(e,Xa)&&e[Xa][t]&&(e[Xa][t]=!1),n=la(n,{enumerable:vl(0,!1)})):(wl(e,Xa)||Wa(e,Xa,vl(1,{})),e[Xa][t]=!0),sc(e,t,n)):Wa(e,t,n)},uc=function(e,t){ll(e);for(var n,r=function(e){var t=Wl(e),n=Ul.f;if(n)for(var r,o=n(e),i=Jl.f,s=0;o.length>s;)i.call(e,r=o[s++])&&t.push(r);return t}(t=El(t)),o=0,i=r.length;i>o;)cc(e,n=r[o++],t[n]);return e},dc=function(e){var t=Ya.call(this,e=fl(e,!0));return!(this===nc&&wl(ec,e)&&!wl(tc,e))&&(!(t||!wl(this,e)||!wl(ec,e)||wl(this,Xa)&&this[Xa][e])||t)},pc=function(e,t){if(e=El(e),t=fl(t,!0),e!==nc||!wl(ec,t)||wl(tc,t)){var n=Ha(e,t);return!n||!wl(ec,t)||wl(e,Xa)&&e[Xa][t]||(n.enumerable=!0),n}},hc=function(e){for(var t,n=Ua(El(e)),r=[],o=0;n.length>o;)wl(ec,t=n[o++])||t==Xa||t==qa||r.push(t);return r},fc=function(e){for(var t,n=e===nc,r=Ua(n?tc:El(e)),o=[],i=0;r.length>i;)!wl(ec,t=r[i++])||n&&!wl(nc,t)||o.push(ec[t]);return o};rc||(ea((Ja=function(){if(this instanceof Ja)throw TypeError("Symbol is not a constructor!");var e=$l(arguments.length>0?arguments[0]:void 0),t=function(n){this===nc&&t.call(tc,n),wl(this,Xa)&&wl(this[Xa],e)&&(this[Xa][e]=!1),sc(this,e,vl(1,n))};return cl&&ic&&sc(nc,e,{configurable:!0,set:t}),lc(e)}).prototype,"toString",(function(){return this._k})),Va.f=pc,gl.f=cc,Da.f=Ba.f=hc,Jl.f=dc,Ul.f=fc,Ea.f=function(e){return lc(aa(e))}),Sl(Sl.G+Sl.W+Sl.F*!rc,{Symbol:Ja});for(var mc="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),gc=0;mc.length>gc;)aa(mc[gc++]);for(var vc=Wl(aa.store),yc=0;vc.length>yc;)Ia(vc[yc++]);Sl(Sl.S+Sl.F*!rc,"Symbol",{for:function(e){return wl(Qa,e+="")?Qa[e]:Qa[e]=Ja(e)},keyFor:function(e){if(!ac(e))throw TypeError(e+" is not a symbol!");for(var t in Qa)if(Qa[t]===e)return t},useSetter:function(){ic=!0},useSimple:function(){ic=!1}}),Sl(Sl.S+Sl.F*!rc,"Object",{create:function(e,t){return void 0===t?la(e):uc(la(e),t)},defineProperty:cc,defineProperties:uc,getOwnPropertyDescriptor:pc,getOwnPropertyNames:hc,getOwnPropertySymbols:fc});var bc=al((function(){Ul.f(1)}));Sl(Sl.S+Sl.F*bc,"Object",{getOwnPropertySymbols:function(e){return Ul.f(Kl(e))}}),Ka&&Sl(Sl.S+Sl.F*(!rc||al((function(){var e=Ja();return"[null]"!=Ga([e])||"{}"!=Ga({a:e})||"{}"!=Ga(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(sl(t)||void 0!==e)&&!ac(e))return za(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ac(t))return t}),r[1]=t,Ga.apply(Ka,r)}}),Ja.prototype[Za]||yl(Ja.prototype,Za,Ja.prototype.valueOf),da(Ja,"Symbol"),da(Math,"Math",!0),da(rl.JSON,"JSON",!0);var wc=Object.freeze({__proto__:null});Ia("asyncIterator"),Ia("observable"),I(wc);var xc=ol.Symbol,kc=R((function(e){e.exports={default:xc,__esModule:!0}}));N(kc);var Sc=N(R((function(e,t){t.__esModule=!0;var n=i(Aa),r=i(kc),o="function"==typeof r.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};function i(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof r.default&&"symbol"===o(n.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":o(e)}}))),_c=/%[sdj%]/g;function Cc(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=1,o=t[0],i=t.length;if("function"==typeof o)return o.apply(null,t.slice(1));if("string"==typeof o){for(var s=String(o).replace(_c,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch(e){return"[Circular]"}break;default:return e}})),l=t[r];r<i;l=t[++r])s+=" "+l;return s}return o}function Oc(e,t){return null==e||!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"pattern"===e}(t)||"string"!=typeof e||e)}function Mc(e,t,n){var r=0,o=e.length;!function i(s){if(s&&s.length)n(s);else{var l=r;r+=1,l<o?t(e[l],i):n([])}}([])}function Ec(e,t,n,r){if(t.first)return Mc(function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n])})),t}(e),n,r);var o=t.firstFields||[];!0===o&&(o=Object.keys(e));var i=Object.keys(e),s=i.length,l=0,a=[],c=function(e){a.push.apply(a,e),++l===s&&r(a)};i.forEach((function(t){var r=e[t];-1!==o.indexOf(t)?Mc(r,n,c):function(e,t,n){var r=[],o=0,i=e.length;function s(e){r.push.apply(r,e),++o===i&&n(r)}e.forEach((function(e){t(e,s)}))}(r,n,c)}))}function Tc(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:t,field:t.field||e.fullField}}}function Ac(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===(void 0===r?"undefined":Sc(r))&&"object"===Sc(e[n])?e[n]=Ql({},e[n],r):e[n]=r}return e}function Nc(e,t,n,r,o,i){!e.required||n.hasOwnProperty(e.field)&&!Oc(t,i||e.type)||r.push(Cc(o.messages.required,e.fullField))}var Rc={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Ic={integer:function(e){return Ic.number(e)&&parseInt(e,10)===e},float:function(e){return Ic.number(e)&&!Ic.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"===(void 0===e?"undefined":Sc(e))&&!Ic.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&!!e.match(Rc.email)&&e.length<255},url:function(e){return"string"==typeof e&&!!e.match(Rc.url)},hex:function(e){return"string"==typeof e&&!!e.match(Rc.hex)}},zc={required:Nc,whitespace:function(e,t,n,r,o){(/^\s+$/.test(t)||""===t)&&r.push(Cc(o.messages.whitespace,e.fullField))},type:function(e,t,n,r,o){if(e.required&&void 0===t)Nc(e,t,n,r,o);else{var i=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)>-1?Ic[i](t)||r.push(Cc(o.messages.types[i],e.fullField,e.type)):i&&(void 0===t?"undefined":Sc(t))!==e.type&&r.push(Cc(o.messages.types[i],e.fullField,e.type))}},range:function(e,t,n,r,o){var i="number"==typeof e.len,s="number"==typeof e.min,l="number"==typeof e.max,a=t,c=null,u="number"==typeof t,d="string"==typeof t,p=Array.isArray(t);if(u?c="number":d?c="string":p&&(c="array"),!c)return!1;p&&(a=t.length),d&&(a=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),i?a!==e.len&&r.push(Cc(o.messages[c].len,e.fullField,e.len)):s&&!l&&a<e.min?r.push(Cc(o.messages[c].min,e.fullField,e.min)):l&&!s&&a>e.max?r.push(Cc(o.messages[c].max,e.fullField,e.max)):s&&l&&(a<e.min||a>e.max)&&r.push(Cc(o.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,o){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(Cc(o.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,o){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||r.push(Cc(o.messages.pattern.mismatch,e.fullField,t,e.pattern))):"string"==typeof e.pattern&&(new RegExp(e.pattern).test(t)||r.push(Cc(o.messages.pattern.mismatch,e.fullField,t,e.pattern))))}};function jc(e,t,n,r,o){var i=e.type,s=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oc(t,i)&&!e.required)return n();zc.required(e,t,r,s,o,i),Oc(t,i)||zc.type(e,t,r,s,o)}n(s)}var Dc={string:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oc(t,"string")&&!e.required)return n();zc.required(e,t,r,i,o,"string"),Oc(t,"string")||(zc.type(e,t,r,i,o),zc.range(e,t,r,i,o),zc.pattern(e,t,r,i,o),!0===e.whitespace&&zc.whitespace(e,t,r,i,o))}n(i)},method:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oc(t)&&!e.required)return n();zc.required(e,t,r,i,o),void 0!==t&&zc.type(e,t,r,i,o)}n(i)},number:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oc(t)&&!e.required)return n();zc.required(e,t,r,i,o),void 0!==t&&(zc.type(e,t,r,i,o),zc.range(e,t,r,i,o))}n(i)},boolean:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oc(t)&&!e.required)return n();zc.required(e,t,r,i,o),void 0!==t&&zc.type(e,t,r,i,o)}n(i)},regexp:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oc(t)&&!e.required)return n();zc.required(e,t,r,i,o),Oc(t)||zc.type(e,t,r,i,o)}n(i)},integer:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oc(t)&&!e.required)return n();zc.required(e,t,r,i,o),void 0!==t&&(zc.type(e,t,r,i,o),zc.range(e,t,r,i,o))}n(i)},float:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oc(t)&&!e.required)return n();zc.required(e,t,r,i,o),void 0!==t&&(zc.type(e,t,r,i,o),zc.range(e,t,r,i,o))}n(i)},array:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oc(t,"array")&&!e.required)return n();zc.required(e,t,r,i,o,"array"),Oc(t,"array")||(zc.type(e,t,r,i,o),zc.range(e,t,r,i,o))}n(i)},object:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oc(t)&&!e.required)return n();zc.required(e,t,r,i,o),void 0!==t&&zc.type(e,t,r,i,o)}n(i)},enum:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oc(t)&&!e.required)return n();zc.required(e,t,r,i,o),t&&zc.enum(e,t,r,i,o)}n(i)},pattern:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oc(t,"string")&&!e.required)return n();zc.required(e,t,r,i,o),Oc(t,"string")||zc.pattern(e,t,r,i,o)}n(i)},date:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Oc(t)&&!e.required)return n();if(zc.required(e,t,r,i,o),!Oc(t)){var s=void 0;s="number"==typeof t?new Date(t):t,zc.type(e,s,r,i,o),s&&zc.range(e,s.getTime(),r,i,o)}}n(i)},url:jc,hex:jc,email:jc,required:function(e,t,n,r,o){var i=[],s=Array.isArray(t)?"array":void 0===t?"undefined":Sc(t);zc.required(e,t,r,i,o,s),n(i)}};function Pc(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var $c=Pc();function Fc(e){this.rules=null,this._messages=$c,this.define(e)}Fc.prototype={messages:function(e){return e&&(this._messages=Ac(Pc(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==(void 0===e?"undefined":Sc(e))||Array.isArray(e))throw new Error("Rules must be an object");this.rules={};var t=void 0,n=void 0;for(t in e)e.hasOwnProperty(t)&&(n=e[t],this.rules[t]=Array.isArray(n)?n:[n])},validate:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2],o=e,i=n,s=r;if("function"==typeof i&&(s=i,i={}),this.rules&&0!==Object.keys(this.rules).length){if(i.messages){var l=this.messages();l===$c&&(l=Pc()),Ac(l,i.messages),i.messages=l}else i.messages=this.messages();var a=void 0,c=void 0,u={},d=i.keys||Object.keys(this.rules);d.forEach((function(n){a=t.rules[n],c=o[n],a.forEach((function(r){var i=r;"function"==typeof i.transform&&(o===e&&(o=Ql({},o)),c=o[n]=i.transform(c)),(i="function"==typeof i?{validator:i}:Ql({},i)).validator=t.getValidationMethod(i),i.field=n,i.fullField=i.fullField||n,i.type=t.getType(i),i.validator&&(u[n]=u[n]||[],u[n].push({rule:i,value:c,source:o,field:n}))}))}));var p={};Ec(u,i,(function(e,t){var n=e.rule,r=!("object"!==n.type&&"array"!==n.type||"object"!==Sc(n.fields)&&"object"!==Sc(n.defaultField));function o(e,t){return Ql({},t,{fullField:n.fullField+"."+e})}function s(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],l=s;if(Array.isArray(l)||(l=[l]),l.length,l.length&&n.message&&(l=[].concat(n.message)),l=l.map(Tc(n)),i.first&&l.length)return p[n.field]=1,t(l);if(r){if(n.required&&!e.value)return l=n.message?[].concat(n.message).map(Tc(n)):i.error?[i.error(n,Cc(i.messages.required,n.field))]:[],t(l);var a={};if(n.defaultField)for(var c in e.value)e.value.hasOwnProperty(c)&&(a[c]=n.defaultField);for(var u in a=Ql({},a,e.rule.fields))if(a.hasOwnProperty(u)){var d=Array.isArray(a[u])?a[u]:[a[u]];a[u]=d.map(o.bind(null,u))}var h=new Fc(a);h.messages(i.messages),e.rule.options&&(e.rule.options.messages=i.messages,e.rule.options.error=i.error),h.validate(e.value,e.rule.options||i,(function(e){t(e&&e.length?l.concat(e):e)}))}else t(l)}r=r&&(n.required||!n.required&&e.value),n.field=e.field;var l=n.validator(n,e.value,s,e.source,i);l&&l.then&&l.then((function(){return s()}),(function(e){return s(e)}))}),(function(e){h(e)}))}else s&&s();function h(e){var t,n=void 0,r=void 0,o=[],i={};for(n=0;n<e.length;n++)t=e[n],Array.isArray(t)?o=o.concat.apply(o,t):o.push(t);if(o.length)for(n=0;n<o.length;n++)i[r=o[n].field]=i[r]||[],i[r].push(o[n]);else o=null,i=null;s(o,i)}},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!Dc.hasOwnProperty(e.type))throw new Error(Cc("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?Dc.required:Dc[this.getType(e)]||!1}},Fc.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Dc[e]=t},Fc.messages=$c;var Bc,Lc=I(Object.freeze({__proto__:null,default:Fc})),Vc=N(R((function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=67)}({0:function(e,t,n){function r(e,t,n,r,o,i,s,l){var a,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(a=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=a):o&&(a=l?function(){o.call(this,this.$root.$options.shadowRoot)}:o),a)if(c.functional){c._injectStyles=a;var u=c.render;c.render=function(e,t){return a.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,a):[a]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},3:function(e,t){e.exports=Zs},4:function(e,t){e.exports=el},48:function(e,t){e.exports=Lc},67:function(e,t,n){n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-form-item",class:[{"el-form-item--feedback":e.elForm&&e.elForm.statusIcon,"is-error":"error"===e.validateState,"is-validating":"validating"===e.validateState,"is-success":"success"===e.validateState,"is-required":e.isRequired||e.required,"is-no-asterisk":e.elForm&&e.elForm.hideRequiredAsterisk},e.sizeClass?"el-form-item--"+e.sizeClass:""]},[n("label-wrap",{attrs:{"is-auto-width":e.labelStyle&&"auto"===e.labelStyle.width,"update-all":"auto"===e.form.labelWidth}},[e.label||e.$slots.label?n("label",{staticClass:"el-form-item__label",style:e.labelStyle,attrs:{for:e.labelFor}},[e._t("label",[e._v(e._s(e.label+e.form.labelSuffix))])],2):e._e()]),n("div",{staticClass:"el-form-item__content",style:e.contentStyle},[e._t("default"),n("transition",{attrs:{name:"el-zoom-in-top"}},["error"===e.validateState&&e.showMessage&&e.form.showMessage?e._t("error",[n("div",{staticClass:"el-form-item__error",class:{"el-form-item__error--inline":"boolean"==typeof e.inlineMessage?e.inlineMessage:e.elForm&&e.elForm.inlineMessage||!1}},[e._v("\n          "+e._s(e.validateMessage)+"\n        ")])],{error:e.validateMessage}):e._e()],2)],2)],1)};r._withStripped=!0;var o=n(48),i=n.n(o),s=n(4),l=n.n(s),a=n(9),c=n.n(a),u=n(3),d={props:{isAutoWidth:Boolean,updateAll:Boolean},inject:["elForm","elFormItem"],render:function(){var e=arguments[0],t=this.$slots.default;if(!t)return null;if(this.isAutoWidth){var n=this.elForm.autoLabelWidth,r={};if(n&&"auto"!==n){var o=parseInt(n,10)-this.computedWidth;o&&(r.marginLeft=o+"px")}return e("div",{class:"el-form-item__label-wrap",style:r},[t])}return t[0]},methods:{getLabelWidth:function(){if(this.$el&&this.$el.firstElementChild){var e=window.getComputedStyle(this.$el.firstElementChild).width;return Math.ceil(parseFloat(e))}return 0},updateLabelWidth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"update";this.$slots.default&&this.isAutoWidth&&this.$el.firstElementChild&&("update"===e?this.computedWidth=this.getLabelWidth():"remove"===e&&this.elForm.deregisterLabelWidth(this.computedWidth))}},watch:{computedWidth:function(e,t){this.updateAll&&(this.elForm.registerLabelWidth(e,t),this.elFormItem.updateComputedLabelWidth(e))}},data:function(){return{computedWidth:0}},mounted:function(){this.updateLabelWidth("update")},updated:function(){this.updateLabelWidth("update")},beforeDestroy:function(){this.updateLabelWidth("remove")}},p=n(0),h=Object(p.a)(d,void 0,void 0,!1,null,null,null);h.options.__file="packages/form/src/label-wrap.vue";var f=h.exports,m={name:"ElFormItem",componentName:"ElFormItem",mixins:[l.a],provide:function(){return{elFormItem:this}},inject:["elForm"],props:{label:String,labelWidth:String,prop:String,required:{type:Boolean,default:void 0},rules:[Object,Array],error:String,validateStatus:String,for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:String},components:{LabelWrap:f},watch:{error:{immediate:!0,handler:function(e){this.validateMessage=e,this.validateState=e?"error":""}},validateStatus:function(e){this.validateState=e}},computed:{labelFor:function(){return this.for||this.prop},labelStyle:function(){var e={};if("top"===this.form.labelPosition)return e;var t=this.labelWidth||this.form.labelWidth;return t&&(e.width=t),e},contentStyle:function(){var e={},t=this.label;if("top"===this.form.labelPosition||this.form.inline)return e;if(!t&&!this.labelWidth&&this.isNested)return e;var n=this.labelWidth||this.form.labelWidth;return"auto"===n?"auto"===this.labelWidth?e.marginLeft=this.computedLabelWidth:"auto"===this.form.labelWidth&&(e.marginLeft=this.elForm.autoLabelWidth):e.marginLeft=n,e},form:function(){for(var e=this.$parent,t=e.$options.componentName;"ElForm"!==t;)"ElFormItem"===t&&(this.isNested=!0),t=(e=e.$parent).$options.componentName;return e},fieldValue:function(){var e=this.form.model;if(e&&this.prop){var t=this.prop;return-1!==t.indexOf(":")&&(t=t.replace(/:/,".")),Object(u.getPropByPath)(e,t,!0).v}},isRequired:function(){var e=this.getRules(),t=!1;return e&&e.length&&e.every((function(e){return!e.required||(t=!0,!1)})),t},_formSize:function(){return this.elForm.size},elFormItemSize:function(){return this.size||this._formSize},sizeClass:function(){return this.elFormItemSize||(this.$ELEMENT||{}).size}},data:function(){return{validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1,computedLabelWidth:""}},methods:{validate:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.noop;this.validateDisabled=!1;var r=this.getFilteredRule(e);if((!r||0===r.length)&&void 0===this.required)return n(),!0;this.validateState="validating";var o={};r&&r.length>0&&r.forEach((function(e){delete e.trigger})),o[this.prop]=r;var s=new i.a(o),l={};l[this.prop]=this.fieldValue,s.validate(l,{firstFields:!0},(function(e,r){t.validateState=e?"error":"success",t.validateMessage=e?e[0].message:"",n(t.validateMessage,r),t.elForm&&t.elForm.$emit("validate",t.prop,!e,t.validateMessage||null)}))},clearValidate:function(){this.validateState="",this.validateMessage="",this.validateDisabled=!1},resetField:function(){var e=this;this.validateState="",this.validateMessage="";var t=this.form.model,n=this.fieldValue,r=this.prop;-1!==r.indexOf(":")&&(r=r.replace(/:/,"."));var o=Object(u.getPropByPath)(t,r,!0);this.validateDisabled=!0,Array.isArray(n)?o.o[o.k]=[].concat(this.initialValue):o.o[o.k]=this.initialValue,this.$nextTick((function(){e.validateDisabled=!1})),this.broadcast("ElTimeSelect","fieldReset",this.initialValue)},getRules:function(){var e=this.form.rules,t=this.rules,n=void 0!==this.required?{required:!!this.required}:[],r=Object(u.getPropByPath)(e,this.prop||"");return e=e?r.o[this.prop||""]||r.v:[],[].concat(t||e||[]).concat(n)},getFilteredRule:function(e){return this.getRules().filter((function(t){return!t.trigger||""===e||(Array.isArray(t.trigger)?t.trigger.indexOf(e)>-1:t.trigger===e)})).map((function(e){return c()({},e)}))},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")},updateComputedLabelWidth:function(e){this.computedLabelWidth=e?e+"px":""},addValidateEvents:function(){(this.getRules().length||void 0!==this.required)&&(this.$on("el.form.blur",this.onFieldBlur),this.$on("el.form.change",this.onFieldChange))},removeValidateEvents:function(){this.$off()}},mounted:function(){if(this.prop){this.dispatch("ElForm","el.form.addField",[this]);var e=this.fieldValue;Array.isArray(e)&&(e=[].concat(e)),Object.defineProperty(this,"initialValue",{value:e}),this.addValidateEvents()}},beforeDestroy:function(){this.dispatch("ElForm","el.form.removeField",[this])}},g=Object(p.a)(m,r,[],!1,null,null,null);g.options.__file="packages/form/src/form-item.vue";var v=g.exports;v.install=function(e){e.component(v.name,v)},t.default=v},9:function(e,t){e.exports=tl}})}))),qc=N(R((function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=121)}({0:function(e,t,n){function r(e,t,n,r,o,i,s,l){var a,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(a=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=a):o&&(a=l?function(){o.call(this,this.$root.$options.shadowRoot)}:o),a)if(c.functional){c._injectStyles=a;var u=c.render;c.render=function(e,t){return a.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,a):[a]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},121:function(e,t,n){n.r(t);var r=function(){var e=this.$createElement;return(this._self._c||e)("form",{staticClass:"el-form",class:[this.labelPosition?"el-form--label-"+this.labelPosition:"",{"el-form--inline":this.inline}]},[this._t("default")],2)};r._withStripped=!0;var o=n(9),i=n.n(o),s={name:"ElForm",componentName:"ElForm",provide:function(){return{elForm:this}},props:{model:Object,rules:Object,labelPosition:String,labelWidth:String,labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1}},watch:{rules:function(){this.fields.forEach((function(e){e.removeValidateEvents(),e.addValidateEvents()})),this.validateOnRuleChange&&this.validate((function(){}))}},computed:{autoLabelWidth:function(){if(!this.potentialLabelWidthArr.length)return 0;var e=Math.max.apply(Math,this.potentialLabelWidthArr);return e?e+"px":""}},data:function(){return{fields:[],potentialLabelWidthArr:[]}},created:function(){var e=this;this.$on("el.form.addField",(function(t){t&&e.fields.push(t)})),this.$on("el.form.removeField",(function(t){t.prop&&e.fields.splice(e.fields.indexOf(t),1)}))},methods:{resetFields:function(){this.model?this.fields.forEach((function(e){e.resetField()})):console.warn("[Element Warn][Form]model is required for resetFields to work.")},clearValidate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length?"string"==typeof e?this.fields.filter((function(t){return e===t.prop})):this.fields.filter((function(t){return e.indexOf(t.prop)>-1})):this.fields;t.forEach((function(e){e.clearValidate()}))},validate:function(e){var t=this;if(this.model){var n=void 0;"function"!=typeof e&&window.Promise&&(n=new window.Promise((function(t,n){e=function(e){e?t(e):n(e)}})));var r=!0,o=0;0===this.fields.length&&e&&e(!0);var s={};return this.fields.forEach((function(n){n.validate("",(function(n,l){n&&(r=!1),s=i()({},s,l),"function"==typeof e&&++o===t.fields.length&&e(r,s)}))})),n||void 0}console.warn("[Element Warn][Form]model is required for validate to work!")},validateField:function(e,t){e=[].concat(e);var n=this.fields.filter((function(t){return-1!==e.indexOf(t.prop)}));n.length?n.forEach((function(e){e.validate("",t)})):console.warn("[Element Warn]please pass correct props!")},getLabelWidthIndex:function(e){var t=this.potentialLabelWidthArr.indexOf(e);if(-1===t)throw new Error("[ElementForm]unpected width ",e);return t},registerLabelWidth:function(e,t){if(e&&t){var n=this.getLabelWidthIndex(t);this.potentialLabelWidthArr.splice(n,1,e)}else e&&this.potentialLabelWidthArr.push(e)},deregisterLabelWidth:function(e){var t=this.getLabelWidthIndex(e);this.potentialLabelWidthArr.splice(t,1)}}},l=n(0),a=Object(l.a)(s,r,[],!1,null,null,null);a.options.__file="packages/form/src/form.vue";var c=a.exports;c.install=function(e){e.component(c.name,c)},t.default=c},9:function(e,t){e.exports=tl}})}))),Hc=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).linkAttrs=e.initLinkAttrs,e.editLinkDialogVisible=!1,e}return Pn(n,[{key:"updateLinkAttrs",value:function(){this.editorContext.commands.link(this.linkAttrs),this.closeEditLinkDialog()}},{key:"openEditLinkDialog",value:function(){this.editLinkDialogVisible=!0}},{key:"closeEditLinkDialog",value:function(){this.editLinkDialogVisible=!1}}]),n}();zr([eo({type:Object,required:!0})],Hc.prototype,"editorContext",void 0),zr([eo({type:Object,required:!0})],Hc.prototype,"initLinkAttrs",void 0),zr([Zr()],Hc.prototype,"et",void 0);const Wc=Cs({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("command-button",{attrs:{command:e.openEditLinkDialog,"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.Link.edit.tooltip"),icon:"edit"}}),e._v(" "),n("el-dialog",{attrs:{title:e.et.t("editor.extensions.Link.edit.control.title"),visible:e.editLinkDialogVisible,"append-to-body":!0,width:"400px","custom-class":"el-tiptap-edit-link-dialog"},on:{"update:visible":function(t){e.editLinkDialogVisible=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[n("el-button",{attrs:{size:"small",round:""},on:{click:e.closeEditLinkDialog}},[e._v("\n        "+e._s(e.et.t("editor.extensions.Link.edit.control.cancel"))+"\n      ")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"small",round:""},on:{mousedown:function(e){e.preventDefault()},click:e.updateLinkAttrs}},[e._v("\n        "+e._s(e.et.t("editor.extensions.Link.edit.control.confirm"))+"\n      ")])]},proxy:!0}])},[n("el-form",{attrs:{model:e.linkAttrs,"label-position":"right",size:"small"}},[n("el-form-item",{attrs:{label:e.et.t("editor.extensions.Link.edit.control.href"),prop:"href"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.linkAttrs.href,callback:function(t){e.$set(e.linkAttrs,"href",t)},expression:"linkAttrs.href"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"openInNewTab"}},[n("el-checkbox",{model:{value:e.linkAttrs.openInNewTab,callback:function(t){e.$set(e.linkAttrs,"openInNewTab",t)},expression:"linkAttrs.openInNewTab"}},[e._v("\n          "+e._s(e.et.t("editor.extensions.Link.edit.control.open_in_new_tab"))+"\n        ")])],1)],1)],1)],1)},staticRenderFns:[]},void 0,Hc=zr([Xr({components:(Bc={},Mr(Bc,m.a.name,m.a),Mr(Bc,qc.name,qc),Mr(Bc,Vc.name,Vc),Mr(Bc,nl.name,nl),Mr(Bc,h.a.name,h.a),Mr(Bc,d.a.name,d.a),Mr(Bc,"CommandButton",Js),Bc)})],Hc),void 0,!1,void 0,!1,void 0,void 0,void 0);var Uc=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return n}();zr([eo({type:Object,required:!0})],Uc.prototype,"editorContext",void 0),zr([Zr()],Uc.prototype,"et",void 0);const Jc=Cs({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("command-button",{attrs:{command:function(){return e.editorContext.commands.link({href:""})},"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.Link.unlink.tooltip"),icon:"unlink"}})},staticRenderFns:[]},void 0,Uc=zr([Xr({components:{CommandButton:Js}})],Uc),void 0,!1,void 0,!1,void 0,void 0,void 0);var Kc=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"linkAttrs",get:function(){return(0,this.editorContext.getMarkAttrs)("link")}}]),n}();zr([eo({type:Object,required:!0})],Kc.prototype,"editorContext",void 0);const Gc=Cs({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"link-bubble-menu"},[e._t("prepend"),e._v(" "),n("open-link-command-button",{attrs:{url:e.linkAttrs.href}}),e._v(" "),n("edit-link-command-button",{attrs:{"editor-context":e.editorContext,"init-link-attrs":e.linkAttrs}}),e._v(" "),n("unlink-command-button",{attrs:{"editor-context":e.editorContext}})],2)},staticRenderFns:[]},void 0,Kc=zr([Xr({components:{OpenLinkCommandButton:Gs,EditLinkCommandButton:Wc,UnlinkCommandButton:Jc}})],Kc),void 0,!1,void 0,!1,void 0,void 0,void 0);var Xc=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).activeMenu="none",e.isLinkBack=!1,e}return Pn(n,[{key:"linkBack",value:function(){this.setMenuType("default"),this.isLinkBack=!0}},{key:"onSelectionChange",value:function(e){this.$_isLinkSelection(e)?this.isLinkBack||this.setMenuType("link"):(this.activeMenu=this.$_getCurrentMenuType(),this.isLinkBack=!1)}},{key:"generateCommandButtonComponentSpecs",value:function(e){var t=this;return this.editor.extensions.extensions.reduce((function(n,r){if(!r.options.bubble)return n;if("function"!=typeof r.menuBtnView)return n;var o=r.menuBtnView(Object.assign(Object.assign({},e),{editor:t.editor,t:t.et.t}));return Array.isArray(o)?[].concat(Or(n),Or(o)):[].concat(Or(n),[o])}),[])}},{key:"setMenuType",value:function(e){this.activeMenu=e}},{key:"$_isLinkSelection",value:function(e){var t=this.editor.schema.marks.link;if(!t)return!1;if(!e)return!1;var n=e.$from,r=e.$to,o=Ws(n,t);return!!o&&o.to===r.pos}},{key:"$_getCurrentMenuType",value:function(){return this.isLinkSelection?"link":this.editor.state.selection instanceof s["TextSelection"]||this.editor.state.selection instanceof s["AllSelection"]?"default":"none"}},{key:"bubbleMenuEnable",get:function(){return this.linkMenuEnable||this.textMenuEnable}},{key:"linkMenuEnable",get:function(){return!!this.editor.schema.marks.link}},{key:"textMenuEnable",get:function(){return this.editor.extensions.extensions.some((function(e){return e.options.bubble}))}},{key:"isLinkSelection",get:function(){var e=this.editor.state.tr.selection;return this.$_isLinkSelection(e)}}]),n}();zr([eo({type:o["b"],required:!0})],Xc.prototype,"editor",void 0),zr([eo({type:Object,default:function(){return{}}})],Xc.prototype,"menuBubbleOptions",void 0),zr([Zr()],Xc.prototype,"et",void 0),zr([to("editor.state.selection")],Xc.prototype,"onSelectionChange",null);const Zc=Cs({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("editor-menu-bubble",e._b({attrs:{editor:e.editor},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticClass:"el-tiptap-editor__menu-bubble",class:{"el-tiptap-editor__menu-bubble--active":t.menu.isActive&&e.bubbleMenuEnable},style:"\n      left: "+t.menu.left+"px;\n      bottom: "+(t.menu.bottom+10)+"px;\n    "},["link"===e.activeMenu?n("link-bubble-menu",{attrs:{editorContext:Object.assign({},t,{editor:e.editor})},scopedSlots:e._u([{key:"prepend",fn:function(){return[e.textMenuEnable?n("div",{staticClass:"el-tiptap-editor__command-button",on:{mousedown:function(e){e.preventDefault()},click:e.linkBack}},[n("v-icon",{attrs:{name:"arrow-left"}})],1):e._e()]},proxy:!0}],null,!0)}):"default"===e.activeMenu?e._l(e.generateCommandButtonComponentSpecs(t),(function(t,r){return n(t.component,e._g(e._b({key:"command-button"+r,tag:"component",attrs:{"enable-tooltip":e.et.tooltip}},"component",t.componentProps,!1),t.componentEvents))})):e._e()],2)]}}])},"editor-menu-bubble",e.menuBubbleOptions,!1))},staticRenderFns:[]},void 0,Xc=zr([Xr({components:{"v-icon":Ls,EditorMenuBubble:o["e"],LinkBubbleMenu:Gc}})],Xc),void 0,!1,void 0,!1,void 0,void 0,void 0);var Yc,Qc,eu=["transaction","focus","blur","paste","drop"],tu=function(e){Tr(n,Hr(xs,Ss));var t=Ir(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).editor=null,e.emitAfterOnUpdate=!1,e.isFullscreen=!1,e}return Pn(n,[{key:"onContentChange",value:function(e){this.emitAfterOnUpdate?this.emitAfterOnUpdate=!1:this.editor&&this.editor.setContent(e)}},{key:"onReadonlyChange",value:function(){this.editor&&this.editor.setOptions({editable:!this.readonly})}},{key:"mounted",value:function(){var e=this,t=this.generateExtensions(),n=eu.reduce((function(t,n){return Object.assign(Object.assign({},t),Mr({},"on".concat(bs(n)),(function(){return e.emitEvent.bind(e)(n)})))}),{});this.editor=new o["b"](Object.assign(Object.assign(Object.assign(Object.assign({},this.editorProperties),{editable:!this.readonly,useBuiltInExtensions:!1,extensions:t}),n),{content:this.content,onUpdate:this.onUpdate.bind(this)})),this.$emit(this.genEvent("init"),{editor:this.editor})}},{key:"beforeDestroy",value:function(){this.editor&&this.editor.destroy()}},{key:"generateExtensions",value:function(){var e=Or(this.extensions);return e.push(new io({spellcheck:this.spellcheckEnabled})),e.push(this.initPlaceholderExtension()),e}},{key:"emitEvent",value:function(e){this.$emit(this.genEvent(e),{editor:this.editor})}},{key:"onUpdate",value:function(e){var t;this.emitAfterOnUpdate=!0,t="html"===this.output?e.getHTML():JSON.stringify(e.getJSON()),this.$emit(this.genEvent("update"),t,e)}},{key:"t",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.i18nHandler.apply(this,t)}},{key:"genEvent",value:function(e){return"on".concat(bs(e))}},{key:"getTitleExtension",value:function(){if(this.extensions.find((function(e){return"doc"===e.name})).options.title){var e=this.extensions.find((function(e){return"title"===e.name}));if(e)return e}return null}},{key:"initPlaceholderExtension",value:function(){var e=this,t=this.getTitleExtension();return new i["m"](t?{emptyEditorClass:"el-tiptap-editor--empty",emptyNodeClass:"el-tiptap-editor__with-title-placeholder",showOnlyCurrent:!1,emptyNodeText:function(n){return"title"===n.type.name?t.options.placeholder:e.placeholder}}:{emptyEditorClass:"el-tiptap-editor--empty",emptyNodeClass:"el-tiptap-editor__placeholder",emptyNodeText:this.placeholder})}},{key:"et",get:function(){return this}},{key:"characters",get:function(){return this.editor?this.editor.state.doc.textContent.length:0}},{key:"showFooter",get:function(){return this.charCounterCount&&!this.isCodeViewMode}},{key:"spellcheckEnabled",get:function(){return null==this.spellcheck?!this.$elementTiptapPlugin||this.$elementTiptapPlugin.spellcheck:this.spellcheck}},{key:"i18nHandler",get:function(){var e=this.lang||this.$elementTiptapPlugin.lang;return ur.buildI18nHandler(e)}}]),n}();zr([eo({type:Array,default:function(){return[]}})],tu.prototype,"extensions",void 0),zr([(Yc="onUpdate",Qc={type:String,default:""},void 0===Qc&&(Qc={}),function(e,t){Qr(Qc,e,t),qr((function(e,t){(e.props||(e.props={}))[t]=Qc,e.model={prop:t,event:Yc||t}}))(e,t)})],tu.prototype,"content",void 0),zr([eo({type:String,default:""})],tu.prototype,"placeholder",void 0),zr([eo({type:Object,default:function(){return{}}})],tu.prototype,"editorProperties",void 0),zr([eo({type:String,default:"html",validator:function(e){return["html","json"].includes(e)}})],tu.prototype,"output",void 0),zr([eo({type:Boolean,default:!1})],tu.prototype,"readonly",void 0),zr([eo({type:Boolean,default:void 0})],tu.prototype,"spellcheck",void 0),zr([eo({type:Boolean,default:!0})],tu.prototype,"tooltip",void 0),zr([eo({type:String,default:void 0,validator:function(e){return ur.isLangSupported(e)}})],tu.prototype,"lang",void 0),zr([eo({type:[String,Array,Object],default:void 0})],tu.prototype,"editorClass",void 0),zr([eo({type:[String,Array,Object],default:void 0})],tu.prototype,"editorContentClass",void 0),zr([eo({type:[String,Array,Object],default:void 0})],tu.prototype,"editorMenubarClass",void 0),zr([eo({type:[String,Array,Object],default:void 0})],tu.prototype,"editorBubbleMenuClass",void 0),zr([eo({type:[String,Array,Object],default:void 0})],tu.prototype,"editorFooterClass",void 0),zr([eo({type:Object,default:function(){return{}}})],tu.prototype,"menuBubbleOptions",void 0),zr([function(e){return qr((function(t,n){var r,o=t.provide;("function"!=typeof(r=o)||!r.managed&&!r.managedReactive)&&(o=t.provide=function(e){var t=function(){var n=this,r="function"==typeof e?e.call(this):e;for(var o in(r=Object.create(r||null)).__reactiveInject__=this.__reactiveInject__||{},t.managed)r[t.managed[o]]=this[o];var i=function(e){r[t.managedReactive[e]]=s[e],r.__reactiveInject__.hasOwnProperty(t.managedReactive[e])||Object.defineProperty(r.__reactiveInject__,t.managedReactive[e],{enumerable:!0,get:function(){return n[e]}})},s=this;for(var o in t.managedReactive)i(o);return r};return t.managed={},t.managedReactive={},t}(o)),o.managed[n]=e||n}))}()],tu.prototype,"et",null),zr([to("content")],tu.prototype,"onContentChange",null),zr([to("readonly")],tu.prototype,"onReadonlyChange",null);const nu=Cs({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.editor?n("div",{class:[{"el-tiptap-editor":!0,"el-tiptap-editor--fullscreen":e.isFullscreen},e.editorClass],style:e.elTiptapEditorStyle},[n("menu-bubble",{class:e.editorBubbleMenuClass,attrs:{editor:e.editor,menuBubbleOptions:e.menuBubbleOptions}}),e._v(" "),e.showMenubar?n("menu-bar",{class:[{"border-top-radius":e.showMenubar},e.editorMenubarClass],attrs:{editor:e.editor},scopedSlots:e._u([e.$scopedSlots.menubar?{key:"default",fn:function(t){return[e._t("menubar",null,null,t)]}}:null],null,!0)}):e._e(),e._v(" "),e.isCodeViewMode?n("div",{class:{"el-tiptap-editor__codemirror":!0,"border-bottom-radius":e.isCodeViewMode}},[n("textarea",{ref:"cmTextArea"})]):e._e(),e._v(" "),n("editor-content",{directives:[{name:"show",rawName:"v-show",value:!e.isCodeViewMode,expression:"!isCodeViewMode"}],class:[{"el-tiptap-editor__content":!0,"border-top-radius":!e.showMenubar,"border-bottom-radius":!e.showFooter},e.editorContentClass],attrs:{editor:e.editor}}),e._v(" "),e._t("footer",[e.showFooter?n("div",{class:[{"el-tiptap-editor__footer":!0,"border-bottom-radius":e.showFooter},e.editorFooterClass]},[n("span",{staticClass:"el-tiptap-editor__characters"},[e._v("\n        "+e._s(e.t("editor.characters"))+": "+e._s(e.characters)+"\n      ")])]):e._e()],{editor:e.editor})],2):e._e()},staticRenderFns:[]},void 0,tu=zr([Xr({components:{MenuBar:Os,MenuBubble:Zc,EditorContent:o["c"]},inject:[]})],tu),void 0,!1,void 0,!1,void 0,void 0,void 0);var ru=function(e){Tr(n,o["a"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"defaultOptions",get:function(){return{title:!1}}},{key:"schema",get:function(){return{content:this.options.title?"title block+":"block+"}}}]),n}(),ou=fr.forEach,iu=Yt("forEach"),su=Jt("forEach"),lu=iu&&su?[].forEach:function(e){return ou(this,e,arguments.length>1?arguments[1]:void 0)};ct({target:"Array",proto:!0,forced:[].forEach!=lu},{forEach:lu});var au=["paragraph","heading","list_item","todo_item"],cu=/^\d+(.\d+)?$/;function uu(e){if(!e)return"";var t=String(e);if(cu.test(t)){var n=parseFloat(t);t=String(Math.round(100*n))+"%"}return 1.7*parseFloat(t)+"%"}function du(e,t){var n=e,r=n.selection,o=n.doc;if(!r||!o)return e;if(!(r instanceof s["TextSelection"]||r instanceof s["AllSelection"]))return e;var i=r.from,l=r.to,a=[],c=t&&"100%"!==t?t:null;return o.nodesBetween(i,l,(function(e,t){var n=e.type;return!au.includes(n.name)||((e.attrs.lineHeight||null)!==c&&a.push({node:e,pos:t,nodeType:n}),"list_item"!==n.name&&"todo_item"!==n.name)})),a.length?(a.forEach((function(t){var n=t.node,r=t.pos,o=t.nodeType,i=n.attrs;i=Object.assign(Object.assign({},i),{lineHeight:c}),e=e.setNodeMarkup(r,o,i,n.marks)})),e):e}var pu={attrs:{textAlign:{default:null},indent:{default:null},lineHeight:{default:null}},content:"inline*",group:"block",parseDOM:[{tag:"p",getAttrs:hu}],toDOM:fu};function hu(e){var t=e.style,n=t.textAlign,r=t.lineHeight,o=e.getAttribute("data-text-align")||n||"";return{textAlign:o=sr.test(o)?o:null,indent:parseInt(e.getAttribute("data-indent"),10)||0,lineHeight:r=function(e){if(!e)return"";if("100%"===e)return"";var t=e;if(cu.test(e)){var n=parseFloat(e);if("100%"===(t=String(Math.round(100*n))+"%"))return""}return parseFloat(t)/1.7+"%"}(r)||null}}function fu(e){var t=e.attrs,n=t.textAlign,r=t.indent,o=t.lineHeight,i="",s={};if(n&&"left"!==n&&(i+="text-align: ".concat(n,";")),r&&(s["data-indent"]=r),o){var l=uu(o);i+="line-height: ".concat(l,";")}return i&&(s.style=i),["p",s,0]}var mu,gu=function(e){Tr(n,o["i"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"schema",get:function(){return pu}}]),n}(),vu=fu,yu=hu,bu=(function(e){Tr(n,o["h"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}Pn(n,[{key:"name",get:function(){return"title"}},{key:"defaultOptions",get:function(){return{placeholder:"",class:""}}},{key:"schema",get:function(){var e=this;return{attrs:{textAlign:{default:null}},content:"inline*",parseDOM:[{tag:"h1",getAttrs:yu}],toDOM:function(t){var n=vu(t);return["h1",Object.assign(Object.assign({},n[1]),{class:e.options.class}),0]}}}}])}(),fr.map),wu=Mt("map"),xu=Jt("map");function ku(e,t){var n=function(e){var t=e.schema.nodes.heading;return Object(l["findParentNodeOfType"])(t)(e.selection)}(e);return null==t?!!n:!!(n&&n.node&&n.node.attrs&&n.node.attrs.level===t)}ct({target:"Array",proto:!0,forced:!wu||!xu},{map:function(e){return bu(this,e,arguments.length>1?arguments[1]:void 0)}}),_n("match",1,(function(e,t,n){return[function(t){var n=U(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var o=oe(e),i=String(this);if(!o.global)return Nn(o,i);var s=o.unicode;o.lastIndex=0;for(var l,a=[],c=0;null!==(l=Nn(o,i));){var u=String(l[0]);a[c]=u,""===u&&(o.lastIndex=An(i,Le(o.lastIndex),s)),c++}return 0===c?null:a}]}));var Su=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"isHeadingActive",value:function(e){return ku(this.editor.state,e)}},{key:"editor",get:function(){return this.editorContext.editor}},{key:"level",get:function(){return this.editor.extensions.options.heading.level}}]),n}();zr([eo({type:Object,required:!0})],Su.prototype,"editorContext",void 0),zr([Zr()],Su.prototype,"et",void 0);const _u=Cs({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{attrs:{placement:"bottom",trigger:"click"},on:{command:function(t){return t>0?e.editorContext.commands.heading({level:t}):e.editorContext.commands.paragraph()}}},[n("command-button",{attrs:{"is-active":e.isHeadingActive(),"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.Heading.tooltip"),readonly:e.et.isCodeViewMode,icon:"heading"}}),e._v(" "),n("el-dropdown-menu",{staticClass:"el-tiptap-dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":e.editorContext.isActive.paragraph()},attrs:{command:0}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Heading.buttons.paragraph")))])]),e._v(" "),e._l(e.level,(function(t){return n("el-dropdown-item",{key:t,staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":e.isHeadingActive(t)},attrs:{command:t}},[n("h"+t,{tag:"component",attrs:{"data-item-type":"heading"}},[e._v("\n        "+e._s(e.et.t("editor.extensions.Heading.buttons.heading"))+" "+e._s(t)+"\n      ")])],1)}))],2)],1)},staticRenderFns:[]},void 0,Su=zr([Xr({components:(mu={},Mr(mu,x.a.name,x.a),Mr(mu,b.a.name,b.a),Mr(mu,v.a.name,v.a),Mr(mu,"CommandButton",Js),mu)})],Su),void 0,!1,void 0,!1,void 0,void 0,void 0);function Cu(e){var t=yu(e),n=e.nodeName.match(/[H|h](\d)/)[1];return t.level=Number(n),t}function Ou(e){var t=vu(e),n=e.attrs.level||1;return t[0]="h".concat(n),t}var Mu=function(e){Tr(n,i["e"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"menuBtnView",value:function(e){return{component:_u,componentProps:{editorContext:e}}}},{key:"schema",get:function(){return Object.assign(Object.assign({},pu),{attrs:Object.assign(Object.assign({},pu.attrs),{level:{default:1}}),defining:!0,draggable:!1,parseDOM:this.options.levels.map((function(e){return{tag:"h".concat(e),getAttrs:Cu}})),toDOM:Ou})}}]),n}(),Eu=Object.assign(Object.assign({},pu),{attrs:{textAlign:{default:null},indent:{default:null}},content:"block*",defining:!0,parseDOM:[{tag:"blockquote",getAttrs:function(e){return yu(e)}}],toDOM:function(e){var t=vu(e);return t[0]="blockquote",t}}),Tu=(function(e){Tr(n,i["a"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}Pn(n,[{key:"menuBtnView",value:function(e){var t=e.isActive,n=e.commands,r=e.t;return{component:Js,componentProps:{command:n.blockquote,isActive:t.blockquote(),icon:"quote-right",tooltip:r("editor.extensions.Blockquote.tooltip")}}}},{key:"schema",get:function(){return Eu}}])}(),function(e){Tr(n,i["d"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}Pn(n,[{key:"menuBtnView",value:function(e){var t=e.isActive,n=e.commands,r=e.t;return{component:Js,componentProps:{command:n.code_block,isActive:t.code_block(),icon:"code",tooltip:r("editor.extensions.CodeBlock.tooltip")}}}}])}(),{attrs:{textAlign:{default:null},lineHeight:{default:null}},content:"paragraph block*",defining:!0,draggable:!1,parseDOM:[{tag:"li",getAttrs:function(e){var t=e.style,n=t.textAlign,r=t.lineHeight,o=e.getAttribute("data-text-align")||n||"";return o=sr.test(o)?o:null,r=r&&r!==uu(1.7)?r:null,{textAlign:o,lineHeight:r}}}],toDOM:function(e){var t=e.attrs,n=t.textAlign,r=t.lineHeight,o="",i={};if(n&&"left"!==n&&(o+="text-align: ".concat(n)),r){var s=uu(r);o+="line-height: ".concat(s,";")}return o&&(i.style=o),["li",i,0]}}),Au=function(e){Tr(n,i["k"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"schema",get:function(){return Tu}}]),n}(),Nu=function(e){Tr(n,i["c"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"menuBtnView",value:function(e){var t=e.isActive,n=e.commands,r=e.t;return{component:Js,componentProps:{isActive:t.bullet_list(),command:n.bullet_list,icon:"list-ul",tooltip:r("editor.extensions.BulletList.tooltip")}}}}]),n}(),Ru=function(e){Tr(n,i["l"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"menuBtnView",value:function(e){var t=e.isActive,n=e.commands,r=e.t;return{component:Js,componentProps:{isActive:t.ordered_list(),command:n.ordered_list,icon:"list-ol",tooltip:r("editor.extensions.OrderedList.tooltip")}}}}]),n}(),Iu=R((function(e,t){t.__esModule=!0,t.isInContainer=t.getScrollContainer=t.isScroll=t.getStyle=t.once=t.off=t.on=void 0;var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.hasClass=p,t.addClass=function(e,t){if(e){for(var n=e.className,r=(t||"").split(" "),o=0,i=r.length;o<i;o++){var s=r[o];s&&(e.classList?e.classList.add(s):p(e,s)||(n+=" "+s))}e.classList||(e.className=n)}},t.removeClass=function(e,t){if(e&&t){for(var n=t.split(" "),r=" "+e.className+" ",o=0,i=n.length;o<i;o++){var s=n[o];s&&(e.classList?e.classList.remove(s):p(e,s)&&(r=r.replace(" "+s+" "," ")))}e.classList||(e.className=function(e){return(e||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")}(r))}},t.setStyle=function e(t,n,r){if(t&&n)if("object"===(void 0===n?"undefined":o(n)))for(var i in n)n.hasOwnProperty(i)&&e(t,i,n[i]);else"opacity"===(n=c(n))&&a<9?t.style.filter=isNaN(r)?"":"alpha(opacity="+100*r+")":t.style[n]=r};var i=((n=r["default"])&&n.__esModule?n:{default:n}).default.prototype.$isServer,s=/([\:\-\_]+(.))/g,l=/^moz([A-Z])/,a=i?0:Number(document.documentMode),c=function(e){return e.replace(s,(function(e,t,n,r){return r?n.toUpperCase():n})).replace(l,"Moz$1")},u=t.on=!i&&document.addEventListener?function(e,t,n){e&&t&&n&&e.addEventListener(t,n,!1)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)},d=t.off=!i&&document.removeEventListener?function(e,t,n){e&&t&&e.removeEventListener(t,n,!1)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)};function p(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}t.once=function(e,t,n){u(e,t,(function r(){n&&n.apply(this,arguments),d(e,t,r)}))};var h=t.getStyle=a<9?function(e,n){if(!i){if(!e||!n)return null;"float"===(n=c(n))&&(n="styleFloat");try{switch(n){case"opacity":try{return e.filters.item("alpha").opacity/100}catch(e){return 1}default:return e.style[n]||e.currentStyle?e.currentStyle[n]:null}}catch(t){return e.style[n]}}}:function(e,t){if(!i){if(!e||!t)return null;"float"===(t=c(t))&&(t="cssFloat");try{var n=document.defaultView.getComputedStyle(e,"");return e.style[t]||n?n[t]:null}catch(n){return e.style[t]}}},f=t.isScroll=function(e,t){if(!i)return h(e,null!==t||void 0!==t?t?"overflow-y":"overflow-x":"overflow").match(/(scroll|auto)/)};t.getScrollContainer=function(e,t){if(!i){for(var n=e;n;){if([window,document,document.documentElement].includes(n))return window;if(f(n,t))return n;n=n.parentNode}return n}},t.isInContainer=function(e,t){if(i||!e||!t)return!1;var n=e.getBoundingClientRect(),r=void 0;return r=[window,document,document.documentElement,null,void 0].includes(t)?{top:0,right:window.innerWidth,bottom:window.innerHeight,left:0}:t.getBoundingClientRect(),n.top<r.bottom&&n.bottom>r.top&&n.right>r.left&&n.left<r.right}}));N(Iu),Iu.isInContainer,Iu.getScrollContainer,Iu.isScroll,Iu.getStyle,Iu.once,Iu.off,Iu.on,Iu.hasClass,Iu.addClass,Iu.removeClass,Iu.setStyle;var zu=R((function(e,t){t.__esModule=!0;var n,o=(n=r["default"])&&n.__esModule?n:{default:n},i=!1,s=!1,l=void 0,a=function(){if(!o.default.prototype.$isServer){var e=u.modalDom;return e?i=!0:(i=!1,e=document.createElement("div"),u.modalDom=e,e.addEventListener("touchmove",(function(e){e.preventDefault(),e.stopPropagation()})),e.addEventListener("click",(function(){u.doOnModalClick&&u.doOnModalClick()}))),e}},c={},u={modalFade:!0,getInstance:function(e){return c[e]},register:function(e,t){e&&t&&(c[e]=t)},deregister:function(e){e&&(c[e]=null,delete c[e])},nextZIndex:function(){return u.zIndex++},modalStack:[],doOnModalClick:function(){var e=u.modalStack[u.modalStack.length-1];if(e){var t=u.getInstance(e.id);t&&t.closeOnClickModal&&t.close()}},openModal:function(e,t,n,r,s){if(!o.default.prototype.$isServer&&e&&void 0!==t){this.modalFade=s;for(var l=this.modalStack,c=0,u=l.length;c<u;c++)if(l[c].id===e)return;var d=a();(0,Iu.addClass)(d,"v-modal"),this.modalFade&&!i&&(0,Iu.addClass)(d,"v-modal-enter"),r&&r.trim().split(/\s+/).forEach((function(e){return(0,Iu.addClass)(d,e)})),setTimeout((function(){(0,Iu.removeClass)(d,"v-modal-enter")}),200),n&&n.parentNode&&11!==n.parentNode.nodeType?n.parentNode.appendChild(d):document.body.appendChild(d),t&&(d.style.zIndex=t),d.tabIndex=0,d.style.display="",this.modalStack.push({id:e,zIndex:t,modalClass:r})}},closeModal:function(e){var t=this.modalStack,n=a();if(t.length>0){var r=t[t.length-1];if(r.id===e)r.modalClass&&r.modalClass.trim().split(/\s+/).forEach((function(e){return(0,Iu.removeClass)(n,e)})),t.pop(),t.length>0&&(n.style.zIndex=t[t.length-1].zIndex);else for(var o=t.length-1;o>=0;o--)if(t[o].id===e){t.splice(o,1);break}}0===t.length&&(this.modalFade&&(0,Iu.addClass)(n,"v-modal-leave"),setTimeout((function(){0===t.length&&(n.parentNode&&n.parentNode.removeChild(n),n.style.display="none",u.modalDom=void 0),(0,Iu.removeClass)(n,"v-modal-leave")}),200))}};Object.defineProperty(u,"zIndex",{configurable:!0,get:function(){return s||(l=l||(o.default.prototype.$ELEMENT||{}).zIndex||2e3,s=!0),l},set:function(e){l=e}}),o.default.prototype.$isServer||window.addEventListener("keydown",(function(e){if(27===e.keyCode){var t=function(){if(!o.default.prototype.$isServer&&u.modalStack.length>0){var e=u.modalStack[u.modalStack.length-1];if(!e)return;return u.getInstance(e.id)}}();t&&t.closeOnPressEscape&&(t.handleClose?t.handleClose():t.handleAction?t.handleAction("cancel"):t.close())}})),t.default=u}));N(zu);var ju=R((function(e,t){t.__esModule=!0,t.default=function(){if(o.default.prototype.$isServer)return 0;if(void 0!==i)return i;var e=document.createElement("div");e.className="el-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var r=n.offsetWidth;return e.parentNode.removeChild(e),i=t-r};var n,o=(n=r["default"])&&n.__esModule?n:{default:n},i=void 0}));N(ju);var Du=R((function(e,t){t.__esModule=!0,t.PopupManager=void 0;var n=l(r["default"]),o=l(tl),i=l(zu),s=l(ju);function l(e){return e&&e.__esModule?e:{default:e}}var a=1,c=void 0;t.default={props:{visible:{type:Boolean,default:!1},openDelay:{},closeDelay:{},zIndex:{},modal:{type:Boolean,default:!1},modalFade:{type:Boolean,default:!0},modalClass:{},modalAppendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!1}},beforeMount:function(){this._popupId="popup-"+a++,i.default.register(this._popupId,this)},beforeDestroy:function(){i.default.deregister(this._popupId),i.default.closeModal(this._popupId),this.restoreBodyStyle()},data:function(){return{opened:!1,bodyPaddingRight:null,computedBodyPaddingRight:0,withoutHiddenClass:!0,rendered:!1}},watch:{visible:function(e){var t=this;if(e){if(this._opening)return;this.rendered?this.open():(this.rendered=!0,n.default.nextTick((function(){t.open()})))}else this.close()}},methods:{open:function(e){var t=this;this.rendered||(this.rendered=!0);var n=(0,o.default)({},this.$props||this,e);this._closeTimer&&(clearTimeout(this._closeTimer),this._closeTimer=null),clearTimeout(this._openTimer);var r=Number(n.openDelay);r>0?this._openTimer=setTimeout((function(){t._openTimer=null,t.doOpen(n)}),r):this.doOpen(n)},doOpen:function(e){if(!this.$isServer&&(!this.willOpen||this.willOpen())&&!this.opened){this._opening=!0;var t=this.$el,n=e.modal,r=e.zIndex;if(r&&(i.default.zIndex=r),n&&(this._closing&&(i.default.closeModal(this._popupId),this._closing=!1),i.default.openModal(this._popupId,i.default.nextZIndex(),this.modalAppendToBody?void 0:t,e.modalClass,e.modalFade),e.lockScroll)){this.withoutHiddenClass=!(0,Iu.hasClass)(document.body,"el-popup-parent--hidden"),this.withoutHiddenClass&&(this.bodyPaddingRight=document.body.style.paddingRight,this.computedBodyPaddingRight=parseInt((0,Iu.getStyle)(document.body,"paddingRight"),10)),c=(0,s.default)();var o=document.documentElement.clientHeight<document.body.scrollHeight,l=(0,Iu.getStyle)(document.body,"overflowY");c>0&&(o||"scroll"===l)&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.computedBodyPaddingRight+c+"px"),(0,Iu.addClass)(document.body,"el-popup-parent--hidden")}"static"===getComputedStyle(t).position&&(t.style.position="absolute"),t.style.zIndex=i.default.nextZIndex(),this.opened=!0,this.onOpen&&this.onOpen(),this.doAfterOpen()}},doAfterOpen:function(){this._opening=!1},close:function(){var e=this;if(!this.willClose||this.willClose()){null!==this._openTimer&&(clearTimeout(this._openTimer),this._openTimer=null),clearTimeout(this._closeTimer);var t=Number(this.closeDelay);t>0?this._closeTimer=setTimeout((function(){e._closeTimer=null,e.doClose()}),t):this.doClose()}},doClose:function(){this._closing=!0,this.onClose&&this.onClose(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose()},doAfterClose:function(){i.default.closeModal(this._popupId),this._closing=!1},restoreBodyStyle:function(){this.modal&&this.withoutHiddenClass&&(document.body.style.paddingRight=this.bodyPaddingRight,(0,Iu.removeClass)(document.body,"el-popup-parent--hidden")),this.withoutHiddenClass=!0}}},t.PopupManager=i.default}));N(Du),Du.PopupManager;var Pu=R((function(e,t){t.__esModule=!0,t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e||!t)throw new Error("instance & callback is required");var o=!1,i=function(){o||(o=!0,t&&t.apply(null,arguments))};r?e.$once("after-leave",i):e.$on("after-leave",i),setTimeout((function(){i()}),n+100)}}));N(Pu);var $u,Fu=N(R((function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=68)}({0:function(e,t,n){function r(e,t,n,r,o,i,s,l){var a,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(a=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=a):o&&(a=l?function(){o.call(this,this.$root.$options.shadowRoot)}:o),a)if(c.functional){c._injectStyles=a;var u=c.render;c.render=function(e,t){return a.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,a):[a]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},15:function(e,t){e.exports=Du},2:function(e,t){e.exports=Iu},41:function(e,t){e.exports=Pu},68:function(e,t,n){n.r(t);var r=n(7),o=n.n(r),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-loading-fade"},on:{"after-leave":e.handleAfterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-loading-mask",class:[e.customClass,{"is-fullscreen":e.fullscreen}],style:{backgroundColor:e.background||""}},[n("div",{staticClass:"el-loading-spinner"},[e.spinner?n("i",{class:e.spinner}):n("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[n("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})]),e.text?n("p",{staticClass:"el-loading-text"},[e._v(e._s(e.text))]):e._e()])])])};i._withStripped=!0;var s={data:function(){return{text:null,spinner:null,background:null,fullscreen:!0,visible:!1,customClass:""}},methods:{handleAfterLeave:function(){this.$emit("after-leave")},setText:function(e){this.text=e}}},l=n(0),a=Object(l.a)(s,i,[],!1,null,null,null);a.options.__file="packages/loading/src/loading.vue";var c=a.exports,u=n(2),d=n(15),p=n(41),h=n.n(p),f=o.a.extend(c),m={install:function(e){if(!e.prototype.$isServer){var t=function(t,r){r.value?e.nextTick((function(){r.modifiers.fullscreen?(t.originalPosition=Object(u.getStyle)(document.body,"position"),t.originalOverflow=Object(u.getStyle)(document.body,"overflow"),t.maskStyle.zIndex=d.PopupManager.nextZIndex(),Object(u.addClass)(t.mask,"is-fullscreen"),n(document.body,t,r)):(Object(u.removeClass)(t.mask,"is-fullscreen"),r.modifiers.body?(t.originalPosition=Object(u.getStyle)(document.body,"position"),["top","left"].forEach((function(e){var n="top"===e?"scrollTop":"scrollLeft";t.maskStyle[e]=t.getBoundingClientRect()[e]+document.body[n]+document.documentElement[n]-parseInt(Object(u.getStyle)(document.body,"margin-"+e),10)+"px"})),["height","width"].forEach((function(e){t.maskStyle[e]=t.getBoundingClientRect()[e]+"px"})),n(document.body,t,r)):(t.originalPosition=Object(u.getStyle)(t,"position"),n(t,t,r)))})):(h()(t.instance,(function(e){if(t.instance.hiding){t.domVisible=!1;var n=r.modifiers.fullscreen||r.modifiers.body?document.body:t;Object(u.removeClass)(n,"el-loading-parent--relative"),Object(u.removeClass)(n,"el-loading-parent--hidden"),t.instance.hiding=!1}}),300,!0),t.instance.visible=!1,t.instance.hiding=!0)},n=function(t,n,r){n.domVisible||"none"===Object(u.getStyle)(n,"display")||"hidden"===Object(u.getStyle)(n,"visibility")?n.domVisible&&!0===n.instance.hiding&&(n.instance.visible=!0,n.instance.hiding=!1):(Object.keys(n.maskStyle).forEach((function(e){n.mask.style[e]=n.maskStyle[e]})),"absolute"!==n.originalPosition&&"fixed"!==n.originalPosition&&Object(u.addClass)(t,"el-loading-parent--relative"),r.modifiers.fullscreen&&r.modifiers.lock&&Object(u.addClass)(t,"el-loading-parent--hidden"),n.domVisible=!0,t.appendChild(n.mask),e.nextTick((function(){n.instance.hiding?n.instance.$emit("after-leave"):n.instance.visible=!0})),n.domInserted=!0)};e.directive("loading",{bind:function(e,n,r){var o=e.getAttribute("element-loading-text"),i=e.getAttribute("element-loading-spinner"),s=e.getAttribute("element-loading-background"),l=e.getAttribute("element-loading-custom-class"),a=r.context,c=new f({el:document.createElement("div"),data:{text:a&&a[o]||o,spinner:a&&a[i]||i,background:a&&a[s]||s,customClass:a&&a[l]||l,fullscreen:!!n.modifiers.fullscreen}});e.instance=c,e.mask=c.$el,e.maskStyle={},n.value&&t(e,n)},update:function(e,n){e.instance.setText(e.getAttribute("element-loading-text")),n.oldValue!==n.value&&t(e,n)},unbind:function(e,n){e.domInserted&&(e.mask&&e.mask.parentNode&&e.mask.parentNode.removeChild(e.mask),t(e,{value:!1,modifiers:n.modifiers})),e.instance&&e.instance.$destroy()}})}}},g=m,v=n(9),y=n.n(v),b=o.a.extend(c),w={text:null,fullscreen:!0,body:!1,lock:!1,customClass:""},x=void 0;b.prototype.originalPosition="",b.prototype.originalOverflow="",b.prototype.close=function(){var e=this;this.fullscreen&&(x=void 0),h()(this,(function(t){var n=e.fullscreen||e.body?document.body:e.target;Object(u.removeClass)(n,"el-loading-parent--relative"),Object(u.removeClass)(n,"el-loading-parent--hidden"),e.$el&&e.$el.parentNode&&e.$el.parentNode.removeChild(e.$el),e.$destroy()}),300),this.visible=!1};var k=function(e,t,n){var r={};e.fullscreen?(n.originalPosition=Object(u.getStyle)(document.body,"position"),n.originalOverflow=Object(u.getStyle)(document.body,"overflow"),r.zIndex=d.PopupManager.nextZIndex()):e.body?(n.originalPosition=Object(u.getStyle)(document.body,"position"),["top","left"].forEach((function(t){var n="top"===t?"scrollTop":"scrollLeft";r[t]=e.target.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]+"px"})),["height","width"].forEach((function(t){r[t]=e.target.getBoundingClientRect()[t]+"px"}))):n.originalPosition=Object(u.getStyle)(t,"position"),Object.keys(r).forEach((function(e){n.$el.style[e]=r[e]}))},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!o.a.prototype.$isServer){if("string"==typeof(e=y()({},w,e)).target&&(e.target=document.querySelector(e.target)),e.target=e.target||document.body,e.target!==document.body?e.fullscreen=!1:e.body=!0,e.fullscreen&&x)return x;var t=e.body?document.body:e.target,n=new b({el:document.createElement("div"),data:e});return k(e,t,n),"absolute"!==n.originalPosition&&"fixed"!==n.originalPosition&&Object(u.addClass)(t,"el-loading-parent--relative"),e.fullscreen&&e.lock&&Object(u.addClass)(t,"el-loading-parent--hidden"),t.appendChild(n.$el),o.a.nextTick((function(){n.visible=!0})),e.fullscreen&&(x=n),n}};t.default={install:function(e){e.use(g),e.prototype.$loading=S},directive:g,service:S}},7:function(e,t){e.exports=r["default"]},9:function(e,t){e.exports=tl}})}))),Bu=(R((function(e){!function(t){var n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag",a=t.regeneratorRuntime;if(a)e.exports=a;else{(a=t.regeneratorRuntime=e.exports).wrap=f;var c={},u={};u[i]=function(){return this};var d=Object.getPrototypeOf,p=d&&d(d(C([])));p&&p!==n&&r.call(p,i)&&(u=p);var h=y.prototype=g.prototype=Object.create(u);v.prototype=h.constructor=y,y.constructor=v,y[l]=v.displayName="GeneratorFunction",a.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l in e||(e[l]="GeneratorFunction")),e.prototype=Object.create(h),e},a.awrap=function(e){return{__await:e}},b(w.prototype),w.prototype[s]=function(){return this},a.AsyncIterator=w,a.async=function(e,t,n,r){var o=new w(f(e,t,n,r));return a.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(h),h[l]="Generator",h[i]=function(){return this},h.toString=function(){return"[object Generator]"},a.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},a.values=C,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),a=r.call(i,"finallyLoc");if(l&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}}}function f(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),s=new _(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return O()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var l=x(s,n);if(l){if(l===c)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var a=m(e,t,n);if("normal"===a.type){if(r=n.done?"completed":"suspendedYield",a.arg===c)continue;return{value:a.arg,done:n.done}}"throw"===a.type&&(r="completed",n.method="throw",n.arg=a.arg)}}}(e,n,s),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function g(){}function v(){}function y(){}function b(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function w(e){var t;this._invoke=function(n,o){function i(){return new Promise((function(t,i){!function t(n,o,i,s){var l=m(e[n],e,o);if("throw"!==l.type){var a=l.arg,c=a.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then((function(e){t("next",e,i,s)}),(function(e){t("throw",e,i,s)})):Promise.resolve(c).then((function(e){a.value=e,i(a)}),s)}s(l.arg)}(n,o,t,i)}))}return t=t?t.then(i,i):i()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=m(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}}(function(){return this}()||Function("return this")())})),function(e){Tr(n,r["default"]);var t=Ir(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).imageUploadDialogVisible=!1,e.uploading=!1,e}return Pn(n,[{key:"openUrlPrompt",value:function(){var e=this;M.a.prompt("",this.et.t("editor.extensions.Image.control.insert_by_url.title"),{confirmButtonText:this.et.t("editor.extensions.Image.control.insert_by_url.confirm"),cancelButtonText:this.et.t("editor.extensions.Image.control.insert_by_url.cancel"),inputPlaceholder:this.et.t("editor.extensions.Image.control.insert_by_url.placeholder"),inputPattern:this.imageNodeOptions.urlPattern,inputErrorMessage:this.et.t("editor.extensions.Image.control.insert_by_url.invalid_url"),roundButton:!0}).then((function(t){var n=t.value;e.editorContext.commands.image({src:n})})).catch((function(){}))}},{key:"uploadImage",value:function(e){return jr(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.file,r=this.imageNodeOptions.uploadRequest,o=Fu.service({target:".el-tiptap-upload"}),t.prev=3,t.next=6,r?r(n):ys(n);case 6:i=t.sent,this.editorContext.commands.image({src:i}),this.imageUploadDialogVisible=!1,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),ar.error(t.t0);case 14:return t.prev=14,this.$nextTick((function(){o.close()})),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[3,11,14,17]])})))}},{key:"imageNodeOptions",get:function(){return this.editorContext.editor.extensions.options.image}}]),n}());zr([eo({type:Object,required:!0})],Bu.prototype,"editorContext",void 0),zr([Zr()],Bu.prototype,"et",void 0);const Lu=Cs({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-popover",{attrs:{disabled:e.et.isCodeViewMode,placement:"bottom",trigger:"click","popper-class":"el-tiptap-popper"}},[n("div",{staticClass:"el-tiptap-popper__menu"},[n("div",{staticClass:"el-tiptap-popper__menu__item",on:{click:e.openUrlPrompt}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Image.buttons.insert_image.external")))])]),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",on:{click:function(t){e.imageUploadDialogVisible=!0}}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Image.buttons.insert_image.upload")))])])]),e._v(" "),n("command-button",{attrs:{slot:"reference","enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.Image.buttons.insert_image.tooltip"),readonly:e.et.isCodeViewMode,icon:"image"},slot:"reference"})],1),e._v(" "),n("el-dialog",{attrs:{title:e.et.t("editor.extensions.Image.control.upload_image.title"),visible:e.imageUploadDialogVisible,"append-to-body":!0},on:{"update:visible":function(t){e.imageUploadDialogVisible=t}}},[n("el-upload",{staticClass:"el-tiptap-upload",attrs:{"http-request":e.uploadImage,"show-file-list":!1,action:"#",drag:"",accept:"image/*"}},[n("div",{staticClass:"el-tiptap-upload__icon"},[n("i",{staticClass:"fa fa-upload"})]),e._v(" "),n("div",{staticClass:"el-tiptap-upload__text"},[e._v("\n        "+e._s(e.et.t("editor.extensions.Image.control.upload_image.button"))+"\n      ")])])],1)],1)},staticRenderFns:[]},void 0,Bu=zr([Xr({components:($u={},Mr($u,m.a.name,m.a),Mr($u,C.a.name,C.a),Mr($u,S.a.name,S.a),Mr($u,"CommandButton",Js),$u)})],Bu),void 0,!1,void 0,!1,void 0,void 0,void 0);var Vu,qu=[],Hu="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(Vu||(Vu={}));var Wu,Uu,Ju=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Object.freeze(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),Ku=function(e){return e instanceof SVGElement&&"getBBox"in e},Gu=function(e){if(Ku(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},Xu=function(e){var t,n,r=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},Zu="undefined"!=typeof window?window:{},Yu=new WeakMap,Qu=/auto|scroll/,ed=/^tb|vertical/,td=/msie|trident/i.test(Zu.navigator&&Zu.navigator.userAgent),nd=function(e){return parseFloat(e||"0")},rd=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),Object.freeze({inlineSize:(n?t:e)||0,blockSize:(n?e:t)||0})},od=Object.freeze({devicePixelContentBoxSize:rd(),borderBoxSize:rd(),contentBoxSize:rd(),contentRect:new Ju(0,0,0,0)}),id=function(e,t){if(void 0===t&&(t=!1),Yu.has(e)&&!t)return Yu.get(e);if(Gu(e))return Yu.set(e,od),od;var n=getComputedStyle(e),r=Ku(e)&&e.ownerSVGElement&&e.getBBox(),o=!td&&"border-box"===n.boxSizing,i=ed.test(n.writingMode||""),s=!r&&Qu.test(n.overflowY||""),l=!r&&Qu.test(n.overflowX||""),a=r?0:nd(n.paddingTop),c=r?0:nd(n.paddingRight),u=r?0:nd(n.paddingBottom),d=r?0:nd(n.paddingLeft),p=r?0:nd(n.borderTopWidth),h=r?0:nd(n.borderRightWidth),f=r?0:nd(n.borderBottomWidth),m=d+c,g=a+u,v=(r?0:nd(n.borderLeftWidth))+h,y=p+f,b=l?e.offsetHeight-y-e.clientHeight:0,w=s?e.offsetWidth-v-e.clientWidth:0,x=o?m+v:0,k=o?g+y:0,S=r?r.width:nd(n.width)-x-w,_=r?r.height:nd(n.height)-k-b,C=S+m+w+v,O=_+g+b+y,M=Object.freeze({devicePixelContentBoxSize:rd(Math.round(S*devicePixelRatio),Math.round(_*devicePixelRatio),i),borderBoxSize:rd(C,O,i),contentBoxSize:rd(S,_,i),contentRect:new Ju(d,a,S,_)});return Yu.set(e,M),M},sd=function(e,t,n){var r=id(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case Vu.DEVICE_PIXEL_CONTENT_BOX:return s;case Vu.BORDER_BOX:return o;default:return i}},ld=function(e){var t=id(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=[t.borderBoxSize],this.contentBoxSize=[t.contentBoxSize],this.devicePixelContentBoxSize=[t.devicePixelContentBoxSize]},ad=function(e){if(Gu(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},cd=function(){var e=1/0,t=[];qu.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new ld(t.target),o=ad(t.target);r.push(n),t.lastReportedSize=sd(t.target,t.observedBox),o<e&&(e=o)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++)(0,r[n])();return e},ud=function(e){qu.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(ad(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},dd=function(){var e=0;for(ud(e);qu.some((function(e){return e.activeTargets.length>0}));)e=cd(),ud(e);return qu.some((function(e){return e.skippedTargets.length>0}))&&function(){var e;"function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:Hu}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=Hu),window.dispatchEvent(e)}(),e>0},pd=[],hd=function(e){if(!Wu){var t=0,n=document.createTextNode("");new MutationObserver((function(){return pd.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),Wu=function(){n.textContent=""+(t?t--:t++)}}pd.push(e),Wu()},fd=0,md={attributes:!0,characterData:!0,childList:!0,subtree:!0},gd=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],vd=function(e){return void 0===e&&(e=0),Date.now()+e},yd=!1,bd=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!yd){yd=!0;var n,r=vd(e);n=function(){var n=!1;try{n=dd()}finally{if(yd=!1,e=r-vd(),!fd)return;n?t.run(1e3):e>0?t.run(e):t.start()}},hd((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,md)};document.body?t():Zu.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),gd.forEach((function(t){return Zu.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),gd.forEach((function(t){return Zu.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),wd=function(e){!fd&&e>0&&bd.start(),!(fd+=e)&&bd.stop()},xd=function(){function e(e,t){this.target=e,this.observedBox=t||Vu.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=sd(this.target,this.observedBox,!0);return e=this.target,Ku(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),kd=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},Sd=new WeakMap,_d=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Cd=function(){function e(){}return e.connect=function(e,t){var n=new kd(e,t);Sd.set(e,n)},e.observe=function(e,t,n){var r=Sd.get(e),o=0===r.observationTargets.length;_d(r.observationTargets,t)<0&&(o&&qu.push(r),r.observationTargets.push(new xd(t,n&&n.box)),wd(1),bd.schedule())},e.unobserve=function(e,t){var n=Sd.get(e),r=_d(n.observationTargets,t),o=1===n.observationTargets.length;r>=0&&(o&&qu.splice(qu.indexOf(n),1),n.observationTargets.splice(r,1),wd(-1))},e.disconnect=function(e){var t=this,n=Sd.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),Od=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Cd.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Xu(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Cd.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Xu(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Cd.unobserve(this,e)},e.prototype.disconnect=function(){Cd.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),Md={};function Ed(e){return new Promise((function(t,n){var r={complete:!1,width:0,height:0,src:e};if(e)if(Md[e])t(Object.assign({},Md[e]));else{var o=new Image;o.onload=function(){r.width=o.width,r.height=o.height,r.complete=!0,Md[e]=Object.assign({},r),t(r)},o.onerror=function(){n(r)},o.src=e}else n(r)}))}var Td=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).popoverVisible=!1,e.displayCollection=["inline","block","left","right"],e}return Pn(n,[{key:"hidePopover",value:function(){this.popoverVisible=!1}},{key:"currDisplay",get:function(){return this.node.attrs.display}}]),n}();zr([eo({type:E["Node"],required:!0})],Td.prototype,"node",void 0),zr([eo({type:Function,required:!0})],Td.prototype,"updateAttrs",void 0),zr([Zr()],Td.prototype,"et",void 0);const Ad=Cs({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-popover",{attrs:{placement:"top",trigger:"click","popper-class":"el-tiptap-popper"},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[n("div",{staticClass:"el-tiptap-popper__menu"},e._l(e.displayCollection,(function(t){return n("div",{key:t,staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--active":t===e.currDisplay},on:{mousedown:e.hidePopover,click:function(n){return e.updateAttrs({display:t})}}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Image.buttons.display."+t)))])])})),0),e._v(" "),n("command-button",{attrs:{slot:"reference","enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.Image.buttons.display.tooltip"),icon:"regular/image"},slot:"reference"})],1)},staticRenderFns:[]},void 0,Td=zr([Xr({components:(Uu={},Mr(Uu,S.a.name,S.a),Mr(Uu,"CommandButton",Js),Uu)})],Td),void 0,!1,void 0,!1,void 0,void 0,void 0);var Nd,Rd=N(R((function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=134)}({134:function(e,t,n){n.r(t);var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o={name:"ElCol",props:{span:{type:Number,default:24},tag:{type:String,default:"div"},offset:Number,pull:Number,push:Number,xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object],xl:[Number,Object]},computed:{gutter:function(){for(var e=this.$parent;e&&"ElRow"!==e.$options.componentName;)e=e.$parent;return e?e.gutter:0}},render:function(e){var t=this,n=[],o={};return this.gutter&&(o.paddingLeft=this.gutter/2+"px",o.paddingRight=o.paddingLeft),["span","offset","pull","push"].forEach((function(e){(t[e]||0===t[e])&&n.push("span"!==e?"el-col-"+e+"-"+t[e]:"el-col-"+t[e])})),["xs","sm","md","lg","xl"].forEach((function(e){if("number"==typeof t[e])n.push("el-col-"+e+"-"+t[e]);else if("object"===r(t[e])){var o=t[e];Object.keys(o).forEach((function(t){n.push("span"!==t?"el-col-"+e+"-"+t+"-"+o[t]:"el-col-"+e+"-"+o[t])}))}})),e(this.tag,{class:["el-col",n],style:o},this.$slots.default)},install:function(e){e.component(o.name,o)}};t.default=o}})}))),Id=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).editImageDialogVisible=!1,e.imageAttrs=e.getImageAttrs(),e}return Pn(n,[{key:"syncImageAttrs",value:function(){this.imageAttrs=this.getImageAttrs()}},{key:"getImageAttrs",value:function(){return{src:this.node.attrs.src,alt:this.node.attrs.alt,width:this.node.attrs.width,height:this.node.attrs.height}}},{key:"updateImageAttrs",value:function(){var e=this.imageAttrs,t=e.width,n=e.height;t=parseInt(t,10),n=parseInt(n,10),this.updateAttrs({alt:this.imageAttrs.alt,width:t>=0?t:null,height:n>=0?n:null}),this.closeEditImageDialog()}},{key:"openEditImageDialog",value:function(){this.editImageDialogVisible=!0}},{key:"closeEditImageDialog",value:function(){this.editImageDialogVisible=!1}}]),n}();zr([eo({type:E["Node"],required:!0})],Id.prototype,"node",void 0),zr([eo({type:Function,required:!0})],Id.prototype,"updateAttrs",void 0),zr([Zr()],Id.prototype,"et",void 0);const zd=Cs({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("command-button",{attrs:{command:e.openEditImageDialog,"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.Image.buttons.image_options.tooltip"),icon:"ellipsis-h"}}),e._v(" "),n("el-dialog",{attrs:{title:e.et.t("editor.extensions.Image.control.edit_image.title"),visible:e.editImageDialogVisible,"append-to-body":!0,width:"400px","custom-class":"el-tiptap-edit-image-dialog"},on:{"update:visible":function(t){e.editImageDialogVisible=t},open:e.syncImageAttrs},scopedSlots:e._u([{key:"footer",fn:function(){return[n("el-button",{attrs:{size:"small",round:""},on:{click:e.closeEditImageDialog}},[e._v("\n        "+e._s(e.et.t("editor.extensions.Image.control.edit_image.cancel"))+"\n      ")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"small",round:""},on:{click:e.updateImageAttrs}},[e._v("\n        "+e._s(e.et.t("editor.extensions.Image.control.edit_image.confirm"))+"\n      ")])]},proxy:!0}])},[n("el-form",{attrs:{model:e.imageAttrs,"label-position":"top",size:"small"}},[n("el-form-item",{attrs:{label:e.et.t("editor.extensions.Image.control.edit_image.form.src")}},[n("el-input",{attrs:{value:e.imageAttrs.src,autocomplete:"off",disabled:""}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.et.t("editor.extensions.Image.control.edit_image.form.alt")}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.imageAttrs.alt,callback:function(t){e.$set(e.imageAttrs,"alt",t)},expression:"imageAttrs.alt"}})],1),e._v(" "),n("el-form-item",[n("el-col",{attrs:{span:11}},[n("el-form-item",{attrs:{label:e.et.t("editor.extensions.Image.control.edit_image.form.width")}},[n("el-input",{attrs:{type:"number"},model:{value:e.imageAttrs.width,callback:function(t){e.$set(e.imageAttrs,"width",t)},expression:"imageAttrs.width"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:11,push:2}},[n("el-form-item",{attrs:{label:e.et.t("editor.extensions.Image.control.edit_image.form.height")}},[n("el-input",{attrs:{type:"number"},model:{value:e.imageAttrs.height,callback:function(t){e.$set(e.imageAttrs,"height",t)},expression:"imageAttrs.height"}})],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},void 0,Id=zr([Xr({components:(Nd={},Mr(Nd,m.a.name,m.a),Mr(Nd,qc.name,qc),Mr(Nd,Vc.name,Vc),Mr(Nd,nl.name,nl),Mr(Nd,Rd.name,Rd),Mr(Nd,d.a.name,d.a),Mr(Nd,"CommandButton",Js),Nd)})],Id),void 0,!1,void 0,!1,void 0,void 0,void 0);var jd=Math.pow(2,16);function Dd(e,t){return e+t*jd}function Pd(e){return 65535&e}var $d=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},Fd=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};Fd.prototype.recover=function(e){var t=0,n=Pd(e);if(!this.inverted)for(var r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/jd}(e)},Fd.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},Fd.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},Fd.prototype._map=function(e,t,n){for(var r=0,o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var l=this.ranges[s]-(this.inverted?r:0);if(l>e)break;var a=this.ranges[s+o],c=this.ranges[s+i],u=l+a;if(e<=u){var d=l+r+((a?e==l?-1:e==u?1:t:t)<0?0:c);if(n)return d;var p=e==(t<0?l:u)?null:Dd(s/3,e-l);return new $d(d,t<0?e!=l:e!=u,p)}r+=c-a}return n?e+r:new $d(e+r)},Fd.prototype.touches=function(e,t){for(var n=0,r=Pd(t),o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var l=this.ranges[s]-(this.inverted?n:0);if(l>e)break;var a=this.ranges[s+o];if(e<=l+a&&s==3*r)return!0;n+=this.ranges[s+i]-a}return!1},Fd.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],s=i-(this.inverted?o:0),l=i+(this.inverted?0:o),a=this.ranges[r+t],c=this.ranges[r+n];e(s,s+a,l,l+c),o+=c-a}},Fd.prototype.invert=function(){return new Fd(this.ranges,!this.inverted)},Fd.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},Fd.offset=function(e){return 0==e?Fd.empty:new Fd(e<0?[0,-e,0]:[0,0,e])},Fd.empty=new Fd([]);var Bd=function(e,t,n,r){this.maps=e||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=t};function Ld(e){var t=Error.call(this,e);return t.__proto__=Ld.prototype,t}Bd.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new Bd(this.maps,this.mirror,e,t)},Bd.prototype.copy=function(){return new Bd(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},Bd.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},Bd.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:null)}},Bd.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},Bd.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},Bd.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:null)}},Bd.prototype.invert=function(){var e=new Bd;return e.appendMappingInverted(this),e},Bd.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},Bd.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},Bd.prototype._map=function(e,t,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(e,t);if(null!=i.recover){var s=this.getMirror(o);if(null!=s&&s>o&&s<this.to){o=s,e=this.maps[s].recover(i.recover);continue}}i.deleted&&(r=!0),e=i.pos}return n?e:new $d(e,r)},Ld.prototype=Object.create(Error.prototype),Ld.prototype.constructor=Ld,Ld.prototype.name="TransformError";var Vd=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Bd},qd={before:{configurable:!0},docChanged:{configurable:!0}};function Hd(){throw new Error("Override me")}qd.before.get=function(){return this.docs.length?this.docs[0]:this.doc},Vd.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new Ld(t.failed);return this},Vd.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},qd.docChanged.get=function(){return this.steps.length>0},Vd.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(Vd.prototype,qd);var Wd=Object.create(null),Ud=function(){};Ud.prototype.apply=function(e){return Hd()},Ud.prototype.getMap=function(){return Fd.empty},Ud.prototype.invert=function(e){return Hd()},Ud.prototype.map=function(e){return Hd()},Ud.prototype.merge=function(e){return null},Ud.prototype.toJSON=function(){return Hd()},Ud.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=Wd[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},Ud.jsonID=function(e,t){if(e in Wd)throw new RangeError("Duplicate use of step JSON ID "+e);return Wd[e]=t,t.prototype.jsonID=e,t};var Jd=function(e,t){this.doc=e,this.failed=t};Jd.ok=function(e){return new Jd(e,null)},Jd.fail=function(e){return new Jd(null,e)},Jd.fromReplace=function(e,t,n,r){try{return Jd.ok(e.replace(t,n,r))}catch(e){if(e instanceof E["ReplaceError"])return Jd.fail(e.message);throw e}};var Kd=function(e){function t(t,n,r,o){e.call(this),this.from=t,this.to=n,this.slice=r,this.structure=!!o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&Xd(e,this.from,this.to)?Jd.fail("Structure replace would overwrite content"):Jd.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new Fd([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new t(n.pos,Math.max(n.pos,r.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure!=this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?E["Slice"].empty:new E["Slice"](e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var r=this.slice.size+e.slice.size==0?E["Slice"].empty:new E["Slice"](this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),r,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,E["Slice"].fromJSON(e,n.slice),!!n.structure)},t}(Ud);Ud.jsonID("replace",Kd);var Gd=function(e){function t(t,n,r,o,i,s,l){e.call(this),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=!!l}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(Xd(e,this.from,this.gapFrom)||Xd(e,this.gapTo,this.to)))return Jd.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Jd.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?Jd.fromReplace(e,this.from,this.to,n):Jd.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new Fd([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new t(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,E["Slice"].fromJSON(e,n.slice),n.insert,!!n.structure)},t}(Ud);function Xd(e,t,n){for(var r=e.resolve(t),o=n-t,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var s=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}return!1}function Zd(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Yd(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!Zd(r,o,i))break}}function Qd(e,t,n,r){void 0===n&&(n=1);var o=e.resolve(t),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var l=o.depth-1,a=n-2;l>i;l--,a--){var c=o.node(l),u=o.index(l);if(c.type.spec.isolating)return!1;var d=c.content.cutByIndex(u,c.childCount),p=r&&r[a]||c;if(p!=c&&(d=d.replaceChild(0,p.type.create(p.attrs))),!c.canReplace(u+1,c.childCount)||!p.type.validContent(d))return!1}var h=o.indexAfter(i),f=r&&r[0];return o.node(i).canReplaceWith(h,h,f?f.type:o.node(i+1).type)}function ep(e,t){var n,r,o=e.resolve(t),i=o.index();return n=o.nodeBefore,r=o.nodeAfter,n&&r&&!n.isLeaf&&n.canAppend(r)&&o.parent.canReplace(i,i+1)}function tp(e,t,n){for(var r=[],o=0;o<e.childCount;o++){var i=e.child(o);i.content.size&&(i=i.copy(tp(i.content,t,i))),i.isInline&&(i=t(i,n,o)),r.push(i)}return E["Fragment"].fromArray(r)}Ud.jsonID("replaceAround",Gd),Vd.prototype.lift=function(e,t){for(var n=e.$from,r=e.$to,o=e.depth,i=n.before(o+1),s=r.after(o+1),l=i,a=s,c=E["Fragment"].empty,u=0,d=o,p=!1;d>t;d--)p||n.index(d)>0?(p=!0,c=E["Fragment"].from(n.node(d).copy(c)),u++):l--;for(var h=E["Fragment"].empty,f=0,m=o,g=!1;m>t;m--)g||r.after(m+1)<r.end(m)?(g=!0,h=E["Fragment"].from(r.node(m).copy(h)),f++):a++;return this.step(new Gd(l,a,i,s,new E["Slice"](c.append(h),u,f),c.size-u,!0))},Vd.prototype.wrap=function(e,t){for(var n=E["Fragment"].empty,r=t.length-1;r>=0;r--)n=E["Fragment"].from(t[r].type.create(t[r].attrs,n));var o=e.start,i=e.end;return this.step(new Gd(o,i,o,i,new E["Slice"](n,0,0),t.length,!0))},Vd.prototype.setBlockType=function(e,t,n,r){var o=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var i=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,r)&&function(e,t,n){var r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(o.doc,o.mapping.slice(i).map(t),n)){o.clearIncompatible(o.mapping.slice(i).map(t,1),n);var s=o.mapping.slice(i),l=s.map(t,1),a=s.map(t+e.nodeSize,1);return o.step(new Gd(l,a,l+1,a-1,new E["Slice"](E["Fragment"].from(n.create(r,null,e.marks)),0,0),1,!0)),!1}})),this},Vd.prototype.setNodeMarkup=function(e,t,n,r){var o=this.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");t||(t=o.type);var i=t.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(e,e+o.nodeSize,i);if(!t.validContent(o.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new Gd(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new E["Slice"](E["Fragment"].from(i),0,0),1,!0))},Vd.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var r=this.doc.resolve(e),o=E["Fragment"].empty,i=E["Fragment"].empty,s=r.depth,l=r.depth-t,a=t-1;s>l;s--,a--){o=E["Fragment"].from(r.node(s).copy(o));var c=n&&n[a];i=E["Fragment"].from(c?c.type.create(c.attrs,i):r.node(s).copy(i))}return this.step(new Kd(e,e,new E["Slice"](o.append(i),t,t),!0))},Vd.prototype.join=function(e,t){void 0===t&&(t=1);var n=new Kd(e-t,e+t,E["Slice"].empty,!0);return this.step(n)};var np=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new E["Slice"](tp(n.content,(function(e,n){return n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),o),n.openStart,n.openEnd);return Jd.fromReplace(e,this.from,this.to,i)},t.prototype.invert=function(){return new rp(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(Ud);Ud.jsonID("addMark",np);var rp=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=new E["Slice"](tp(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return Jd.fromReplace(e,this.from,this.to,r)},t.prototype.invert=function(){return new np(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(Ud);function op(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}Ud.jsonID("removeMark",rp),Vd.prototype.addMark=function(e,t,n){var r=this,o=[],i=[],s=null,l=null;return this.doc.nodesBetween(e,t,(function(r,a,c){if(r.isInline){var u=r.marks;if(!n.isInSet(u)&&c.type.allowsMarkType(n.type)){for(var d=Math.max(a,e),p=Math.min(a+r.nodeSize,t),h=n.addToSet(u),f=0;f<u.length;f++)u[f].isInSet(h)||(s&&s.to==d&&s.mark.eq(u[f])?s.to=p:o.push(s=new rp(d,p,u[f])));l&&l.to==d?l.to=p:i.push(l=new np(d,p,n))}}})),o.forEach((function(e){return r.step(e)})),i.forEach((function(e){return r.step(e)})),this},Vd.prototype.removeMark=function(e,t,n){var r=this;void 0===n&&(n=null);var o=[],i=0;return this.doc.nodesBetween(e,t,(function(r,s){if(r.isInline){i++;var l=null;if(n instanceof E["MarkType"]){var a=n.isInSet(r.marks);a&&(l=[a])}else n?n.isInSet(r.marks)&&(l=[n]):l=r.marks;if(l&&l.length)for(var c=Math.min(s+r.nodeSize,t),u=0;u<l.length;u++){for(var d=l[u],p=void 0,h=0;h<o.length;h++){var f=o[h];f.step==i-1&&d.eq(o[h].style)&&(p=f)}p?(p.to=c,p.step=i):o.push({style:d,from:Math.max(s,e),to:c,step:i})}}})),o.forEach((function(e){return r.step(new rp(e.from,e.to,e.style))})),this},Vd.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var r=this.doc.nodeAt(e),o=[],i=e+1,s=0;s<r.childCount;s++){var l=r.child(s),a=i+l.nodeSize,c=n.matchType(l.type,l.attrs);if(c){n=c;for(var u=0;u<l.marks.length;u++)t.allowsMarkType(l.marks[u].type)||this.step(new rp(i,a,l.marks[u]))}else o.push(new Kd(i,a,E["Slice"].empty));i=a}if(!n.validEnd){var d=n.fillBefore(E["Fragment"].empty,!0);this.replace(i,i,new E["Slice"](d,0,0))}for(var p=o.length-1;p>=0;p--)this.step(o[p]);return this},Vd.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=E["Slice"].empty);var r=function(e,t,n,r){if(void 0===n&&(n=t),void 0===r&&(r=E["Slice"].empty),t==n&&!r.size)return null;var o=e.resolve(t),i=e.resolve(n);return op(o,i,r)?new Kd(t,n,r):new ip(o,i,r).fit()}(this.doc,e,t,n);return r&&this.step(r),this},Vd.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new E["Slice"](E["Fragment"].from(n),0,0))},Vd.prototype.delete=function(e,t){return this.replace(e,t,E["Slice"].empty)},Vd.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var ip=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var r=0;r<=e.depth;r++){var o=e.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(r))})}this.placed=E["Fragment"].empty;for(var i=e.depth;i>0;i--)this.placed=E["Fragment"].from(e.node(i).copy(this.placed))},sp={depth:{configurable:!0}};function lp(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(lp(e.firstChild.content,t-1,n)))}function ap(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(ap(e.lastChild.content,t-1,n)))}function cp(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function up(e,t,n){if(t<=0)return e;var r=e.content;return t>1&&(r=r.replaceChild(0,up(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(E["Fragment"].empty,!0)))),e.copy(r)}function dp(e,t,n,r,o){var i=e.node(t),s=o?e.indexAfter(t):e.index(t);if(s==i.childCount&&!n.compatibleContent(i.type))return null;var l=r.fillBefore(i.content,!0,s);return l&&!function(e,t,n){for(var r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,s)?l:null}function pp(e,t,n,r,o){if(t<n){var i=e.firstChild;e=e.replaceChild(0,i.copy(pp(i.content,t+1,n,r,i)))}if(t>r){var s=o.contentMatchAt(0),l=s.fillBefore(e).append(e);e=l.append(s.matchFragment(l).fillBefore(E["Fragment"].empty,!0))}return e}function hp(e,t){for(var n=[],r=Math.min(e.depth,t.depth);r>=0;r--){var o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;o==t.start(r)&&n.push(r)}return n}function fp(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function mp(e,t){for(;e;e="start"==t?e.firstChild:e.lastChild)if(e.isTextblock)return!0;return!1}function gp(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function vp(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function yp(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function bp(e,t){return t&&t(e.tr.setSelection(new s["AllSelection"](e.doc))),!0}function wp(e,t,n){var r,o,i=t.nodeBefore,l=t.nodeAfter;if(i.type.spec.isolating||l.type.spec.isolating)return!1;if(function(e,t,n){var r=t.nodeBefore,o=t.nodeAfter,i=t.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&t.parent.canReplace(i-1,i)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(i,i+1)||!o.isTextblock&&!ep(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0))}(e,t,n))return!0;if(t.parent.canReplace(t.index(),t.index()+1)&&(r=(o=i.contentMatchAt(i.childCount)).findWrapping(l.type))&&o.matchType(r[0]||l.type).validEnd){if(n){for(var a=t.pos+l.nodeSize,c=E["Fragment"].empty,u=r.length-1;u>=0;u--)c=E["Fragment"].from(r[u].create(null,c));c=E["Fragment"].from(i.copy(c));var d=e.tr.step(new Gd(t.pos-1,a,t.pos,a,new E["Slice"](c,1,0),r.length,!0)),p=a+2*r.length;ep(d.doc,p)&&d.join(p),n(d.scrollIntoView())}return!0}var h=s["Selection"].findFrom(t,1),f=h&&h.$from.blockRange(h.$to),m=f&&Yd(f);return null!=m&&m>=t.depth&&(n&&n(e.tr.lift(f,m).scrollIntoView()),!0)}function xp(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,r){for(var o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}sp.depth.get=function(){return this.frontier.length-1},ip.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(t<0?this.$to:r.doc.resolve(t));if(!o)return null;for(var i=this.placed,s=r.depth,l=o.depth;s&&l&&1==i.childCount;)i=i.firstChild.content,s--,l--;var a=new E["Slice"](i,s,l);return t>-1?new Gd(r.pos,t,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new Kd(r.pos,o.pos,a):void 0},ip.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--)for(var n=void 0,r=(t?(n=cp(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild,o=this.depth;o>=0;o--){var i=this.frontier[o],s=i.type,l=i.match,a=void 0,c=void 0;if(1==e&&(r?l.matchType(r.type)||(c=l.fillBefore(E["Fragment"].from(r),!1)):s.compatibleContent(n.type)))return{sliceDepth:t,frontierDepth:o,parent:n,inject:c};if(2==e&&r&&(a=l.findWrapping(r.type)))return{sliceDepth:t,frontierDepth:o,parent:n,wrap:a};if(n&&l.matchType(n.type))break}},ip.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=cp(t,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new E["Slice"](t,n+1,Math.max(r,o.size+n>=t.size-r?n+1:0)),!0)},ip.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,o=cp(t,n);if(o.childCount<=1&&n>0){var i=t.size-n<=n+o.size;this.unplaced=new E["Slice"](lp(t,n-1,1),n-1,i?n-1:r)}else this.unplaced=new E["Slice"](lp(t,n,1),n,r)},ip.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,r=e.parent,o=e.inject,i=e.wrap;this.depth>n;)this.closeFrontierNode();if(i)for(var s=0;s<i.length;s++)this.openFrontierNode(i[s]);var l=this.unplaced,a=r?r.content:l.content,c=l.openStart-t,u=0,d=[],p=this.frontier[n],h=p.match,f=p.type;if(o){for(var m=0;m<o.childCount;m++)d.push(o.child(m));h=h.matchFragment(o)}for(var g=a.size+t-(l.content.size-l.openEnd);u<a.childCount;){var v=a.child(u),y=h.matchType(v.type);if(!y)break;(++u>1||0==c||v.content.size)&&(h=y,d.push(up(v.mark(f.allowedMarks(v.marks)),1==u?c:0,u==a.childCount?g:-1)))}var b=u==a.childCount;b||(g=-1),b&&g<0&&r&&r.type==this.frontier[this.depth].type?this.closeFrontierNode():this.frontier[n].match=h;for(var w=0,x=a;w<g;w++){var k=x.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),x=k.content}this.unplaced=b?0==t?E["Slice"].empty:new E["Slice"](lp(l.content,t-1,1),t-1,g<0?l.openEnd:t-1):new E["Slice"](lp(l.content,t,u),l.openStart,l.openEnd),this.placed=ap(this.placed,n,E["Fragment"].from(d))},ip.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!dp(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},ip.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],r=n.match,o=n.type,i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=dp(e,t,o,r,i);if(s){for(var l=t-1;l>=0;l--){var a=this.frontier[l],c=a.match,u=dp(e,l,a.type,c,!0);if(!u||u.childCount)continue e}return{depth:t,fit:s,move:i?e.doc.resolve(e.after(t+1)):e}}}},ip.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=ap(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var r=e.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,o)}return e},ip.prototype.openFrontierNode=function(e,t,n){var r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=ap(this.placed,this.depth,E["Fragment"].from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})},ip.prototype.closeFrontierNode=function(){var e=this.frontier.pop().match.fillBefore(E["Fragment"].empty,!0);e.childCount&&(this.placed=ap(this.placed,this.frontier.length,e))},Object.defineProperties(ip.prototype,sp),Vd.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var r=this.doc.resolve(e),o=this.doc.resolve(t);if(op(r,o,n))return this.step(new Kd(e,t,n));var i=hp(r,this.doc.resolve(t));0==i[i.length-1]&&i.pop();var s=-(r.depth+1);i.unshift(s);for(var l=r.depth,a=r.pos-1;l>0;l--,a--){var c=r.node(l).type.spec;if(c.defining||c.isolating)break;i.indexOf(l)>-1?s=l:r.before(l)==a&&i.splice(1,0,-l)}for(var u=i.indexOf(s),d=[],p=n.openStart,h=n.content,f=0;;f++){var m=h.firstChild;if(d.push(m),f==n.openStart)break;h=m.content}p>0&&d[p-1].type.spec.defining&&r.node(u).type!=d[p-1].type?p-=1:p>=2&&d[p-1].isTextblock&&d[p-2].type.spec.defining&&r.node(u).type!=d[p-2].type&&(p-=2);for(var g=n.openStart;g>=0;g--){var v=(g+p+1)%(n.openStart+1),y=d[v];if(y)for(var b=0;b<i.length;b++){var w=i[(b+u)%i.length],x=!0;w<0&&(x=!1,w=-w);var k=r.node(w-1),S=r.index(w-1);if(k.canReplaceWith(S,S,y.type,y.marks))return this.replace(r.before(w),x?o.after(w):t,new E["Slice"](pp(n.content,0,n.openStart,v),v,n.openEnd))}}for(var _=this.steps.length,C=i.length-1;C>=0&&(this.replace(e,t,n),!(this.steps.length>_));C--){var O=i[C];C<0||(e=r.before(O),t=o.after(O))}return this},Vd.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var r=function(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var l=r.indexAfter(s);if(r.node(s).canReplaceWith(l,l,n))return r.after(s+1);if(l<r.node(s).childCount)return null}}(this.doc,e,n.type);null!=r&&(e=t=r)}return this.replaceRange(e,t,new E["Slice"](E["Fragment"].from(n),0,0))},Vd.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),r=this.doc.resolve(t),o=hp(n,r),i=0;i<o.length;i++){var s=o[i],l=i==o.length-1;if(l&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(l||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var a=1;a<=n.depth&&a<=r.depth;a++)if(e-n.start(a)==n.depth-a&&t>n.end(a)&&r.end(a)-t!=r.depth-a)return this.delete(n.before(a),t);return this.delete(e,t)};var kp=xp(fp,(function(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return!1;var o=gp(r);if(!o){var i=r.blockRange(),l=i&&Yd(i);return null!=l&&(t&&t(e.tr.lift(i,l).scrollIntoView()),!0)}var a=o.nodeBefore;if(!a.type.spec.isolating&&wp(e,o,t))return!0;if(0==r.parent.content.size&&(mp(a,"end")||s["NodeSelection"].isSelectable(a))){if(t){var c=e.tr.deleteRange(r.before(),r.after());c.setSelection(mp(a,"end")?s["Selection"].findFrom(c.doc.resolve(c.mapping.map(o.pos,-1)),-1):s["NodeSelection"].create(c.doc,o.pos-a.nodeSize)),t(c.scrollIntoView())}return!0}return!(!a.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos-a.nodeSize,o.pos).scrollIntoView()),!0)}),(function(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):o.parentOffset>0)return!1;i=gp(o)}var l=i&&i.nodeBefore;return!(!l||!s["NodeSelection"].isSelectable(l))&&(t&&t(e.tr.setSelection(s["NodeSelection"].create(e.doc,i.pos-l.nodeSize)).scrollIntoView()),!0)})),Sp=xp(fp,(function(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;var o=vp(r);if(!o)return!1;var i=o.nodeAfter;if(wp(e,o,t))return!0;if(0==r.parent.content.size&&(mp(i,"start")||s["NodeSelection"].isSelectable(i))){if(t){var l=e.tr.deleteRange(r.before(),r.after());l.setSelection(mp(i,"start")?s["Selection"].findFrom(l.doc.resolve(l.mapping.map(o.pos)),1):s["NodeSelection"].create(l.doc,l.mapping.map(o.pos))),t(l.scrollIntoView())}return!0}return!(!i.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)}),(function(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size)return!1;i=vp(o)}var l=i&&i.nodeAfter;return!(!l||!s["NodeSelection"].isSelectable(l))&&(t&&t(e.tr.setSelection(s["NodeSelection"].create(e.doc,i.pos)).scrollIntoView()),!0)})),_p={Enter:xp((function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}),(function(e,t){var n=e.selection,r=n.$from,o=n.$to;if(r.parent.inlineContent||o.parent.inlineContent)return!1;var i=yp(r.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){var l=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=e.tr.insert(l,i.createAndFill());a.setSelection(s["TextSelection"].create(a.doc,l+1)),t(a.scrollIntoView())}return!0}),(function(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(Qd(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}var o=n.blockRange(),i=o&&Yd(o);return null!=i&&(t&&t(e.tr.lift(o,i).scrollIntoView()),!0)}),(function(e,t){var n=e.selection,r=n.$from,o=n.$to;if(e.selection instanceof s["NodeSelection"]&&e.selection.node.isBlock)return!(!r.parentOffset||!Qd(e.doc,r.pos))&&(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(t){var i=o.parentOffset==o.parent.content.size,l=e.tr;e.selection instanceof s["TextSelection"]&&l.deleteSelection();var a=0==r.depth?null:yp(r.node(-1).contentMatchAt(r.indexAfter(-1))),c=i&&a?[{type:a}]:null,u=Qd(l.doc,l.mapping.map(r.pos),1,c);c||u||!Qd(l.doc,l.mapping.map(r.pos),1,a&&[{type:a}])||(c=[{type:a}],u=!0),u&&(l.split(l.mapping.map(r.pos),1,c),i||r.parentOffset||r.parent.type==a||!r.node(-1).canReplace(r.index(-1),r.indexAfter(-1),E["Fragment"].from(a.create(),r.parent))||l.setNodeMarkup(l.mapping.map(r.before()),a)),t(l.scrollIntoView())}return!0})),"Mod-Enter":function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),l=r.indexAfter(-1),a=yp(i.contentMatchAt(l));if(!i.canReplaceWith(l,l,a))return!1;if(t){var c=r.after(),u=e.tr.replaceWith(c,c,a.createAndFill());u.setSelection(s["Selection"].near(u.doc.resolve(c),1)),t(u.scrollIntoView())}return!0},Backspace:kp,"Mod-Backspace":kp,Delete:Sp,"Mod-Delete":Sp,"Mod-a":bp},Cp={"Ctrl-h":_p.Backspace,"Alt-Backspace":_p["Mod-Backspace"],"Ctrl-d":_p.Delete,"Ctrl-Alt-Backspace":_p["Mod-Delete"],"Alt-Delete":_p["Mod-Delete"],"Alt-d":_p["Mod-Delete"]};for(var Op in _p)Cp[Op]=_p[Op];"undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&os.platform();var Mp=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"removeImage",value:function(){var e=this.view;fp(e.state,e.dispatch)}}]),n}();zr([eo({type:Object,required:!0})],Mp.prototype,"view",void 0),zr([Zr()],Mp.prototype,"et",void 0);const Ep=Cs({render:function(){var e=this.$createElement;return(this._self._c||e)("command-button",{attrs:{command:this.removeImage,"enable-tooltip":this.et.tooltip,tooltip:this.et.t("editor.extensions.Image.buttons.remove_image.tooltip"),icon:"regular/trash-alt"}})},staticRenderFns:[]},void 0,Mp=zr([Xr({components:{CommandButton:Js}})],Mp),void 0,!1,void 0,!1,void 0,void 0,void 0);var Tp=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return n}();zr([eo({type:E["Node"],required:!0})],Tp.prototype,"node",void 0),zr([eo({type:Object,required:!0})],Tp.prototype,"view",void 0),zr([eo({type:Function,required:!0})],Tp.prototype,"updateAttrs",void 0);const Ap=Cs({render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"image-bubble-menu"},[t("image-display-command-button",{attrs:{node:this.node,"update-attrs":this.updateAttrs}}),this._v(" "),t("edit-image-command-button",{attrs:{node:this.node,"update-attrs":this.updateAttrs}}),this._v(" "),t("remove-image-command-button",{attrs:{view:this.view}})],1)},staticRenderFns:[]},void 0,Tp=zr([Xr({components:{ImageDisplayCommandButton:Ad,EditImageCommandButton:zd,RemoveImageCommandButton:Ep}})],Tp),void 0,!1,void 0,!1,void 0,void 0,void 0);var Np,Rp=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).maxSize={width:1e5,height:1e5},e.originalSize={width:0,height:0},e.resizeOb=new Od((function(){e.getMaxSize()})),e.resizeDirections=["tl","tr","bl","br"],e.resizing=!1,e.resizerState={x:0,y:0,w:0,h:0,dir:""},e}return Pn(n,[{key:"created",value:function(){return jr(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ed(this.src);case 2:(t=e.sent).complete||(t.width=20,t.height=20),this.originalSize={width:t.width,height:t.height};case 5:case"end":return e.stop()}}),e,this)})))}},{key:"mounted",value:function(){this.resizeOb.observe(this.view.dom)}},{key:"beforeDestroy",value:function(){this.resizeOb.disconnect()}},{key:"selectImage",value:function(){var e=this.view.state,t=e.tr,n=s["NodeSelection"].create(e.doc,this.getPos());t=t.setSelection(n),this.view.dispatch(t)}},{key:"getMaxSize",value:function(){var e=getComputedStyle(this.view.dom).width;this.maxSize.width=parseInt(e,10)}},{key:"onMouseDown",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.resizerState.x=e.clientX,this.resizerState.y=e.clientY;var n=this.originalSize.width,r=n/this.originalSize.height,o=this.node.attrs,i=o.width,s=o.height,l=this.maxSize.width;i&&!s?(i=i>l?l:i,s=Math.round(i/r)):s&&!i?i=(i=Math.round(s*r))>l?l:i:i||s?i=i>l?l:i:(i=n>l?l:n,s=Math.round(i/r)),this.resizerState.w=i,this.resizerState.h=s,this.resizerState.dir=t,this.resizing=!0,this.onEvents()}},{key:"onMouseMove",value:function(e){if(e.preventDefault(),e.stopPropagation(),this.resizing){var t=this.resizerState,n=t.x,r=t.y,o=t.w,i=t.h,s=t.dir,l=(e.clientX-n)*(/l/.test(s)?-1:1),a=(e.clientY-r)*(/t/.test(s)?-1:1);this.updateAttrs({width:vs(o+l,20,this.maxSize.width),height:Math.max(i+a,20)})}}},{key:"onMouseUp",value:function(e){e.preventDefault(),e.stopPropagation(),this.resizing&&(this.resizing=!1,this.resizerState={x:0,y:0,w:0,h:0,dir:""},this.offEvents(),this.selectImage())}},{key:"onEvents",value:function(){document.addEventListener("mousemove",this.onMouseMove,!0),document.addEventListener("mouseup",this.onMouseUp,!0)}},{key:"offEvents",value:function(){document.removeEventListener("mousemove",this.onMouseMove,!0),document.removeEventListener("mouseup",this.onMouseUp,!0)}},{key:"src",get:function(){return this.node.attrs.src}},{key:"width",get:function(){return this.node.attrs.width}},{key:"height",get:function(){return this.node.attrs.height}},{key:"display",get:function(){return this.node.attrs.display}},{key:"imageViewClass",get:function(){return["image-view","image-view--".concat(this.display)]}}]),n}();zr([eo({type:E["Node"],required:!0})],Rp.prototype,"node",void 0),zr([eo({type:Object,required:!0})],Rp.prototype,"view",void 0),zr([eo({type:Function,required:!0})],Rp.prototype,"getPos",void 0),zr([eo({type:Function,required:!0})],Rp.prototype,"updateAttrs",void 0),zr([eo({type:Boolean,required:!0})],Rp.prototype,"selected",void 0);const Ip=Cs({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{class:e.imageViewClass},[n("div",{staticClass:"image-view__body",class:{"image-view__body--focused":e.selected,"image-view__body--resizing":e.resizing}},[n("img",{staticClass:"image-view__body__image",attrs:{src:e.src,title:e.node.attrs.title,alt:e.node.attrs.alt,width:e.width,height:e.height},on:{click:e.selectImage}}),e._v(" "),e.view.editable?n("div",{directives:[{name:"show",rawName:"v-show",value:e.selected||e.resizing,expression:"selected || resizing"}],staticClass:"image-resizer"},e._l(e.resizeDirections,(function(t){return n("span",{key:t,staticClass:"image-resizer__handler",class:"image-resizer__handler--"+t,on:{mousedown:function(n){return e.onMouseDown(n,t)}}})})),0):e._e(),e._v(" "),n("el-popover",{attrs:{value:e.selected,"visible-arrow":!1,placement:"top",trigger:"manual","popper-class":"el-tiptap-image-popper"}},[n("image-bubble-menu",{attrs:{node:e.node,view:e.view,"update-attrs":e.updateAttrs}}),e._v(" "),n("div",{staticClass:"image-view__body__placeholder",attrs:{slot:"reference"},slot:"reference"})],1)],1)])},staticRenderFns:[]},void 0,Rp=zr([Xr({components:(Np={},Mr(Np,S.a.name,S.a),Mr(Np,"ImageBubbleMenu",Ap),Np)})],Rp),void 0,!1,void 0,!1,void 0,void 0,void 0);function zp(e){var t=e.style,n=t.cssFloat,r=t.display,o=e.style,i=o.width,s=o.height,l=e.getAttribute("data-display")||e.getAttribute("display");return l=l?/(inline|block|left|right)/.test(l)?l:"inline":"left"!==n||r?"right"!==n||r?n||"block"!==r?"inline":"block":"right":"left",i=i||e.getAttribute("width")||null,s=s||e.getAttribute("height")||null,{src:e.getAttribute("src")||"",title:e.getAttribute("title")||"",alt:e.getAttribute("alt")||"",width:null==i?null:parseInt(i,10),height:null==s?null:parseInt(s,10),display:l}}function jp(e){var t=e.attrs,n=t.src,r=t.alt,o=t.title,i=t.width,s=t.height,l=t.display,a={src:n,alt:r,title:o,width:i,height:s};return a["data-display"]=l,["img",a]}var Dp=function(e){Tr(n,i["h"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"menuBtnView",value:function(e){return{component:Lu,componentProps:{editorContext:e}}}},{key:"defaultOptions",get:function(){return{defaultWidth:200,defaultDisplay:"inline",urlPattern:lr,uploadRequest:null}}},{key:"schema",get:function(){return{inline:!0,attrs:{src:{default:""},alt:{default:""},title:{default:""},width:{default:this.imageDefaultWidth>0?this.imageDefaultWidth:200},height:{default:null},display:{default:/(inline|block|left|right)/.test(this.defaultDisplay)?this.defaultDisplay:"inline"}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:zp}],toDOM:jp}}},{key:"view",get:function(){return Ip}}]),n}(),Pp=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"done",get:function(){return this.node.attrs.done},set:function(e){this.updateAttrs({done:e})}},{key:"todoItemStyle",get:function(){return{lineHeight:uu(this.node.attrs.lineHeight)}}}]),n}();zr([eo({type:E["Node"],required:!0})],Pp.prototype,"node",void 0),zr([eo({type:Object,required:!0})],Pp.prototype,"view",void 0),zr([eo({type:Function,required:!0})],Pp.prototype,"updateAttrs",void 0);const $p=Cs({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"todo-item",class:{"todo-item--done":e.done},style:e.todoItemStyle,attrs:{"data-type":e.node.type.name,"data-done":e.done.toString(),"data-text-align":e.node.attrs.textAlign,"data-drag-handle":""}},[n("span",{attrs:{contenteditable:"false"}},[n("el-checkbox",{model:{value:e.done,callback:function(t){e.done=t},expression:"done"}})],1),e._v(" "),n("div",{ref:"content",staticClass:"todo-content",attrs:{contenteditable:e.view.editable.toString()}})])},staticRenderFns:[]},void 0,Pp=zr([Xr({components:Mr({},h.a.name,h.a)})],Pp),void 0,!1,void 0,!1,void 0,void 0,void 0);function Fp(e){var t=e.style,n=t.textAlign,r=t.lineHeight,o=e.getAttribute("data-text-align")||n||"";return{textAlign:(o=sr.test(o)?o:"")||null,lineHeight:(r=r&&r!==uu(1.7)?r:"")||null,done:"true"===e.getAttribute("data-done")}}function Bp(e){var t=e.attrs,n=t.done,r=t.textAlign,o=t.lineHeight,i="",s={"data-type":"todo_item"};if(s["data-done"]=n.toString(),r&&"left"!==r&&(i+="text-align: ".concat(r)),o){var l=uu(o);i+="line-height: ".concat(l,";")}return i&&(s.style=i),["li",Object.assign(Object.assign({},s),{class:"todo-item ".concat(n?"todo-item--done":"")}),["span",{contenteditable:"false"},["span",{class:"el-checkbox ".concat(n?"is-checked":""),style:"pointer-events: none;"},["span",{class:"el-checkbox__input ".concat(n?"is-checked":"")},["span",{class:"el-checkbox__inner"}]]]],["div",{class:"todo-content"},0]]}var Lp=function(e){Tr(n,i["p"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"schema",get:function(){return{attrs:{done:{default:!1},textAlign:{default:null},lineHeight:{default:null}},draggable:!0,content:this.options.nested?"(paragraph|todo_list)+":"paragraph+",parseDOM:[{priority:51,tag:'[data-type="'.concat(this.name,'"]'),getAttrs:Fp}],toDOM:Bp}}},{key:"view",get:function(){return $p}}]),n}(),Vp=function(e){Tr(n,i["q"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"menuBtnView",value:function(e){var t=e.isActive,n=e.commands,r=e.t;return{component:Js,componentProps:{isActive:t.todo_list(),command:n.todo_list,icon:"tasks",tooltip:r("editor.extensions.TodoList.tooltip")}}}},{key:"schema",get:function(){var e=this;return{group:"block",content:"todo_item+",parseDOM:[{priority:51,tag:'[data-type="'.concat(this.name,'"]'),getAttrs:function(){return{"data-type":e.name}}}],toDOM:function(){var t={};return t["data-type"]=e.name,["ul",t,0]}}}}]),n}();function qp(e){var t=e.selection,n=e.doc,r=t.from,o=t.to,i=!0,s=!1;return n.nodesBetween(r,o,(function(e){var t=e.type.name;return!i||"table"!==t&&"table_row"!==t&&"table_column"!==t&&"table_cell"!==t||(i=!1,s=!0),i})),s}var Hp=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).popoverVisible=!1,e.tableGridSize={row:5,col:5},e.selectedTableGridSize={row:2,col:2},e}return Pn(n,[{key:"selectTableGridSize",value:function(e,t){e===this.tableGridSize.row&&(this.tableGridSize.row=Math.min(e+1,10)),t===this.tableGridSize.col&&(this.tableGridSize.col=Math.min(t+1,10)),this.selectedTableGridSize.row=e,this.selectedTableGridSize.col=t}},{key:"onMouseDown",value:function(e,t){return this.popoverVisible=!1,{row:e,col:t}}},{key:"resetTableGridSize",value:function(){this.tableGridSize={row:5,col:5},this.selectedTableGridSize={row:2,col:2}}}]),n}();zr([Zr()],Hp.prototype,"et",void 0),zr([ro("createTable")],Hp.prototype,"onMouseDown",null);const Wp=Cs({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-popover",{attrs:{placement:"right",trigger:"hover","popper-class":"el-tiptap-popper"},on:{"after-leave":e.resetTableGridSize},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[n("div",{staticClass:"table-grid-size-editor"},[n("div",{staticClass:"table-grid-size-editor__body"},e._l(e.tableGridSize.row,(function(t){return n("div",{key:"r"+t,staticClass:"table-grid-size-editor__row"},e._l(e.tableGridSize.col,(function(r){return n("div",{key:"c"+r,staticClass:"table-grid-size-editor__cell",class:{"table-grid-size-editor__cell--selected":r<=e.selectedTableGridSize.col&&t<=e.selectedTableGridSize.row},on:{mouseover:function(n){return e.selectTableGridSize(t,r)},mousedown:function(n){return e.onMouseDown(t,r)}}},[n("div",{staticClass:"table-grid-size-editor__cell__inner"})])})),0)})),0),e._v(" "),n("div",{staticClass:"table-grid-size-editor__footer"},[e._v("\n      "+e._s(e.selectedTableGridSize.row)+" X "+e._s(e.selectedTableGridSize.col)+"\n    ")])]),e._v(" "),n("div",{attrs:{slot:"reference"},on:{mouseover:function(t){e.popoverVisible=!0}},slot:"reference"},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.insert_table")))])])])},staticRenderFns:[]},void 0,Hp=zr([Xr({components:Mr({},S.a.name,S.a)})],Hp),void 0,!1,void 0,!1,void 0,void 0,void 0);var Up,Jp=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).popoverVisible=!1,e}return Pn(n,[{key:"hidePopover",value:function(){this.popoverVisible=!1}},{key:"createTable",value:function(e){var t=e.row,n=e.col;this.editorContext.commands.createTable({rowsCount:t,colsCount:n,withHeaderRow:!0}),this.hidePopover()}},{key:"editor",get:function(){return this.editorContext.editor}},{key:"isTableActive",get:function(){return qp(this.editor.state)}},{key:"enableMergeCells",get:function(){return qp(e=this.editor.state)&&Object(T["mergeCells"])(e);var e}},{key:"enableSplitCell",get:function(){return qp(e=this.editor.state)&&Object(T["splitCell"])(e);var e}}]),n}();zr([eo({type:Object,required:!0})],Jp.prototype,"editorContext",void 0),zr([Zr()],Jp.prototype,"et",void 0);const Kp=Cs({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-popover",{attrs:{disabled:e.et.isCodeViewMode,placement:"bottom",trigger:"click","popper-class":"el-tiptap-popper"},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[n("div",{staticClass:"el-tiptap-popper__menu"},[n("div",{staticClass:"el-tiptap-popper__menu__item"},[n("create-table-popover",{on:{createTable:e.createTable}})],1),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item__separator"}),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!e.isTableActive},on:{mousedown:e.hidePopover,click:e.editorContext.commands.addColumnBefore}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.add_column_before")))])]),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!e.isTableActive},on:{mousedown:e.hidePopover,click:e.editorContext.commands.addColumnAfter}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.add_column_after")))])]),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!e.isTableActive},on:{mousedown:e.hidePopover,click:e.editorContext.commands.deleteColumn}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.delete_column")))])]),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item__separator"}),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!e.isTableActive},on:{mousedown:e.hidePopover,click:e.editorContext.commands.addRowBefore}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.add_row_before")))])]),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!e.isTableActive},on:{mousedown:e.hidePopover,click:e.editorContext.commands.addRowAfter}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.add_row_after")))])]),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!e.isTableActive},on:{mousedown:e.hidePopover,click:e.editorContext.commands.deleteRow}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.delete_row")))])]),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item__separator"}),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!e.enableMergeCells},on:{mousedown:e.hidePopover,click:e.editorContext.commands.mergeCells}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.merge_cells")))])]),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!e.enableSplitCell},on:{mousedown:e.hidePopover,click:e.editorContext.commands.splitCell}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.split_cell")))])]),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item__separator"}),e._v(" "),n("div",{staticClass:"el-tiptap-popper__menu__item",class:{"el-tiptap-popper__menu__item--disabled":!e.isTableActive},on:{mousedown:e.hidePopover,click:e.editorContext.commands.deleteTable}},[n("span",[e._v(e._s(e.et.t("editor.extensions.Table.buttons.delete_table")))])])]),e._v(" "),n("command-button",{attrs:{slot:"reference","is-active":e.isTableActive,"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.Table.tooltip"),readonly:e.et.isCodeViewMode,icon:"table"},slot:"reference"})],1)},staticRenderFns:[]},void 0,Jp=zr([Xr({components:(Up={},Mr(Up,S.a.name,S.a),Mr(Up,"CommandButton",Js),Mr(Up,"CreateTablePopover",Wp),Up)})],Jp),void 0,!1,void 0,!1,void 0,void 0,void 0);(function(e){Tr(n,i["o"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}Pn(n,[{key:"menuBtnView",value:function(e){return{component:Kp,componentProps:{editorContext:e}}}}])})();var Gp=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"openInsertVideoControl",value:function(){var e=this;M.a.prompt("",this.et.t("editor.extensions.Iframe.control.title"),{confirmButtonText:this.et.t("editor.extensions.Iframe.control.confirm"),cancelButtonText:this.et.t("editor.extensions.Iframe.control.cancel"),inputPlaceholder:this.et.t("editor.extensions.Iframe.control.placeholder"),roundButton:!0}).then((function(t){var n=t.value;e.editorContext.commands.iframe({src:n})})).catch((function(){}))}}]),n}();zr([eo({type:Object,required:!0})],Gp.prototype,"editorContext",void 0),zr([Zr()],Gp.prototype,"et",void 0);const Xp=Cs({render:function(){var e=this.$createElement;return(this._self._c||e)("command-button",{attrs:{command:this.openInsertVideoControl,"enable-tooltip":this.et.tooltip,tooltip:this.et.t("editor.extensions.Iframe.tooltip"),readonly:this.et.isCodeViewMode,icon:"video"}})},staticRenderFns:[]},void 0,Gp=zr([Xr({components:{CommandButton:Js}})],Gp),void 0,!1,void 0,!1,void 0,void 0,void 0);var Zp=function(e){Tr(n,o["h"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"commands",value:function(e){var t=e.type;return function(e){return function(n,r){var o=n.selection,i=o.$cursor?o.$cursor.pos:o.$to.pos,s=t.create(e);r(n.tr.insert(i,s))}}}},{key:"menuBtnView",value:function(e){return{component:Xp,componentProps:{editorContext:e}}}},{key:"name",get:function(){return"iframe"}},{key:"schema",get:function(){return{attrs:{src:{default:null}},group:"block",selectable:!1,parseDOM:[{tag:"iframe",getAttrs:function(e){return{src:e.getAttribute("src")}}}],toDOM:function(e){return["iframe",{src:e.attrs.src,frameborder:0,allowfullscreen:"true"}]}}}},{key:"view",get:function(){return{props:["node","updateAttrs","view"],computed:{src:{get:function(){return this.node.attrs.src},set:function(e){this.updateAttrs({src:e})}}},template:'\n        <div class="iframe">\n          <iframe class="iframe__embed" :src="src"></iframe>\n        </div>\n      '}}}]),n}();ct({target:"String",proto:!0,forced:Rs("bold")},{bold:function(){return Ns(this,"b","","")}});var Yp=function(e){Tr(n,i["b"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"menuBtnView",value:function(e){var t=e.isActive,n=e.commands,r=e.t;return{component:Js,componentProps:{command:n.bold,isActive:t.bold(),icon:"bold",tooltip:r("editor.extensions.Bold.tooltip")}}}}]),n}(),Qp=function(e){Tr(n,i["r"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"menuBtnView",value:function(e){var t=e.isActive,n=e.commands,r=e.t;return{component:Js,componentProps:{command:n.underline,isActive:t.underline(),icon:"underline",tooltip:r("editor.extensions.Underline.tooltip")}}}}]),n}(),eh=function(e){Tr(n,i["i"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"menuBtnView",value:function(e){var t=e.isActive,n=e.commands,r=e.t;return{component:Js,componentProps:{command:n.italic,isActive:t.italic(),icon:"italic",tooltip:r("editor.extensions.Italic.tooltip")}}}}]),n}();ct({target:"String",proto:!0,forced:Rs("strike")},{strike:function(){return Ns(this,"strike","","")}});var th,nh=function(e){Tr(n,i["n"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"menuBtnView",value:function(e){var t=e.isActive,n=e.commands,r=e.t;return{component:Js,componentProps:{command:n.strike,isActive:t.strike(),icon:"strikethrough",tooltip:r("editor.extensions.Strike.tooltip")}}}}]),n}(),rh=vo.trim;ct({target:"String",proto:!0,forced:function(e){return D((function(){return!!po[e]()||"​᠎"!="​᠎"[e]()||po[e].name!==e}))}("trim")},{trim:function(){return rh(this)}});var oh=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).linkAttrs={},e.addLinkDialogVisible=!1,e}return Pn(n,[{key:"onDialogVisibleChange",value:function(){this.linkAttrs={href:"",openInNewTab:!0}}},{key:"addLink",value:function(){this.editorContext.commands.link(this.linkAttrs),this.closeAddLinkDialog()}},{key:"openAddLinkDialog",value:function(){this.addLinkDialogVisible=!0}},{key:"closeAddLinkDialog",value:function(){this.addLinkDialogVisible=!1}}]),n}();zr([eo({type:Object,required:!0})],oh.prototype,"editorContext",void 0),zr([Zr()],oh.prototype,"et",void 0),zr([to("addLinkDialogVisible",{immediate:!0})],oh.prototype,"onDialogVisibleChange",null);const ih=Cs({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("command-button",{attrs:{"is-active":e.editorContext.isActive.link(),readonly:e.et.isCodeViewMode,command:e.openAddLinkDialog,"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.Link.add.tooltip"),icon:"link"}}),e._v(" "),n("el-dialog",{attrs:{title:e.et.t("editor.extensions.Link.add.control.title"),visible:e.addLinkDialogVisible,"append-to-body":!0,width:"400px","custom-class":"el-tiptap-edit-link-dialog"},on:{"update:visible":function(t){e.addLinkDialogVisible=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[n("el-button",{attrs:{size:"small",round:""},on:{click:e.closeAddLinkDialog}},[e._v("\n        "+e._s(e.et.t("editor.extensions.Link.add.control.cancel"))+"\n      ")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"small",round:""},on:{mousedown:function(e){e.preventDefault()},click:e.addLink}},[e._v("\n        "+e._s(e.et.t("editor.extensions.Link.add.control.confirm"))+"\n      ")])]},proxy:!0}])},[n("el-form",{attrs:{model:e.linkAttrs,"label-position":"right",size:"small"}},[n("el-form-item",{attrs:{label:e.et.t("editor.extensions.Link.add.control.href"),prop:"href"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.linkAttrs.href,callback:function(t){e.$set(e.linkAttrs,"href",t)},expression:"linkAttrs.href"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"openInNewTab"}},[n("el-checkbox",{model:{value:e.linkAttrs.openInNewTab,callback:function(t){e.$set(e.linkAttrs,"openInNewTab",t)},expression:"linkAttrs.openInNewTab"}},[e._v("\n          "+e._s(e.et.t("editor.extensions.Link.add.control.open_in_new_tab"))+"\n        ")])],1)],1)],1)],1)},staticRenderFns:[]},void 0,oh=zr([Xr({components:(th={},Mr(th,m.a.name,m.a),Mr(th,qc.name,qc),Mr(th,Vc.name,Vc),Mr(th,nl.name,nl),Mr(th,h.a.name,h.a),Mr(th,d.a.name,d.a),Mr(th,"CommandButton",Js),th)})],oh),void 0,!1,void 0,!1,void 0,void 0,void 0);function sh(e){return{href:e.getAttribute("href"),openInNewTab:"_blank"===e.getAttribute("target")}}function lh(e){var t=e.attrs,n=t.href,r=t.openInNewTab,o={};o.href=n;var i="nofollow";return r&&(o.target="_blank",i+=" noopener noreferrer"),o.ref=i.trim(),["a",o,0]}(function(e){Tr(n,i["j"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}Pn(n,[{key:"menuBtnView",value:function(e){return{component:ih,componentProps:{editorContext:e}}}},{key:"schema",get:function(){return{attrs:{href:{default:null},openInNewTab:{default:!0}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:sh}],toDOM:lh}}},{key:"plugins",get:function(){return[new s["Plugin"]({props:{handleClick:function(e,t){var n=e.state,r=n.schema,o=n.doc,i=n.tr,l=Ws(o.resolve(t),r.marks.link);if(!l)return!1;var a=o.resolve(l.from),c=o.resolve(l.to),u=i.setSelection(new s["TextSelection"](a,c));return e.dispatch(u),!0}}})]}}])})();function ah(e,t,n){if(!e.selection||!e.doc||!t)return e;var r=e.selection,o=r.empty,i=r.$cursor,s=r.ranges;if(o&&!i||!function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,s=o.$to,l=0===i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,s.pos,(function(e){return!l&&(l=e.inlineContent&&e.type.allowsMarkType(n),!0)})),l)return{v:!0}},o=0;o<t.length;o++){var i=r(o);if("object"===Nr(i))return i.v}return!1}(e.doc,s,t))return e;if(i)return e=e.removeStoredMark(t),n?e.addStoredMark(t.create(n)):e;for(var l=!1,a=0;!l&&a<s.length;a++){var c=s[a],u=c.$from,d=c.$to;l=e.doc.rangeHasMark(u.pos,d.pos,t)}for(var p=0;p<s.length;p++){var h=s[p],f=h.$from,m=h.$to;l&&(e=e.removeMark(f.pos,m.pos,t)),n&&(e=e.addMark(f.pos,m.pos,t.create(n)))}return e}var ch,uh=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#000000"];function dh(e){return/#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})\b/gi.test(e)}var ph=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).color="",e.popoverVisible=!1,e}return Pn(n,[{key:"onSelectedColorChange",value:function(e){this.color=e}},{key:"confirmColor",value:function(e){return this.popoverVisible=!1,e}}]),n}();zr([eo({type:Array,default:function(){return[]}})],ph.prototype,"colorSet",void 0),zr([eo({type:String,default:""})],ph.prototype,"selectedColor",void 0),zr([eo({type:String,required:!0})],ph.prototype,"tooltip",void 0),zr([eo({type:String,required:!0})],ph.prototype,"icon",void 0),zr([eo({type:String,default:"OK"})],ph.prototype,"confirmText",void 0),zr([Zr()],ph.prototype,"et",void 0),zr([to("selectedColor",{immediate:!0})],ph.prototype,"onSelectedColorChange",null),zr([ro("confirm")],ph.prototype,"confirmColor",null);const hh=Cs({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-popover",{attrs:{disabled:e.et.isCodeViewMode,placement:"bottom",trigger:"click","popper-class":"el-tiptap-popper"},model:{value:e.popoverVisible,callback:function(t){e.popoverVisible=t},expression:"popoverVisible"}},[n("div",{staticClass:"color-set"},[e._l(e.colorSet,(function(t){return n("div",{key:t,staticClass:"color__wrapper"},[n("div",{staticClass:"color",class:{"color--selected":e.selectedColor===t},style:{"background-color":t},on:{mousedown:function(e){e.preventDefault()},click:function(n){return n.stopPropagation(),e.confirmColor(t)}}})])})),e._v(" "),n("div",{staticClass:"color__wrapper"},[n("div",{staticClass:"color color--remove",on:{mousedown:function(e){e.preventDefault()},click:function(t){return t.stopPropagation(),e.confirmColor("")}}})])],2),e._v(" "),n("div",{staticClass:"color-hex"},[n("el-input",{staticClass:"color-hex__input",attrs:{placeholder:"HEX",autofocus:"true",maxlength:"7",size:"small"},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}}),e._v(" "),n("el-button",{staticClass:"color-hex__button",attrs:{type:"text",size:"small"},on:{click:function(t){return e.confirmColor(e.color)}}},[e._v("\n      "+e._s(e.confirmText)+"\n    ")])],1),e._v(" "),n("command-button",{attrs:{slot:"reference","enable-tooltip":e.et.tooltip,tooltip:e.tooltip,icon:e.icon,readonly:e.et.isCodeViewMode},slot:"reference"})],1)},staticRenderFns:[]},void 0,ph=zr([Xr({components:(ch={},Mr(ch,d.a.name,d.a),Mr(ch,S.a.name,S.a),Mr(ch,nl.name,nl),Mr(ch,"CommandButton",Js),ch)})],ph),void 0,!1,void 0,!1,void 0,void 0,void 0);var fh=function(e){Tr(n,o["g"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"commands",value:function(){return function(e){return function(t,n){if(void 0!==e){var r=t.schema,o=t.tr,i=r.marks.text_color,s=e&&dh(e)?{color:e}:null;if((o=ah(t.tr.setSelection(t.selection),i,s)).docChanged||o.storedMarksSet)return n&&n(o),!0}return!1}}}},{key:"menuBtnView",value:function(e){var t=e.commands,n=e.getMarkAttrs,r=e.t;return{component:hh,componentProps:{colorSet:this.options.colors,selectedColor:n("text_color").color,tooltip:r("editor.extensions.TextColor.tooltip"),icon:"tint"},componentEvents:{confirm:function(e){return t.text_color(e)}}}}},{key:"name",get:function(){return"text_color"}},{key:"defaultOptions",get:function(){return{colors:uh}}},{key:"schema",get:function(){return{attrs:{color:""},inline:!0,group:"inline",parseDOM:[{style:"color",getAttrs:function(e){return{color:e}}}],toDOM:function(e){var t=e.attrs.color,n="";return t&&(n+="color: ".concat(t,";")),["span",{style:n},0]}}}}]),n}(),mh=(function(e){Tr(n,o["g"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}Pn(n,[{key:"commands",value:function(){return function(e){return function(t,n){if(void 0!==e){var r=t.schema,o=t.tr,i=r.marks.text_highlight,s=e&&dh(e)?{highlightColor:e}:null;if((o=ah(t.tr.setSelection(t.selection),i,s)).docChanged||o.storedMarksSet)return n&&n(o),!0}return!1}}}},{key:"menuBtnView",value:function(e){var t=e.commands,n=e.getMarkAttrs,r=e.t;return{component:hh,componentProps:{colorSet:this.options.colors,selectedColor:n("text_highlight").highlightColor,tooltip:r("editor.extensions.TextHighlight.tooltip"),icon:"highlighter"},componentEvents:{confirm:function(e){return t.text_highlight(e)}}}}},{key:"name",get:function(){return"text_highlight"}},{key:"defaultOptions",get:function(){return{colors:uh}}},{key:"schema",get:function(){return{attrs:{highlightColor:""},inline:!0,group:"inline",parseDOM:[{tag:"span[style*=background-color]",getAttrs:function(e){return{highlightColor:e.style.backgroundColor}}}],toDOM:function(e){var t=e.attrs.highlightColor,n="";return t&&(n+="background-color: ".concat(t,";")),["span",{style:n},0]}}}}])}(),Math.max),gh=Math.min,vh=Math.floor,yh=/\$([$&'`]|\d\d?|<[^>]*>)/g,bh=/\$([$&'`]|\d\d?)/g;_n("replace",2,(function(e,t,n,r){var o=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,i=r.REPLACE_KEEPS_$0,s=o?"$":"$0";return[function(n,r){var o=U(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):t.call(String(o),n,r)},function(e,r){if(!o&&i||"string"==typeof r&&-1===r.indexOf(s)){var a=n(t,e,this,r);if(a.done)return a.value}var c=oe(e),u=String(this),d="function"==typeof r;d||(r=String(r));var p=c.global;if(p){var h=c.unicode;c.lastIndex=0}for(var f=[];;){var m=Nn(c,u);if(null===m)break;if(f.push(m),!p)break;""===String(m[0])&&(c.lastIndex=An(u,Le(c.lastIndex),h))}for(var g,v="",y=0,b=0;b<f.length;b++){m=f[b];for(var w=String(m[0]),x=mh(gh(Fe(m.index),u.length),0),k=[],S=1;S<m.length;S++)k.push(void 0===(g=m[S])?g:String(g));var _=m.groups;if(d){var C=[w].concat(k,x,u);void 0!==_&&C.push(_);var O=String(r.apply(void 0,C))}else O=l(w,u,x,k,_,r);x>=y&&(v+=u.slice(y,x)+O,y=x+w.length)}return v+u.slice(y)}];function l(e,n,r,o,i,s){var l=r+e.length,a=o.length,c=bh;return void 0!==i&&(i=dt(i),c=yh),t.call(s,c,(function(t,s){var c;switch(s.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(l);case"<":c=i[s.slice(1,-1)];break;default:var u=+s;if(0===u)return t;if(u>a){var d=vh(u/10);return 0===d?t:d<=a?void 0===o[d-1]?s.charAt(1):o[d-1]+s.charAt(1):t}c=o[u-1]}return void 0===c?"":c}))}}));var wh,xh=["Arial","Arial Black","Georgia","Impact","Tahoma","Times New Roman","Verdana","Courier New","Lucida Console","Monaco","monospace"].reduce((function(e,t){return e[t]=t,e}),{}),kh=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"toggleFontType",value:function(e){e===this.activeFontType?this.editorContext.commands.font_type(""):this.editorContext.commands.font_type(e)}},{key:"editor",get:function(){return this.editorContext.editor}},{key:"fontTypes",get:function(){var e,t=this.editor.extensions.options.font_type.fontTypes;return e=t,"[object Object]"!==Object.prototype.toString.call(e)?(ar.error("'fontTypes' should be an object"),xh):t}},{key:"activeFontType",get:function(){return function(e){var t=e.schema,n=e.selection,r=e.tr,o=t.marks.font_type;if(!o)return"";if(n.empty){var i=(r.storedMarks||e.storedMarks||n instanceof s["TextSelection"]&&n.$cursor&&n.$cursor.marks&&n.$cursor.marks()||[]).find((function(e){return e.type===o}));return i&&i.attrs.name||""}var l=Hs(e,o).name;return l||""}(this.editor.state)}}]),n}();zr([eo({type:Object,required:!0})],kh.prototype,"editorContext",void 0),zr([Zr()],kh.prototype,"et",void 0);const Sh=Cs({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{attrs:{placement:"bottom",trigger:"click"},on:{command:e.toggleFontType}},[n("command-button",{attrs:{"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.FontType.tooltip"),readonly:e.et.isCodeViewMode,icon:"font"}}),e._v(" "),n("el-dropdown-menu",{staticClass:"el-tiptap-dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.fontTypes,(function(t){return n("el-dropdown-item",{key:t,staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":t===e.activeFontType},attrs:{command:t}},[n("span",{style:{"font-family":t},attrs:{"data-font":t}},[e._v(e._s(t))])])})),1)],1)},staticRenderFns:[]},void 0,kh=zr([Xr({components:(wh={},Mr(wh,x.a.name,x.a),Mr(wh,b.a.name,b.a),Mr(wh,v.a.name,v.a),Mr(wh,"CommandButton",Js),wh)})],kh),void 0,!1,void 0,!1,void 0,void 0,void 0);(function(e){Tr(n,o["g"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}Pn(n,[{key:"commands",value:function(e){var t=e.type;return function(e){return function(n,r){var o=n.tr;return!(!(o=function(e,t,n){var r=e.selection;return r instanceof s["TextSelection"]||r instanceof s["AllSelection"]?e=ah(e,t,n?{name:n}:null):e}(n.tr.setSelection(n.selection),t,e)).docChanged&&!o.storedMarksSet)&&(r&&r(o),!0)}}}},{key:"menuBtnView",value:function(e){return{component:Sh,componentProps:{editorContext:e}}}},{key:"name",get:function(){return"font_type"}},{key:"defaultOptions",get:function(){return{fontTypes:xh}}},{key:"schema",get:function(){return{attrs:{name:""},inline:!0,group:"inline",parseDOM:[{style:"font-family",getAttrs:function(e){return{name:e?e.replace(/["']/g,""):""}}}],toDOM:function(e){var t=e.attrs.name,n={};return t&&(n.style="font-family: ".concat(t)),["span",n,0]}}}}])})();var _h,Ch=["8","10","12","14","16","18","20","24","30","36","48","60","72"],Oh=/([\d.]+)px/i,Mh=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).defaultSize="default",e}return Pn(n,[{key:"toggleFontSize",value:function(e){e===this.activeFontSize?this.editorContext.commands.font_size("default"):this.editorContext.commands.font_size(e)}},{key:"editor",get:function(){return this.editorContext.editor}},{key:"fontSizes",get:function(){return this.editor.extensions.options.font_size.fontSizes}},{key:"activeFontSize",get:function(){return function(e){var t=e.schema,n=e.selection,r=e.tr,o=t.marks.font_size;if(!o)return"default";if(n.empty){var i=(r.storedMarks||e.storedMarks||n instanceof s["TextSelection"]&&n.$cursor&&n.$cursor.marks&&n.$cursor.marks()||[]).find((function(e){return e.type===o}));return i?String(i.attrs.px||"default"):"default"}var l=Hs(e,o).px;return l?String(l):"default"}(this.editor.state)}}]),n}();zr([eo({type:Object,required:!0})],Mh.prototype,"editorContext",void 0),zr([Zr()],Mh.prototype,"et",void 0);const Eh=Cs({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{attrs:{placement:"bottom",trigger:"click"},on:{command:e.toggleFontSize}},[n("command-button",{attrs:{"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.FontSize.tooltip"),readonly:e.et.isCodeViewMode,icon:"text-width"}}),e._v(" "),n("el-dropdown-menu",{staticClass:"el-tiptap-dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":e.activeFontSize===e.defaultSize},attrs:{command:e.defaultSize}},[n("span",{attrs:{"data-font-size":"default"}},[e._v(e._s(e.et.t("editor.extensions.FontSize.default")))])]),e._v(" "),e._l(e.fontSizes,(function(t){return n("el-dropdown-item",{key:t,staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":t===e.activeFontSize},attrs:{command:t}},[n("span",{attrs:{"data-font-size":t}},[e._v(e._s(t))])])}))],2)],1)},staticRenderFns:[]},void 0,Mh=zr([Xr({components:(_h={},Mr(_h,x.a.name,x.a),Mr(_h,b.a.name,b.a),Mr(_h,v.a.name,v.a),Mr(_h,"CommandButton",Js),_h)})],Mh),void 0,!1,void 0,!1,void 0,void 0,void 0);(function(e){Tr(n,o["g"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}Pn(n,[{key:"commands",value:function(e){var t=e.type;return function(e){return function(n,r){var o=n.tr;return!(!(o=function(e,t,n){var r=e.selection;return r instanceof s["TextSelection"]||r instanceof s["AllSelection"]?e=ah(e,t,n&&"default"!==n?{px:n}:null):e}(n.tr.setSelection(n.selection),t,e)).docChanged&&!o.storedMarksSet)&&(r&&r(o),!0)}}}},{key:"menuBtnView",value:function(e){return{component:Eh,componentProps:{editorContext:e}}}},{key:"name",get:function(){return"font_size"}},{key:"defaultOptions",get:function(){return{fontSizes:Ch}}},{key:"schema",get:function(){return{attrs:{px:""},inline:!0,group:"inline",parseDOM:[{style:"font-size",getAttrs:function(e){var t={};if(!e)return t;var n=function(e){var t=e.match(Oh);if(!t)return"";var n=t[1];return n||""}(e);return n?{px:n}:t}}],toDOM:function(e){var t=e.attrs.px,n={};return t&&(n.style="font-size: ".concat(t,"px")),["span",n,0]}}}}])})();var Th=function(e){Tr(n,i["g"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"menuBtnView",value:function(e){var t=e.commands,n=e.t;return{component:Js,componentProps:{command:t.horizontal_rule,icon:"minus",tooltip:n("editor.extensions.HorizontalRule.tooltip")}}}}]),n}(),Ah=(function(e){Tr(n,i["f"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}Pn(n,[{key:"menuBtnView",value:function(e){var t=e.commands,n=e.t;return[{component:Js,componentProps:{command:t.undo,icon:"undo",tooltip:n("editor.extensions.History.tooltip.undo")}},{component:Js,componentProps:{command:t.redo,icon:"redo",tooltip:n("editor.extensions.History.tooltip.redo")}}]}}])}(),["paragraph","heading","list_item","todo_item","title"]);function Nh(e,t){var n=e,r=n.selection,o=n.doc;if(!r||!o)return e;var i=r.from,s=r.to,l=[];return t=t||null,o.nodesBetween(i,s,(function(e,n){var r=e.type;return!Ah.includes(r.name)||(e.attrs.textAlign||null)===t||(l.push({node:e,pos:n,nodeType:r}),"list_item"!==r.name&&"todo_item"!==r.name)})),l.length?(l.forEach((function(n){var r=n.node,o=n.pos,i=n.nodeType,s=r.attrs;s=Object.assign(Object.assign({},s),{textAlign:t}),e=e.setNodeMarkup(o,i,s,r.marks)})),e):e}(function(e){Tr(n,o["f"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}Pn(n,[{key:"commands",value:function(){return this.options.alignments.reduce((function(e,t){return sr.test(t)?Object.assign(Object.assign({},e),Mr({},"align_".concat(t),(function(){return function(e,n){var r=e.selection,o=Nh(e.tr.setSelection(r),"left"===t?null:t);return!!o.docChanged&&(n&&n(o),!0)}}))):e}),{})}},{key:"menuBtnView",value:function(e){var t=e.commands,n=e.editor,r=e.t;return this.options.alignments.reduce((function(e,o){if(!sr.test(o))return e;var i="left"!==o&&function(e,t){var n=e.selection,r=e.doc,o=n.from,i=n.to,s=!0,l=!1;return r.nodesBetween(o,i,(function(e){return s&&e.attrs.textAlign===t&&(s=!1,l=!0),s})),l}(n.state,o);return e.concat({component:Js,componentProps:{isActive:i,command:t["align_".concat(o)],icon:"align-".concat(o),tooltip:r("editor.extensions.TextAlign.buttons.align_".concat(o,".tooltip"))}})}),[])}},{key:"name",get:function(){return"text_align"}},{key:"defaultOptions",get:function(){return{alignments:["left","center","right","justify"]}}}])})();function Rh(e,t){var n=e,r=n.doc,o=n.selection;if(!r||!o)return e;if(!(o instanceof s["TextSelection"]||o instanceof s["AllSelection"]))return e;var i=o.from,l=o.to;return r.nodesBetween(i,l,(function(n,r){var o=n.type;return"paragraph"===o.name||"heading"===o.name||"blockquote"===o.name?(e=function(e,t,n){if(!e.doc)return e;var r=e.doc.nodeAt(t);if(!r)return e;var o=vs((r.attrs.indent||0)+n,0,7);if(o===r.attrs.indent)return e;var i=Object.assign(Object.assign({},r.attrs),{indent:o});return e.setNodeMarkup(t,r.type,i,r.marks)}(e,r,t),!1):!function(e){return function(e){return"bullet_list"===e.type.name}(e)||function(e){return"order_list"===e.type.name}(e)||function(e){return"todo_list"===e.type.name}(e)}(n)})),e}function Ih(e){return function(t,n){var r=t.selection,o=t.tr;return!!(o=Rh(o=o.setSelection(r),e)).docChanged&&(n&&n(o),!0)}}(function(e){Tr(n,o["f"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}Pn(n,[{key:"commands",value:function(){return{indent:function(){return Ih(1)},outdent:function(){return Ih(-1)}}}},{key:"keys",value:function(){return{Tab:Ih(1),"Shift-Tab":Ih(-1)}}},{key:"menuBtnView",value:function(e){var t=e.commands,n=e.t;return[{component:Js,componentProps:{command:t.indent,icon:"indent",tooltip:n("editor.extensions.Indent.buttons.indent.tooltip")}},{component:Js,componentProps:{command:t.outdent,icon:"outdent",tooltip:n("editor.extensions.Indent.buttons.outdent.tooltip")}}]}},{key:"name",get:function(){return"indent"}},{key:"defaultOptions",get:function(){return{minIndent:0,maxIndent:7}}}])})();var zh,jh=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"isLineHeightActive",value:function(e){return function(e,t){var n=e.selection,r=e.doc,o=n.from,i=n.to,s=!0,l=!1;return r.nodesBetween(o,i,(function(e){var n=e.type,r=e.attrs.lineHeight||"100%";return au.includes(n.name)?s&&t===r?(s=!1,l=!0,!1):"list_item"!==n.name&&"todo_item"!==n.name:s})),l}(this.editor.state,e)}},{key:"editor",get:function(){return this.editorContext.editor}},{key:"lineHeights",get:function(){return this.editor.extensions.options.line_height.lineHeights}}]),n}();zr([eo({type:Object,required:!0})],jh.prototype,"editorContext",void 0),zr([Zr()],jh.prototype,"et",void 0);const Dh=Cs({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dropdown",{attrs:{placement:"bottom",trigger:"click"},on:{command:function(t){return e.editorContext.commands.line_height({lineHeight:t})}}},[n("command-button",{attrs:{"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.LineHeight.tooltip"),readonly:e.et.isCodeViewMode,icon:"text-height"}}),e._v(" "),n("el-dropdown-menu",{staticClass:"el-tiptap-dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.lineHeights,(function(t){return n("el-dropdown-item",{key:t,staticClass:"el-tiptap-dropdown-menu__item",class:{"el-tiptap-dropdown-menu__item--active":e.isLineHeightActive(t)},attrs:{command:t}},[n("span",[e._v(e._s(t))])])})),1)],1)},staticRenderFns:[]},void 0,jh=zr([Xr({components:(zh={},Mr(zh,x.a.name,x.a),Mr(zh,b.a.name,b.a),Mr(zh,v.a.name,v.a),Mr(zh,"CommandButton",Js),zh)})],jh),void 0,!1,void 0,!1,void 0,void 0,void 0);(function(e){Tr(n,o["f"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}Pn(n,[{key:"commands",value:function(){return function(e){return function(e){return function(t,n){var r=t.selection,o=t.tr;return!!(o=du(o=o.setSelection(r),e)).docChanged&&(n&&n(o),!0)}}(e.lineHeight)}}},{key:"menuBtnView",value:function(e){return{component:Dh,componentProps:{editorContext:e}}}},{key:"name",get:function(){return"line_height"}},{key:"defaultOptions",get:function(){return{lineHeights:["100%","115%","150%","200%","250%","300%"]}}}])})();var Ph=fr.filter,$h=Mt("filter"),Fh=Jt("filter");ct({target:"Array",proto:!0,forced:!$h||!Fh},{filter:function(e){return Ph(this,e,arguments.length>1?arguments[1]:void 0)}});var Bh,Lh,Vh,qh=!D((function(){return Object.isExtensible(Object.preventExtensions({}))})),Hh=R((function(e){var t=se.f,n=we("meta"),r=0,o=Object.isExtensible||function(){return!0},i=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},s=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!K(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Z(e,n)){if(!o(e))return"F";if(!t)return"E";i(e)}return e[n].objectID},getWeakData:function(e,t){if(!Z(e,n)){if(!o(e))return!0;if(!t)return!1;i(e)}return e[n].weakData},onFreeze:function(e){return qh&&s.REQUIRED&&o(e)&&!Z(e,n)&&i(e),e}};Se[n]=!0})),Wh=(Hh.REQUIRED,Hh.fastKey,Hh.getWeakData,Hh.onFreeze,!D((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))),Uh=ke("IE_PROTO"),Jh=Object.prototype,Kh=Wh?Object.getPrototypeOf:function(e){return e=dt(e),Z(e,Uh)?e[Uh]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Jh:null},Gh=yt("iterator"),Xh=!1;[].keys&&("next"in(Vh=[].keys())?(Lh=Kh(Kh(Vh)))!==Object.prototype&&(Bh=Lh):Xh=!0),null==Bh&&(Bh={}),Z(Bh,Gh)||le(Bh,Gh,(function(){return this}));var Zh={IteratorPrototype:Bh,BUGGY_SAFARI_ITERATORS:Xh},Yh=Zh.IteratorPrototype,Qh=function(){return this},ef=Zh.IteratorPrototype,tf=Zh.BUGGY_SAFARI_ITERATORS,nf=yt("iterator"),rf=function(){return this},of=function(e,t,n,r,o,i,s){!function(e,t,n){var r=t+" Iterator";e.prototype=Bt(Yh,{next:L(1,n)}),Bo(e,r,!1),Vo[r]=Qh}(n,t,r);var l,a,c,u=function(e){if(e===o&&m)return m;if(!tf&&e in h)return h[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",p=!1,h=e.prototype,f=h[nf]||h["@@iterator"]||o&&h[o],m=!tf&&f||u(o),g="Array"==t&&h.entries||f;if(g&&(l=Kh(g.call(new e)),ef!==Object.prototype&&l.next&&(Kh(l)!==ef&&($n?$n(l,ef):"function"!=typeof l[nf]&&le(l,nf,rf)),Bo(l,d,!0))),"values"==o&&f&&"values"!==f.name&&(p=!0,m=function(){return f.call(this)}),h[nf]!==m&&le(h,nf,m),Vo[t]=m,o)if(a={values:u("values"),keys:i?m:u("keys"),entries:u("entries")},s)for(c in a)(tf||p||!(c in h))&&Ie(h,c,a[c]);else ct({target:t,proto:!0,forced:tf||p},a);return a},sf=se.f,lf=Hh.fastKey,af=Re.set,cf=Re.getterFor,uf=(function(e,t,n){var r=-1!==e.indexOf("Map"),o=-1!==e.indexOf("Weak"),i=r?"set":"add",s=j[e],l=s&&s.prototype,a=s,c={},u=function(e){var t=l[e];Ie(l,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(o&&!K(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return o&&!K(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(o&&!K(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(lt(e,"function"!=typeof s||!(o||l.forEach&&!D((function(){(new s).entries().next()})))))a=n.getConstructor(t,e,r,i),Hh.REQUIRED=!0;else if(lt(e,!0)){var d=new a,p=d[i](o?{}:-0,1)!=d,h=D((function(){d.has(1)})),f=ri((function(e){new s(e)})),m=!o&&D((function(){for(var e=new s,t=5;t--;)e[i](t,t);return!e.has(-0)}));f||((a=t((function(t,n){Lo(t,a,e);var o=Fn(new s,t,a);return null!=n&&Go(n,o[i],o,r),o}))).prototype=l,l.constructor=a),(h||m)&&(u("delete"),u("has"),r&&u("get")),(m||p)&&u(i),o&&l.clear&&delete l.clear}c[e]=a,ct({global:!0,forced:a!=s},c),Bo(a,e),o||n.setStrong(a,e,r)}("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(e,t,n,r){var o=e((function(e,i){Lo(e,o,t),af(e,{type:t,index:Bt(null),first:void 0,last:void 0,size:0}),P||(e.size=0),null!=i&&Go(i,e[r],e,n)})),i=cf(t),s=function(e,t,n){var r,o,s=i(e),a=l(e,t);return a?a.value=n:(s.last=a={index:o=lf(t,!0),key:t,value:n,previous:r=s.last,next:void 0,removed:!1},s.first||(s.first=a),r&&(r.next=a),P?s.size++:e.size++,"F"!==o&&(s.index[o]=a)),e},l=function(e,t){var n,r=i(e),o=lf(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return Po(o.prototype,{clear:function(){for(var e=i(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,P?e.size=0:this.size=0},delete:function(e){var t=i(this),n=l(this,e);if(n){var r=n.next,o=n.previous;delete t.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),t.first==n&&(t.first=r),t.last==n&&(t.last=o),P?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=i(this),r=dr(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!l(this,e)}}),Po(o.prototype,n?{get:function(e){var t=l(this,e);return t&&t.value},set:function(e,t){return s(this,0===e?0:e,t)}}:{add:function(e){return s(this,e=0===e?0:e,e)}}),P&&sf(o.prototype,"size",{get:function(){return i(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",o=cf(t),i=cf(r);of(e,t,(function(e,t){af(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),Ln(t)}}),En.charAt),df=Re.set,pf=Re.getterFor("String Iterator");of(String,"String",(function(e){df(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=pf(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=uf(n,r),t.index+=e.length,{value:e,done:!1})}));var hf={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ff=Re.set,mf=Re.getterFor("Array Iterator"),gf=of(Array,"Array",(function(e,t){ff(this,{type:"Array Iterator",target:J(e),index:0,kind:t})}),(function(){var e=mf(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");Vo.Arguments=Vo.Array,qt("keys"),qt("values"),qt("entries");var vf=yt("iterator"),yf=yt("toStringTag"),bf=gf.values;for(var wf in hf){var xf=j[wf],kf=xf&&xf.prototype;if(kf){if(kf[vf]!==bf)try{le(kf,vf,bf)}catch(Pf){kf[vf]=bf}if(kf[yf]||le(kf,yf,wf),hf[wf])for(var Sf in gf)if(kf[Sf]!==gf[Sf])try{le(kf,Sf,gf[Sf])}catch(Pf){kf[Sf]=gf[Sf]}}}var _f=["bold","italic","underline","strike","link","text_color","text_highlight"],Cf=(function(e){Tr(n,o["f"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}Pn(n,[{key:"commands",value:function(){return function(){return function(e,t){var n=function(e,t){var n=e,r=n.doc,o=n.selection;if(!o||!r)return e;var i=o.from,s=o.to;if(o.empty)return e;var l=new Set(_f.map((function(e){return t.marks[e]})).filter(Boolean));if(!l.size)return e;var a=[];return r.nodesBetween(i,s,(function(e,t){return!e.marks||!e.marks.length||(e.marks.some((function(n){l.has(n.type)&&a.push({node:e,pos:t,mark:n})})),!0)})),a.forEach((function(t){var n=t.node,r=t.mark,o=t.pos;e=e.removeMark(o,o+n.nodeSize,r.type)})),e=du(e=Nh(e,null),null)}(e.tr.setSelection(e.selection),e.schema);return!(!t||!n.docChanged)&&(t(n),!0)}}}},{key:"menuBtnView",value:function(e){var t=e.commands,n=e.t;return{component:Js,componentProps:{command:t.format_clear,icon:"remove-format",tooltip:n("editor.extensions.FormatClear.tooltip")}}}},{key:"name",get:function(){return"format_clear"}}])}(),function(e){Tr(n,r["default"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"isFullscreen",get:function(){return this.et.isFullscreen},set:function(e){this.et.isFullscreen=e}},{key:"buttonTooltip",get:function(){return this.isFullscreen?this.et.t("editor.extensions.Fullscreen.tooltip.exit_fullscreen"):this.et.t("editor.extensions.Fullscreen.tooltip.fullscreen")}}]),n}());zr([Zr()],Cf.prototype,"et",void 0);const Of=Cs({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("command-button",{attrs:{command:function(){return e.isFullscreen=!e.isFullscreen},"enable-tooltip":e.et.tooltip,tooltip:e.buttonTooltip,icon:e.isFullscreen?"compress":"expand","is-active":e.isFullscreen}})},staticRenderFns:[]},void 0,Cf=zr([Xr({components:{CommandButton:Js}})],Cf),void 0,!1,void 0,!1,void 0,void 0,void 0);(function(e){Tr(n,o["f"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}Pn(n,[{key:"menuBtnView",value:function(){return{component:Of}}},{key:"name",get:function(){return"fullscreen"}}])})();var Mf=!ri((function(e){Array.from(e)}));function Ef(e){var t=e.dom.closest(".el-tiptap-editor__content");return!!t&&(function(e){var t=Array.from(document.querySelectorAll("style, link")).reduce((function(e,t){return e+t.outerHTML}),"")+e.outerHTML,n=document.createElement("iframe");n.id="el-tiptap-iframe",n.setAttribute("style","position: absolute; width: 0; height: 0; top: -10px; left: -10px;"),document.body.appendChild(n);var r=n.contentWindow,o=n.contentDocument||n.contentWindow&&n.contentWindow.document;o&&(o.open(),o.write(t),o.close()),r&&(n.onload=function(){try{setTimeout((function(){r.focus();try{r.document.execCommand("print",!1)||r.print()}catch(e){r.print()}r.close()}),10)}catch(e){ar.error(e)}setTimeout((function(){document.body.removeChild(n)}),100)})}(t),!0)}ct({target:"Array",stat:!0,forced:Mf},{from:function(e){var t,n,r,o,i,s,l=dt(e),a="function"==typeof this?this:Array,c=arguments.length,u=c>1?arguments[1]:void 0,d=void 0!==u,p=Jo(l),h=0;if(d&&(u=dr(u,c>2?arguments[2]:void 0,2)),null==p||a==Array&&Wo(p))for(n=new a(t=Le(l.length));t>h;h++)s=d?u(l[h],h):l[h],pt(n,h,s);else for(i=(o=p.call(l)).next,n=new a;!(r=i.call(o)).done;h++)s=d?Ko(o,u,[r.value,h],!0):r.value,pt(n,h,s);return n.length=h,n}});(function(e){Tr(n,o["f"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}Pn(n,[{key:"commands",value:function(){return function(){return function(e,t,n){return Ef(n)}}}},{key:"keys",value:function(){return{"Mod-p":function(e,t,n){return Ef(n)}}}},{key:"menuBtnView",value:function(e){var t=e.commands,n=e.t;return{component:Js,componentProps:{command:t.print,icon:"print",tooltip:n("editor.extensions.Print.tooltip")}}}},{key:"name",get:function(){return"print"}}])})();var Tf,Af=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){var e;return jn(this,n),(e=t.apply(this,arguments)).html="",e.previewDialogVisible=!1,e}return Pn(n,[{key:"onVisibleChange",value:function(e){e&&this.getHtml()}},{key:"togglePreviewDialogVisible",value:function(){this.previewDialogVisible=!this.previewDialogVisible}},{key:"getHtml",value:function(){this.html=this.editorContext.editor.getHTML()}}]),n}();zr([eo({type:Object,required:!0})],Af.prototype,"editorContext",void 0),zr([eo({type:String,default:"80vw"})],Af.prototype,"contentWidth",void 0),zr([Zr()],Af.prototype,"et",void 0),zr([to("previewDialogVisible")],Af.prototype,"onVisibleChange",null);const Nf=Cs({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("command-button",{attrs:{command:e.togglePreviewDialogVisible,"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.Preview.tooltip"),readonly:e.et.isCodeViewMode,icon:"eye"}}),e._v(" "),n("el-dialog",{attrs:{title:e.et.t("editor.extensions.Preview.dialog.title"),visible:e.previewDialogVisible,width:e.contentWidth,"append-to-body":!0},on:{"update:visible":function(t){e.previewDialogVisible=t}}},[n("div",{staticClass:"el-tiptap-editor__content"},[n("div",{domProps:{innerHTML:e._s(e.html)}})])])],1)},staticRenderFns:[]},void 0,Af=zr([Xr({components:(Tf={},Mr(Tf,m.a.name,m.a),Mr(Tf,"CommandButton",Js),Tf)})],Af),void 0,!1,void 0,!1,void 0,void 0,void 0);(function(e){Tr(n,o["f"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}Pn(n,[{key:"menuBtnView",value:function(e){return{component:Nf,componentProps:{editorContext:e,contentWidth:this.options.contentWidth}}}},{key:"name",get:function(){return"preview"}},{key:"defaultOptions",get:function(){return{contentWidth:"80vw"}}}])})(),function(e){Tr(n,o["f"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}Pn(n,[{key:"commands",value:function(){return function(){return bp}}},{key:"menuBtnView",value:function(e){var t=e.commands,n=e.t;return{component:Js,componentProps:{command:t.select_all,icon:"regular/object-group",tooltip:n("editor.extensions.SelectAll.tooltip")}}}},{key:"name",get:function(){return"select_all"}}])}();var Rf=function(e){Tr(n,r["default"]);var t=Ir(n);function n(){return jn(this,n),t.apply(this,arguments)}return Pn(n,[{key:"isCodeViewMode",get:function(){return this.et.isCodeViewMode},set:function(e){this.et.isCodeViewMode=e}}]),n}();zr([Zr()],Rf.prototype,"et",void 0);const If=Cs({render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("command-button",{attrs:{command:function(){return e.isCodeViewMode=!e.isCodeViewMode},"enable-tooltip":e.et.tooltip,tooltip:e.et.t("editor.extensions.CodeView.tooltip"),icon:"regular/file-code","is-active":e.isCodeViewMode}})},staticRenderFns:[]},void 0,Rf=zr([Xr({components:{CommandButton:Js}})],Rf),void 0,!1,void 0,!1,void 0,void 0,void 0);var zf=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;function jf(e){e.extendMode("xml",{newlineAfterToken:function(e,t,n,r){var o=!1;return"html"===this.configuration&&(o=!!r.context&&zf.test(r.context.tagName)),!o&&("tag"===e&&/>$/.test(t)&&r.context||/^</.test(n))}}),e.defineExtension("autoFormatRange",(function(t,n){var r=this,o=r.getMode(),i=r.getRange(t,n).split("\n"),s=e.copyState(o,r.getTokenAt(t).state),l=r.getOption("tabSize"),a="",c=0,u=0===t.ch;function d(){a+="\n",u=!0,++c}for(var p=0;p<i.length;++p){for(var h=new e.StringStream(i[p],l);!h.eol();){var f=e.innerMode(o,s),m=o.token(h,s),g=h.current();h.start=h.pos,u&&!/\S/.test(g)||(a+=g,u=!1),!u&&f.mode.newlineAfterToken&&f.mode.newlineAfterToken(m,g,h.string.slice(h.pos)||i[p+1]||"",f.state)&&d()}!h.pos&&o.blankLine&&o.blankLine(s),!u&&p<i.length-1&&d()}r.operation((function(){r.replaceRange(a,t,n);for(var e=t.line+1,o=t.line+c;e<=o;++e)r.indentLine(e,"smart");r.setSelection(t,r.getCursor(!1))}))}))}var Df={lineNumbers:!0,lineWrapping:!0,tabSize:2,tabMode:"indent",mode:"text/html"};(function(e){Tr(n,o["f"]);var t=Ir(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};jn(this,n),e=t.call(this,r);var o=r.codemirror;return null==o?ar.warn("`CodeView` extension requires the CodeMirror library."):jf(o),e.options={codemirror:o,codemirrorOptions:Object.assign(Object.assign({},e.defaultOptions.codemirrorOptions),r.codemirrorOptions)},e}Pn(n,[{key:"menuBtnView",value:function(){return{component:If}}},{key:"name",get:function(){return"code_view"}},{key:"defaultOptions",get:function(){return{codemirror:null,codemirrorOptions:Object.assign({},Df)}}}])})()}).call(this,n("c8ba"))},"577e":function(e,t,n){var r=n("f5df"),o=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},"5a41":function(e,t,n){},"5dbe":function(e,t,n){(function(){var t;function n(){console.log(o.apply(null,arguments))}function r(e,t){return o.apply(null,[e].concat(t))}function o(e){for(var t,n,r,o,i=1,s=[].slice.call(arguments),l=0,a=e.length,c="",u=!1,d=!1,p=function(){return s[i++]},h=function(){var n="";while(/\d/.test(e[l]))n+=e[l++],t=e[l];return n.length>0?parseInt(n):null};l<a;++l)if(t=e[l],u)switch(u=!1,"."==t?(d=!1,t=e[++l]):"0"==t&&"."==e[l+1]?(d=!0,l+=2,t=e[l]):d=!0,o=h(),t){case"b":c+=parseInt(p(),10).toString(2);break;case"c":n=p(),c+="string"===typeof n||n instanceof String?n:String.fromCharCode(parseInt(n,10));break;case"d":c+=parseInt(p(),10);break;case"f":r=String(parseFloat(p()).toFixed(o||6)),c+=d?r:r.replace(/^0/,"");break;case"j":c+=JSON.stringify(p());break;case"o":c+="0"+parseInt(p(),10).toString(8);break;case"s":c+=p();break;case"x":c+="0x"+parseInt(p(),10).toString(16);break;case"X":c+="0x"+parseInt(p(),10).toString(16).toUpperCase();break;default:c+=t;break}else"%"===t?u=!0:c+=t;return c}t=e.exports=o,t.format=o,t.vsprintf=r,"undefined"!==typeof console&&"function"===typeof console.log&&(t.printf=n)})()},"6ed5":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=78)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,l){var a,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(a=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=a):o&&(a=l?function(){o.call(this,this.$root.$options.shadowRoot)}:o),a)if(c.functional){c._injectStyles=a;var u=c.render;c.render=function(e,t){return a.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,a):[a]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},10:function(e,t){e.exports=n("f3ad")},13:function(e,t){e.exports=n("5128")},14:function(e,t){e.exports=n("eedf")},2:function(e,t){e.exports=n("5924")},20:function(e,t){e.exports=n("4897")},23:function(e,t){e.exports=n("41f8")},47:function(e,t){e.exports=n("722f")},6:function(e,t){e.exports=n("6b7c")},7:function(e,t){e.exports=n("2b0e")},78:function(e,t,n){"use strict";n.r(t);var r=n(7),o=n.n(r),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"msgbox-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-message-box__wrapper",attrs:{tabindex:"-1",role:"dialog","aria-modal":"true","aria-label":e.title||"dialog"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleWrapperClick(t)}}},[n("div",{staticClass:"el-message-box",class:[e.customClass,e.center&&"el-message-box--center"]},[null!==e.title?n("div",{staticClass:"el-message-box__header"},[n("div",{staticClass:"el-message-box__title"},[e.icon&&e.center?n("div",{class:["el-message-box__status",e.icon]}):e._e(),n("span",[e._v(e._s(e.title))])]),e.showClose?n("button",{staticClass:"el-message-box__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){e.handleAction(e.distinguishCancelAndClose?"close":"cancel")},keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleAction(e.distinguishCancelAndClose?"close":"cancel")}}},[n("i",{staticClass:"el-message-box__close el-icon-close"})]):e._e()]):e._e(),n("div",{staticClass:"el-message-box__content"},[n("div",{staticClass:"el-message-box__container"},[e.icon&&!e.center&&""!==e.message?n("div",{class:["el-message-box__status",e.icon]}):e._e(),""!==e.message?n("div",{staticClass:"el-message-box__message"},[e._t("default",[e.dangerouslyUseHTMLString?n("p",{domProps:{innerHTML:e._s(e.message)}}):n("p",[e._v(e._s(e.message))])])],2):e._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showInput,expression:"showInput"}],staticClass:"el-message-box__input"},[n("el-input",{ref:"input",attrs:{type:e.inputType,placeholder:e.inputPlaceholder},nativeOn:{keydown:function(t){return!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputEnter(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}),n("div",{staticClass:"el-message-box__errormsg",style:{visibility:e.editorErrorMessage?"visible":"hidden"}},[e._v(e._s(e.editorErrorMessage))])],1)]),n("div",{staticClass:"el-message-box__btns"},[e.showCancelButton?n("el-button",{class:[e.cancelButtonClasses],attrs:{loading:e.cancelButtonLoading,round:e.roundButton,size:"small"},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleAction("cancel")}},nativeOn:{click:function(t){e.handleAction("cancel")}}},[e._v("\n          "+e._s(e.cancelButtonText||e.t("el.messagebox.cancel"))+"\n        ")]):e._e(),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.showConfirmButton,expression:"showConfirmButton"}],ref:"confirm",class:[e.confirmButtonClasses],attrs:{loading:e.confirmButtonLoading,round:e.roundButton,size:"small"},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleAction("confirm")}},nativeOn:{click:function(t){e.handleAction("confirm")}}},[e._v("\n          "+e._s(e.confirmButtonText||e.t("el.messagebox.confirm"))+"\n        ")])],1)])])])},s=[];i._withStripped=!0;var l=n(13),a=n.n(l),c=n(6),u=n.n(c),d=n(10),p=n.n(d),h=n(14),f=n.n(h),m=n(2),g=n(20),v=n(47),y=n.n(v),b=void 0,w={success:"success",info:"info",warning:"warning",error:"error"},x={mixins:[a.a,u.a],props:{modal:{default:!0},lockScroll:{default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{default:!0},closeOnPressEscape:{default:!0},closeOnHashChange:{default:!0},center:{default:!1,type:Boolean},roundButton:{default:!1,type:Boolean}},components:{ElInput:p.a,ElButton:f.a},computed:{icon:function(){var e=this.type,t=this.iconClass;return t||(e&&w[e]?"el-icon-"+w[e]:"")},confirmButtonClasses:function(){return"el-button--primary "+this.confirmButtonClass},cancelButtonClasses:function(){return""+this.cancelButtonClass}},methods:{getSafeClose:function(){var e=this,t=this.uid;return function(){e.$nextTick((function(){t===e.uid&&e.doClose()}))}},doClose:function(){var e=this;this.visible&&(this.visible=!1,this._closing=!0,this.onClose&&this.onClose(),b.closeDialog(),this.lockScroll&&setTimeout(this.restoreBodyStyle,200),this.opened=!1,this.doAfterClose(),setTimeout((function(){e.action&&e.callback(e.action,e)})))},handleWrapperClick:function(){this.closeOnClickModal&&this.handleAction(this.distinguishCancelAndClose?"close":"cancel")},handleInputEnter:function(){if("textarea"!==this.inputType)return this.handleAction("confirm")},handleAction:function(e){("prompt"!==this.$type||"confirm"!==e||this.validate())&&(this.action=e,"function"===typeof this.beforeClose?(this.close=this.getSafeClose(),this.beforeClose(e,this,this.close)):this.doClose())},validate:function(){if("prompt"===this.$type){var e=this.inputPattern;if(e&&!e.test(this.inputValue||""))return this.editorErrorMessage=this.inputErrorMessage||Object(g["t"])("el.messagebox.error"),Object(m["addClass"])(this.getInputElement(),"invalid"),!1;var t=this.inputValidator;if("function"===typeof t){var n=t(this.inputValue);if(!1===n)return this.editorErrorMessage=this.inputErrorMessage||Object(g["t"])("el.messagebox.error"),Object(m["addClass"])(this.getInputElement(),"invalid"),!1;if("string"===typeof n)return this.editorErrorMessage=n,Object(m["addClass"])(this.getInputElement(),"invalid"),!1}}return this.editorErrorMessage="",Object(m["removeClass"])(this.getInputElement(),"invalid"),!0},getFirstFocus:function(){var e=this.$el.querySelector(".el-message-box__btns .el-button"),t=this.$el.querySelector(".el-message-box__btns .el-message-box__title");return e||t},getInputElement:function(){var e=this.$refs.input.$refs;return e.input||e.textarea},handleClose:function(){this.handleAction("close")}},watch:{inputValue:{immediate:!0,handler:function(e){var t=this;this.$nextTick((function(n){"prompt"===t.$type&&null!==e&&t.validate()}))}},visible:function(e){var t=this;e&&(this.uid++,"alert"!==this.$type&&"confirm"!==this.$type||this.$nextTick((function(){t.$refs.confirm.$el.focus()})),this.focusAfterClosed=document.activeElement,b=new y.a(this.$el,this.focusAfterClosed,this.getFirstFocus())),"prompt"===this.$type&&(e?setTimeout((function(){t.$refs.input&&t.$refs.input.$el&&t.getInputElement().focus()}),500):(this.editorErrorMessage="",Object(m["removeClass"])(this.getInputElement(),"invalid")))}},mounted:function(){var e=this;this.$nextTick((function(){e.closeOnHashChange&&window.addEventListener("hashchange",e.close)}))},beforeDestroy:function(){this.closeOnHashChange&&window.removeEventListener("hashchange",this.close),setTimeout((function(){b.closeDialog()}))},data:function(){return{uid:1,title:void 0,message:"",type:"",iconClass:"",customClass:"",showInput:!1,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,action:"",confirmButtonText:"",cancelButtonText:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonClass:"",confirmButtonDisabled:!1,cancelButtonClass:"",editorErrorMessage:null,callback:null,dangerouslyUseHTMLString:!1,focusAfterClosed:null,isOnComposition:!1,distinguishCancelAndClose:!1}}},k=x,S=n(0),_=Object(S["a"])(k,i,s,!1,null,null,null);_.options.__file="packages/message-box/src/main.vue";var C=_.exports,O=n(9),M=n.n(O),E=n(23),T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A={title:null,message:"",type:"",iconClass:"",showInput:!1,showClose:!0,modalFade:!0,lockScroll:!0,closeOnClickModal:!0,closeOnPressEscape:!0,closeOnHashChange:!0,inputValue:null,inputPlaceholder:"",inputType:"text",inputPattern:null,inputValidator:null,inputErrorMessage:"",showConfirmButton:!0,showCancelButton:!1,confirmButtonPosition:"right",confirmButtonHighlight:!1,cancelButtonHighlight:!1,confirmButtonText:"",cancelButtonText:"",confirmButtonClass:"",cancelButtonClass:"",customClass:"",beforeClose:null,dangerouslyUseHTMLString:!1,center:!1,roundButton:!1,distinguishCancelAndClose:!1},N=o.a.extend(C),R=void 0,I=void 0,z=[],j=function(e){if(R){var t=R.callback;"function"===typeof t&&(I.showInput?t(I.inputValue,e):t(e)),R.resolve&&("confirm"===e?I.showInput?R.resolve({value:I.inputValue,action:e}):R.resolve(e):!R.reject||"cancel"!==e&&"close"!==e||R.reject(e))}},D=function(){I=new N({el:document.createElement("div")}),I.callback=j},P=function e(){if(I||D(),I.action="",(!I.visible||I.closeTimer)&&z.length>0){R=z.shift();var t=R.options;for(var n in t)t.hasOwnProperty(n)&&(I[n]=t[n]);void 0===t.callback&&(I.callback=j);var r=I.callback;I.callback=function(t,n){r(t,n),e()},Object(E["isVNode"])(I.message)?(I.$slots.default=[I.message],I.message=null):delete I.$slots.default,["modal","showClose","closeOnClickModal","closeOnPressEscape","closeOnHashChange"].forEach((function(e){void 0===I[e]&&(I[e]=!0)})),document.body.appendChild(I.$el),o.a.nextTick((function(){I.visible=!0}))}},$=function e(t,n){if(!o.a.prototype.$isServer){if("string"===typeof t||Object(E["isVNode"])(t)?(t={message:t},"string"===typeof arguments[1]&&(t.title=arguments[1])):t.callback&&!n&&(n=t.callback),"undefined"!==typeof Promise)return new Promise((function(r,o){z.push({options:M()({},A,e.defaults,t),callback:n,resolve:r,reject:o}),P()}));z.push({options:M()({},A,e.defaults,t),callback:n}),P()}};$.setDefaults=function(e){$.defaults=e},$.alert=function(e,t,n){return"object"===("undefined"===typeof t?"undefined":T(t))?(n=t,t=""):void 0===t&&(t=""),$(M()({title:t,message:e,$type:"alert",closeOnPressEscape:!1,closeOnClickModal:!1},n))},$.confirm=function(e,t,n){return"object"===("undefined"===typeof t?"undefined":T(t))?(n=t,t=""):void 0===t&&(t=""),$(M()({title:t,message:e,$type:"confirm",showCancelButton:!0},n))},$.prompt=function(e,t,n){return"object"===("undefined"===typeof t?"undefined":T(t))?(n=t,t=""):void 0===t&&(t=""),$(M()({title:t,message:e,showCancelButton:!0,showInput:!0,$type:"prompt"},n))},$.close=function(){I.doClose(),I.visible=!1,z=[],R=null};var F=$;t["default"]=F},9:function(e,t){e.exports=n("7f4d")}})},"6f27":function(e,t,n){"use strict";function r(e){this.content=e}n.r(t),n.d(t,"ContentMatch",(function(){return j})),n.d(t,"DOMParser",(function(){return re})),n.d(t,"DOMSerializer",(function(){return be})),n.d(t,"Fragment",(function(){return l})),n.d(t,"Mark",(function(){return d})),n.d(t,"MarkType",(function(){return ee})),n.d(t,"Node",(function(){return R})),n.d(t,"NodeRange",(function(){return A})),n.d(t,"NodeType",(function(){return Y})),n.d(t,"ReplaceError",(function(){return p})),n.d(t,"ResolvedPos",(function(){return O})),n.d(t,"Schema",(function(){return te})),n.d(t,"Slice",(function(){return h})),r.prototype={constructor:r,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var o=n&&n!=e?this.remove(n):this,i=o.find(e),s=o.content.slice();return-1==i?s.push(n||e,t):(s[i+1]=t,n&&(s[i]=n)),new r(s)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new r(n)},addToStart:function(e,t){return new r([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new r(n)},addBefore:function(e,t,n){var o=this.remove(t),i=o.content.slice(),s=o.find(e);return i.splice(-1==s?i.length:s,0,t,n),new r(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=r.from(e),e.size?new r(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=r.from(e),e.size?new r(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=r.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach((function(t,n){e[t]=n})),e},get size(){return this.content.length>>1}},r.from=function(e){if(e instanceof r)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new r(t)};var o=r;function i(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),s=t.child(r);if(o!=s){if(!o.sameMarkup(s))return n;if(o.isText&&o.text!=s.text){for(let e=0;o.text[e]==s.text[e];e++)n++;return n}if(o.content.size||s.content.size){let e=i(o.content,s.content,n+1);if(null!=e)return e}n+=o.nodeSize}else n+=o.nodeSize}}function s(e,t,n,r){for(let o=e.childCount,i=t.childCount;;){if(0==o||0==i)return o==i?null:{a:n,b:r};let l=e.child(--o),a=t.child(--i),c=l.nodeSize;if(l!=a){if(!l.sameMarkup(a))return{a:n,b:r};if(l.isText&&l.text!=a.text){let e=0,t=Math.min(l.text.length,a.text.length);while(e<t&&l.text[l.text.length-e-1]==a.text[a.text.length-e-1])e++,n--,r--;return{a:n,b:r}}if(l.content.size||a.content.size){let e=s(l.content,a.content,n-1,r-1);if(e)return e}n-=c,r-=c}else n-=c,r-=c}}class l{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,t,n,r=0,o){for(let i=0,s=0;s<t;i++){let l=this.content[i],a=s+l.nodeSize;if(a>e&&!1!==n(l,r+s,o||null,i)&&l.content.size){let o=s+1;l.nodesBetween(Math.max(0,e-o),Math.min(l.content.size,t-o),n,r+o)}s=a}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let o="",i=!0;return this.nodesBetween(e,t,(s,l)=>{s.isText?(o+=s.text.slice(Math.max(e,l)-l,t-l),i=!n):s.isLeaf?(r?o+="function"===typeof r?r(s):r:s.type.spec.leafText&&(o+=s.type.spec.leafText(s)),i=!n):!i&&s.isBlock&&(o+=n,i=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new l(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let o=0,i=0;i<t;o++){let s=this.content[o],l=i+s.nodeSize;l>e&&((i<e||l>t)&&(s=s.isText?s.cut(Math.max(0,e-i),Math.min(s.text.length,t-i)):s.cut(Math.max(0,e-i-1),Math.min(s.content.size,t-i-1))),n.push(s),r+=s.nodeSize),i=l}return new l(n,r)}cutByIndex(e,t){return e==t?l.empty:0==e&&t==this.content.length?this:new l(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new l(r,o)}addToStart(e){return new l([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new l(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return i(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return s(this,e,t,n)}findIndex(e,t=-1){if(0==e)return c(0,e);if(e==this.size)return c(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let o=this.child(n),i=r+o.nodeSize;if(i>=e)return i==e||t>0?c(n+1,i):c(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return l.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new l(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return l.empty;let t,n=0;for(let r=0;r<e.length;r++){let o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new l(t||e,n)}static from(e){if(!e)return l.empty;if(e instanceof l)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new l([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}l.empty=new l([],0);const a={index:0,offset:0};function c(e,t){return a.index=e,a.offset=t,a}function u(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!u(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t)||!u(e[n],t[n]))return!1;for(let n in t)if(!(n in e))return!1}return!0}class d{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&u(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);return n.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return d.none;if(e instanceof d)return[e];let t=e.slice();return t.sort((e,t)=>e.type.rank-t.type.rank),t}}d.none=[];class p extends Error{}class h{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=m(this.content,e+this.openStart,t);return n&&new h(n,this.openStart,this.openEnd)}removeBetween(e,t){return new h(f(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return h.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new h(l.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(let o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)r++;return new h(e,n,r)}}function f(e,t,n){let{index:r,offset:o}=e.findIndex(t),i=e.maybeChild(r),{index:s,offset:l}=e.findIndex(n);if(o==t||i.isText){if(l!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,i.copy(f(i.content,t-o-1,n-o-1)))}function m(e,t,n,r){let{index:o,offset:i}=e.findIndex(t),s=e.maybeChild(o);if(i==t||s.isText)return r&&!r.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));let l=m(s.content,t-i-1,n);return l&&e.replaceChild(o,s.copy(l))}function g(e,t,n){if(n.openStart>e.depth)throw new p("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new p("Inconsistent open depths");return v(e,t,n,0)}function v(e,t,n,r){let o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){let s=v(e,t,n,r+1);return i.copy(i.content.replaceChild(o,s))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:o,end:s}=C(n,e);return k(i,S(e,o,s,t,r))}{let r=e.parent,o=r.content;return k(r,o.cut(0,e.parentOffset).append(n.content).append(o.cut(t.parentOffset)))}}return k(i,_(e,t,r))}function y(e,t){if(!t.type.compatibleContent(e.type))throw new p("Cannot join "+t.type.name+" onto "+e.type.name)}function b(e,t,n){let r=e.node(n);return y(r,t.node(n)),r}function w(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function x(e,t,n,r){let o=(t||e).node(n),i=0,s=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(w(e.nodeAfter,r),i++));for(let l=i;l<s;l++)w(o.child(l),r);t&&t.depth==n&&t.textOffset&&w(t.nodeBefore,r)}function k(e,t){if(!e.type.validContent(t))throw new p("Invalid content for node "+e.type.name);return e.copy(t)}function S(e,t,n,r,o){let i=e.depth>o&&b(e,t,o+1),s=r.depth>o&&b(n,r,o+1),a=[];return x(null,e,o,a),i&&s&&t.index(o)==n.index(o)?(y(i,s),w(k(i,S(e,t,n,r,o+1)),a)):(i&&w(k(i,_(e,t,o+1)),a),x(t,n,o,a),s&&w(k(s,_(n,r,o+1)),a)),x(r,null,o,a),new l(a)}function _(e,t,n){let r=[];if(x(null,e,n,r),e.depth>n){let o=b(e,t,n+1);w(k(o,_(e,t,n+1)),r)}return x(t,null,n,r),new l(r)}function C(e,t){let n=t.depth-e.openStart,r=t.node(n),o=r.copy(e.content);for(let i=n-1;i>=0;i--)o=t.node(i).copy(l.from(o));return{start:o.resolveNoCache(e.openStart+n),end:o.resolveNoCache(o.content.size-e.openEnd-n)}}h.empty=new h(l.empty,0,0);class O{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return e=this.resolveDepth(e),0==e?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let o=0;o<e;o++)r+=n.child(o).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return d.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let o=n.marks;for(var i=0;i<o.length;i++)!1!==o[i].type.spec.inclusive||r&&o[i].isInSet(r.marks)||(o=o[i--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new A(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,o=t;for(let i=e;;){let{index:e,offset:t}=i.content.findIndex(o),s=o-t;if(n.push(i,e,r+t),!s)break;if(i=i.child(e),i.isText)break;o=s-1,r+=t+1}return new O(t,n,o)}static resolveCached(e,t){for(let r=0;r<M.length;r++){let n=M[r];if(n.pos==t&&n.doc==e)return n}let n=M[E]=O.resolve(e,t);return E=(E+1)%T,n}}let M=[],E=0,T=12;class A{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const N=Object.create(null);class R{constructor(e,t,n,r=d.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||l.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&u(this.attrs,t||e.defaultAttrs||N)&&d.sameSet(this.marks,n||d.none)}copy(e=null){return e==this.content?this:new R(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new R(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return h.empty;let r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),s=r.start(i),l=r.node(i),a=l.content.cut(r.pos-s,o.pos-s);return new h(a,r.depth-i,o.depth-i)}replace(e,t,n){return g(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(t=t.maybeChild(n),!t)return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return O.resolveCached(this,e)}resolveNoCache(e){return O.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,e=>(n.isInSet(e.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),z(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=l.empty,r=0,o=n.childCount){let i=this.contentMatchAt(e).matchFragment(n,r,o),s=i&&i.matchFragment(this.content,t);if(!s||!s.validEnd)return!1;for(let l=r;l<o;l++)if(!this.type.allowsMarks(n.child(l).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let e=d.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!d.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(e=>e.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=l.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)}}R.prototype.text=void 0;class I extends R{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):z(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new I(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new I(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function z(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class j{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new D(e,t);if(null==n.next)return j.empty;let r=P(n);n.next&&n.err("Unexpected trailing text");let o=J(H(r));return K(o,n),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];function o(i,s){let a=i.matchFragment(e,n);if(a&&(!t||a.validEnd))return l.from(s.map(e=>e.createAndFill()));for(let e=0;e<i.next.length;e++){let{type:t,next:n}=i.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=o(n,s.concat(t));if(e)return e}}return null}return o(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];while(n.length){let r=n.shift(),o=r.match;if(o.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<o.next.length;e++){let{type:i,next:s}=o.next[e];i.isLeaf||i.hasRequiredAttrs()||i.name in t||r.type&&!s.validEnd||(n.push({match:i.contentMatch,type:i,via:r}),t[i.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}return t(this),e.map((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let o=0;o<t.next.length;o++)r+=(o?", ":"")+t.next[o].type.name+"->"+e.indexOf(t.next[o].next);return r}).join("\n")}}j.empty=new j(!0);class D{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function P(e){let t=[];do{t.push($(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function $(e){let t=[];do{t.push(F(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function F(e){let t=q(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=L(e,t)}return t}function B(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function L(e,t){let n=B(e),r=n;return e.eat(",")&&(r="}"!=e.next?B(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function V(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let i in n){let e=n[i];e.groups.indexOf(t)>-1&&o.push(e)}return 0==o.length&&e.err("No node type or group '"+t+"' found"),o}function q(e){if(e.eat("(")){let t=P(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=V(e,e.next).map(t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}function H(e){let t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach(e=>e.to=t)}function i(e,t){if("choice"==e.type)return e.exprs.reduce((e,n)=>e.concat(i(n,t)),[]);if("seq"!=e.type){if("star"==e.type){let s=n();return r(t,s),o(i(e.expr,s),s),[r(s)]}if("plus"==e.type){let s=n();return o(i(e.expr,t),s),o(i(e.expr,s),s),[r(s)]}if("opt"==e.type)return[r(t)].concat(i(e.expr,t));if("range"==e.type){let s=t;for(let t=0;t<e.min;t++){let t=n();o(i(e.expr,s),t),s=t}if(-1==e.max)o(i(e.expr,s),s);else for(let t=e.min;t<e.max;t++){let t=n();r(s,t),o(i(e.expr,s),t),s=t}return[r(s)]}if("name"==e.type)return[r(t,void 0,e.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let s=i(e.exprs[r],t);if(r==e.exprs.length-1)return s;o(s,t=n())}}}function W(e,t){return t-e}function U(e,t){let n=[];return r(t),n.sort(W);function r(t){let o=e[t];if(1==o.length&&!o[0].term)return r(o[0].to);n.push(t);for(let e=0;e<o.length;e++){let{term:t,to:i}=o[e];t||-1!=n.indexOf(i)||r(i)}}}function J(e){let t=Object.create(null);return n(U(e,0));function n(r){let o=[];r.forEach(t=>{e[t].forEach(({term:t,to:n})=>{if(!t)return;let r;for(let e=0;e<o.length;e++)o[e][0]==t&&(r=o[e][1]);U(e,n).forEach(e=>{r||o.push([t,r=[]]),-1==r.indexOf(e)&&r.push(e)})})});let i=t[r.join(",")]=new j(r.indexOf(e.length-1)>-1);for(let e=0;e<o.length;e++){let r=o[e][1].sort(W);i.next.push({type:o[e][0],next:t[r.join(",")]||n(r)})}return i}}function K(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],o=!e.validEnd,i=[];for(let t=0;t<e.next.length;t++){let{type:n,next:s}=e.next[t];i.push(n.name),!o||n.isText||n.hasRequiredAttrs()||(o=!1),-1==r.indexOf(s)&&r.push(s)}o&&t.err("Only non-generatable nodes ("+i.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function G(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function X(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(void 0===o){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=t.default}n[r]=o}return n}function Z(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new Q(e[n]);return t}class Y{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=Z(n.attrs),this.defaultAttrs=G(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==j.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:X(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new R(this,this.computeAttrs(e),l.from(t),d.setFrom(n))}createChecked(e=null,t,n){if(t=l.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new R(this,this.computeAttrs(e),t,d.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),t=l.from(t),t.size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),o=r&&r.fillBefore(l.empty,!0);return o?new R(this,e,t.append(o),d.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:d.none:e}static compile(e,t){let n=Object.create(null);e.forEach((e,r)=>n[e]=new Y(e,t,r));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class Q{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class ee{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=Z(r.attrs),this.excluded=null;let o=G(this.attrs);this.instance=o?new d(this,o):null}create(e=null){return!e&&this.instance?this.instance:new d(this,X(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach((e,o)=>n[e]=new ee(e,r++,t,o)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class te{constructor(e){this.cached=Object.create(null),this.spec={nodes:o.from(e.nodes),marks:o.from(e.marks||{}),topNode:e.topNode},this.nodes=Y.compile(this.spec.nodes,this),this.marks=ee.compile(this.spec.marks,this);let t=Object.create(null);for(let n in this.nodes){if(n in this.marks)throw new RangeError(n+" can not be both a node and a mark");let e=this.nodes[n],r=e.spec.content||"",o=e.spec.marks;e.contentMatch=t[r]||(t[r]=j.parse(r,this.nodes)),e.inlineContent=e.contentMatch.inlineContent,e.markSet="_"==o?null:o?ne(this,o.split(" ")):""!=o&&e.inlineContent?null:[]}for(let n in this.marks){let e=this.marks[n],t=e.spec.excludes;e.excluded=null==t?[e]:""==t?[]:ne(this,t.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof Y))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new I(n,n.defaultAttrs,e,d.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return R.fromJSON(this,e)}markFromJSON(e){return d.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function ne(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],i=e.marks[o],s=i;if(i)n.push(i);else for(let t in e.marks){let r=e.marks[t];("_"==o||r.spec.group&&r.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=r)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class re{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach(e=>{e.tag?this.tags.push(e):e.style&&this.styles.push(e)}),this.normalizeLists=!this.tags.some(t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)})}parse(e,t={}){let n=new pe(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new pe(this,t,!0);return n.addAll(e,t.from,t.to),h.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(fe(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let r=this.styles[o],i=r.style;if(!(0!=i.indexOf(e)||r.context&&!n.matchesContext(r.context)||i.length>e.length&&(61!=i.charCodeAt(e.length)||i.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r],o=null==e.priority?50:e.priority;if(o<n)break}t.splice(r,0,e)}for(let r in e.marks){let t=e.marks[r].spec.parseDOM;t&&t.forEach(e=>{n(e=ge(e)),e.mark=r})}for(let r in e.nodes){let t=e.nodes[r].spec.parseDOM;t&&t.forEach(e=>{n(e=ge(e)),e.node=r})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new re(e,re.schemaRules(e)))}}const oe={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ie={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},se={ol:!0,ul:!0},le=1,ae=2,ce=4;function ue(e,t,n){return null!=t?(t?le:0)|("full"===t?ae:0):e&&"pre"==e.whitespace?le|ae:n&~ce}class de{constructor(e,t,n,r,o,i,s){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=r,this.solid=o,this.options=s,this.content=[],this.activeMarks=d.none,this.stashMarks=[],this.match=i||(s&ce?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(l.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&le)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=l.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(l.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,n=this.pendingMarks;t<n.length;t++){let r=n[t];(this.type?this.type.allowsMarkType(r.type):ve(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!oe.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class pe{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let r,o=t.topNode,i=ue(null,t.preserveWhitespace,0)|(n?ce:0);r=o?new de(o.type,o.attrs,d.none,d.none,!0,t.topMatch||o.type.contentMatch,i):new de(n?null:e.schema.topNodeType,null,d.none,d.none,!0,null,i),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){let t=e.getAttribute("style"),n=t?this.readStyles(me(t)):null,r=this.top;if(null!=n)for(let e=0;e<n.length;e++)this.addPendingMark(n[e]);if(this.addElement(e),null!=n)for(let e=0;e<n.length;e++)this.removePendingMark(n[e],r)}}addTextNode(e){let t=e.nodeValue,n=this.top;if(n.options&ae||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(n.options&le)t=n.options&ae?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let r=n.content[n.content.length-1],o=e.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let n,r=e.nodeName.toLowerCase();se.hasOwnProperty(r)&&this.parser.normalizeLists&&he(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(o?o.ignore:ie.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let t,n=this.top,i=this.needsBlock;if(oe.hasOwnProperty(r))t=!0,n.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),t&&this.sync(n),this.needsBlock=i}else this.addElementByRule(e,o,!1===o.consuming?n:void 0)}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=d.none;e:for(let n=0;n<e.length;n+=2)for(let r=void 0;;){let o=this.parser.matchStyle(e[n],e[n+1],this,r);if(!o)continue e;if(o.ignore)return null;if(t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),!1!==o.consuming)break;r=o}return t}addElementByRule(e,t,n){let r,o,i;if(t.node)o=this.parser.schema.nodes[t.node],o.isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):r=this.enter(o,t.attrs||null,t.preserveWhitespace);else{let e=this.parser.schema.marks[t.mark];i=e.create(t.attrs),this.addPendingMark(i)}let s=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(e=>this.insertNode(e));else{let n=e;"string"==typeof t.contentElement?n=e.querySelector(t.contentElement):"function"==typeof t.contentElement?n=t.contentElement(e):t.contentElement&&(n=t.contentElement),this.findAround(e,n,!0),this.addAll(n)}r&&this.sync(s)&&this.open--,i&&this.removePendingMark(i,s)}addAll(e,t,n){let r=t||0;for(let o=t?e.childNodes[t]:e.firstChild,i=null==n?null:e.childNodes[n];o!=i;o=o.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(o);this.findAtPoint(e,r)}findPlace(e){let t,n;for(let r=this.open;r>=0;r--){let o=this.nodes[r],i=o.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=o,!i.length))break;if(o.solid)break}if(!t)return!1;this.sync(n);for(let r=0;r<t.length;r++)this.enterInner(t[r],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let n=t.activeMarks;for(let r=0;r<e.marks.length;r++)t.type&&!t.type.allowsMarkType(e.marks[r].type)||(n=e.marks[r].addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n){let r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r}enterInner(e,t=null,n=!1,r){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let i=ue(e,r,o.options);o.options&ce&&0==o.content.length&&(i|=ce),this.nodes.push(new de(e,t,o.activeMarks,o.pendingMarks,n,null,i)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)){let e=t.compareDocumentPosition(this.find[r].node);e&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),o=-(n?n.depth+1:0)+(r?0:1),i=(e,s)=>{for(;e>=0;e--){let l=t[e];if(""==l){if(e==t.length-1||0==e)continue;for(;s>=o;s--)if(i(e-1,s))return!0;return!1}{let e=s>0||0==s&&r?this.nodes[s].type:n&&s>=o?n.node(s-o).type:null;if(!e||e.name!=l&&-1==e.groups.indexOf(l))return!1;s--}}return!0};return i(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}addPendingMark(e){let t=ye(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let n=this.open;n>=0;n--){let r=this.nodes[n],o=r.pendingMarks.lastIndexOf(e);if(o>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);let t=r.popFromStashMark(e);t&&r.type&&r.type.allowsMarkType(t.type)&&(r.activeMarks=t.addToSet(r.activeMarks))}if(r==t)break}}}function he(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&se.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}function fe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function me(e){let t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];while(t=n.exec(e))r.push(t[1],t[2].trim());return r}function ge(e){let t={};for(let n in e)t[n]=e[n];return t}function ve(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let i=[],s=e=>{i.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:o}=e.edge(n);if(r==t)return!0;if(i.indexOf(o)<0&&s(o))return!0}};if(s(o.contentMatch))return!0}}function ye(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}class be{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=xe(t).createDocumentFragment());let r=n,o=[];return e.forEach(e=>{if(o.length||e.marks.length){let n=0,i=0;while(n<o.length&&i<e.marks.length){let t=e.marks[i];if(this.marks[t.type.name]){if(!t.eq(o[n][0])||!1===t.type.spec.spanning)break;n++,i++}else i++}while(n<o.length)r=o.pop()[1];while(i<e.marks.length){let n=e.marks[i++],s=this.serializeMark(n,e.isInline,t);s&&(o.push([n,r]),r.appendChild(s.dom),r=s.contentDOM||s.dom)}}r.appendChild(this.serializeNodeInner(e,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=be.renderSpec(xe(t),this.nodes[e.type.name](e));if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&be.renderSpec(xe(n),r(e,t))}static renderSpec(e,t,n=null){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let r,o=t[0],i=o.indexOf(" ");i>0&&(n=o.slice(0,i),o=o.slice(i+1));let s=n?e.createElementNS(n,o):e.createElement(o),l=t[1],a=1;if(l&&"object"==typeof l&&null==l.nodeType&&!Array.isArray(l)){a=2;for(let e in l)if(null!=l[e]){let t=e.indexOf(" ");t>0?s.setAttributeNS(e.slice(0,t),e.slice(t+1),l[e]):s.setAttribute(e,l[e])}}for(let c=a;c<t.length;c++){let o=t[c];if(0===o){if(c<t.length-1||c>a)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}{let{dom:t,contentDOM:i}=be.renderSpec(e,o,n);if(s.appendChild(t),i){if(r)throw new RangeError("Multiple content holes");r=i}}}return{dom:s,contentDOM:r}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new be(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=we(e.nodes);return t.text||(t.text=e=>e.text),t}static marksFromSchema(e){return we(e.marks)}}function we(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function xe(e){return e.document||window.document}},"6ffb":function(e,t,n){"use strict";n.r(t),n.d(t,"AllSelection",(function(){return f})),n.d(t,"EditorState",(function(){return O})),n.d(t,"NodeSelection",(function(){return p})),n.d(t,"Plugin",(function(){return E})),n.d(t,"PluginKey",(function(){return N})),n.d(t,"Selection",(function(){return s})),n.d(t,"SelectionRange",(function(){return l})),n.d(t,"TextSelection",(function(){return u})),n.d(t,"Transaction",(function(){return x}));var r=n("6f27"),o=n("b923");const i=Object.create(null);class s{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new l(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=r["Slice"].empty){let n=t.content.lastChild,o=null;for(let r=0;r<t.openEnd;r++)o=n,n=n.lastChild;let i=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:a,$to:c}=s[l],u=e.mapping.slice(i);e.replaceRange(u.map(a.pos),u.map(c.pos),l?r["Slice"].empty:t),0==l&&v(e,i,(n?n.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:i,$to:s}=r[o],l=e.mapping.slice(n),a=l.map(i.pos),c=l.map(s.pos);o?e.deleteRange(a,c):(e.replaceRangeWith(a,c,t),v(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new u(e):g(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let o=e.depth-1;o>=0;o--){let r=t<0?g(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):g(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(r)return r}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new f(e.node(0))}static atStart(e){return g(e,e,0,0,1)||new f(e)}static atEnd(e){return g(e,e,e.content.size,e.childCount,-1)||new f(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=i[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in i)throw new RangeError("Duplicate use of selection JSON ID "+e);return i[e]=t,t.prototype.jsonID=e,t}getBookmark(){return u.between(this.$anchor,this.$head).getBookmark()}}s.prototype.visible=!0;class l{constructor(e,t){this.$from=e,this.$to=t}}let a=!1;function c(e){a||e.parent.inlineContent||(a=!0,console["warn"]("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class u extends s{constructor(e,t=e){c(e),c(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return s.near(n);let r=e.resolve(t.map(this.anchor));return new u(r.parent.inlineContent?r:n,n)}replace(e,t=r["Slice"].empty){if(super.replace(e,t),t==r["Slice"].empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof u&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new d(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new u(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=s.findFrom(t,n,!0)||s.findFrom(t,-n,!0);if(!e)return s.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r?e=t:(e=(s.findFrom(e,-n,!0)||s.findFrom(e,n,!0)).$anchor,e.pos<t.pos!=r<0&&(e=t))),new u(e,t)}}s.jsonID("text",u);class d{constructor(e,t){this.anchor=e,this.head=t}map(e){return new d(e.map(this.anchor),e.map(this.head))}resolve(e){return u.between(e.resolve(this.anchor),e.resolve(this.head))}}class p extends s{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),o=e.resolve(r);return n?s.near(o):new p(o)}content(){return new r["Slice"](r["Fragment"].from(this.node),0,0)}eq(e){return e instanceof p&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new h(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new p(e.resolve(t.anchor))}static create(e,t){return new p(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}p.prototype.visible=!1,s.jsonID("node",p);class h{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new d(n,n):new h(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&p.isSelectable(n)?new p(t):s.near(t)}}class f extends s{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=r["Slice"].empty){if(t==r["Slice"].empty){e.delete(0,e.doc.content.size);let t=s.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new f(e)}map(e){return new f(e)}eq(e){return e instanceof f}getBookmark(){return m}}s.jsonID("all",f);const m={map(){return this},resolve(e){return new f(e)}};function g(e,t,n,r,o,i=!1){if(t.inlineContent)return u.create(e,n);for(let s=r-(o>0?0:1);o>0?s<t.childCount:s>=0;s+=o){let r=t.child(s);if(r.isAtom){if(!i&&p.isSelectable(r))return p.create(e,n-(o<0?r.nodeSize:0))}else{let t=g(e,r,n+o,o<0?r.childCount:0,o,i);if(t)return t}n+=r.nodeSize*o}return null}function v(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof o["c"]||i instanceof o["b"]))return;let l,a=e.mapping.maps[r];a.forEach((e,t,n,r)=>{null==l&&(l=r)}),e.setSelection(s.near(e.doc.resolve(l),n))}const y=1,b=2,w=4;class x extends o["e"]{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|y)&~b,this.storedMarks=null,this}get selectionSet(){return(this.updated&y)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=b,this}ensureMarks(e){return r["Mark"].sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&b)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~b,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r["Mark"].none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);let o=this.storedMarks;if(!o){let e=this.doc.resolve(t);o=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(s.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=w,this}get scrolledIntoView(){return(this.updated&w)>0}}function k(e,t){return t&&e?e.bind(t):e}class S{constructor(e,t,n){this.name=e,this.init=k(t.init,n),this.apply=k(t.apply,n)}}const _=[new S("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new S("selection",{init(e,t){return e.selection||s.atStart(t.doc)},apply(e){return e.selection}}),new S("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new S("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class C{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=_.slice(),t&&t.forEach(e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new S(e.key,e.spec.state,e))})}}class O{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let o=!1;for(let i=0;i<this.config.plugins.length;i++){let s=this.config.plugins[i];if(s.spec.appendTransaction){let l=r?r[i].n:0,a=r?r[i].state:this,c=l<t.length&&s.spec.appendTransaction.call(s,l?t.slice(l):t,a,n);if(c&&n.filterTransaction(c,i)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<i?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new O(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new x(this)}static create(e){let t=new C(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new O(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new C(this.schema,e.plugins),n=t.fields,r=new O(t);for(let o=0;o<n.length;o++){let t=n[o].name;r[t]=this.hasOwnProperty(t)?this[t]:n[o].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(e=>e.toJSON())),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new C(e.schema,e.plugins),i=new O(o);return o.fields.forEach(o=>{if("doc"==o.name)i.doc=r["Node"].fromJSON(e.schema,t.doc);else if("selection"==o.name)i.selection=s.fromJSON(i.doc,t.selection);else if("storedMarks"==o.name)t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let r in n){let s=n[r],l=s.spec.state;if(s.key==o.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(t,r))return void(i[o.name]=l.fromJSON.call(s,e,t[r],i))}i[o.name]=o.init(e,i)}}),i}}function M(e,t,n){for(let r in e){let o=e[r];o instanceof Function?o=o.bind(t):"handleDOMEvents"==r&&(o=M(o,t,{})),n[r]=o}return n}class E{constructor(e){this.spec=e,this.props={},e.props&&M(e.props,this,this.props),this.key=e.key?e.key.key:A("plugin")}getState(e){return e[this.key]}}const T=Object.create(null);function A(e){return e in T?e+"$"+ ++T[e]:(T[e]=0,e+"$")}class N{constructor(e="key"){this.key=A(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}},"703f":function(e,t,n){"use strict";n.d(t,"a",(function(){return Sn})),n.d(t,"b",(function(){return On})),n.d(t,"c",(function(){return tr}));var r=n("6ffb"),o=n("6f27"),i=n("b923");const s=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},l=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let a=null;const c=function(e,t,n){let r=a||(a=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},u=function(e,t,n,r){return n&&(p(e,t,n,r,-1)||p(e,t,n,r,1))},d=/^(img|br|input|textarea|hr)$/i;function p(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:h(e))){let n=e.parentNode;if(!n||1!=n.nodeType||m(e)||d.test(e.nodeName)||"false"==e.contentEditable)return!1;t=s(e)+(o<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if(e=e.childNodes[t+(o<0?-1:0)],"false"==e.contentEditable)return!1;t=o<0?h(e):0}}}function h(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function f(e,t,n){for(let r=0==t,o=t==h(e);r||o;){if(e==n)return!0;let t=s(e);if(e=e.parentNode,!e)return!1;r=r&&0==t,o=o&&t==h(e)}}function m(e){let t;for(let n=e;n;n=n.parentNode)if(t=n.pmViewDesc)break;return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const g=function(e){return e.focusNode&&u(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function v(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function y(e){let t=e.activeElement;while(t&&t.shadowRoot)t=t.shadowRoot.activeElement;return t}const b="undefined"!=typeof navigator?navigator:null,w="undefined"!=typeof document?document:null,x=b&&b.userAgent||"",k=/Edge\/(\d+)/.exec(x),S=/MSIE \d/.exec(x),_=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(x),C=!!(S||_||k),O=S?document.documentMode:_?+_[1]:k?+k[1]:0,M=!C&&/gecko\/(\d+)/i.test(x);M&&(/Firefox\/(\d+)/.exec(x)||[0,0])[1];const E=!C&&/Chrome\/(\d+)/.exec(x),T=!!E,A=E?+E[1]:0,N=!C&&!!b&&/Apple Computer/.test(b.vendor),R=N&&(/Mobile\/\w+/.test(x)||!!b&&b.maxTouchPoints>2),I=R||!!b&&/Mac/.test(b.platform),z=/Android \d/.test(x),j=!!w&&"webkitFontSmoothing"in w.documentElement.style,D=j?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function P(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function $(e,t){return"number"==typeof e?e:e[t]}function F(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function B(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument;for(let s=n||e.dom;;s=l(s)){if(!s)break;if(1!=s.nodeType)continue;let e=s,n=e==i.body,l=n?P(i):F(e),a=0,c=0;if(t.top<l.top+$(r,"top")?c=-(l.top-t.top+$(o,"top")):t.bottom>l.bottom-$(r,"bottom")&&(c=t.bottom-l.bottom+$(o,"bottom")),t.left<l.left+$(r,"left")?a=-(l.left-t.left+$(o,"left")):t.right>l.right-$(r,"right")&&(a=t.right-l.right+$(o,"right")),a||c)if(n)i.defaultView.scrollBy(a,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),a&&(e.scrollLeft+=a);let o=e.scrollLeft-n,i=e.scrollTop-r;t={left:t.left-o,top:t.top-i,right:t.right-o,bottom:t.bottom-i}}if(n)break}}function L(e){let t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top);for(let i=(r.left+r.right)/2,s=o+1;s<Math.min(innerHeight,r.bottom);s+=5){let r=e.root.elementFromPoint(i,s);if(!r||r==e.dom||!e.dom.contains(r))continue;let l=r.getBoundingClientRect();if(l.top>=o-20){t=r,n=l.top;break}}return{refDOM:t,refTop:n,stack:V(e.dom)}}function V(e){let t=[],n=e.ownerDocument;for(let r=e;r;r=l(r))if(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e==n)break;return t}function q({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;H(n,0==r?0:r-t)}function H(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:i}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=i&&(r.scrollLeft=i)}}let W=null;function U(e){if(e.setActive)return e.setActive();if(W)return e.focus(W);let t=V(e);e.focus(null==W?{get preventScroll(){return W={preventScroll:!0},!0}}:void 0),W||(W=!1,H(t,0))}function J(e,t){let n,r,o=2e8,i=0,s=t.top,l=t.top;for(let a=e.firstChild,u=0;a;a=a.nextSibling,u++){let e;if(1==a.nodeType)e=a.getClientRects();else{if(3!=a.nodeType)continue;e=c(a).getClientRects()}for(let c=0;c<e.length;c++){let d=e[c];if(d.top<=s&&d.bottom>=l){s=Math.max(d.bottom,s),l=Math.min(d.top,l);let e=d.left>t.left?d.left-t.left:d.right<t.left?t.left-d.right:0;if(e<o){n=a,o=e,r=e&&3==n.nodeType?{left:d.right<t.left?d.right:d.left,top:t.top}:t,1==a.nodeType&&e&&(i=u+(t.left>=(d.left+d.right)/2?1:0));continue}}!n&&(t.left>=d.right&&t.top>=d.top||t.left>=d.left&&t.top>=d.bottom)&&(i=u+1)}}return n&&3==n.nodeType?K(n,r):!n||o&&1==n.nodeType?{node:e,offset:i}:J(n,r)}function K(e,t){let n=e.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);let n=te(r,1);if(n.top!=n.bottom&&G(t,n))return{node:e,offset:o+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}function G(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function X(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function Z(e,t,n){let{node:r,offset:o}=J(t,n),i=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();i=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,o,i)}function Y(e,t,n,r){let o=-1;for(let i=t;;){if(i==e.dom)break;let t=e.docView.nearestDesc(i,!0);if(!t)return null;if(t.node.isBlock&&t.parent){let e=t.dom.getBoundingClientRect();if(e.left>r.left||e.top>r.top)o=t.posBefore;else{if(!(e.right<r.left||e.bottom<r.top))break;o=t.posAfter}}i=t.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,1)}function Q(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){let n=e.childNodes[i];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let o=e[r];if(G(t,o))return Q(n,t,o)}}if((i=(i+1)%r)==o)break}return e}function ee(e,t){let n,r=e.dom.ownerDocument,o=0;if(r.caretPositionFromPoint)try{let e=r.caretPositionFromPoint(t.left,t.top);e&&({offsetNode:n,offset:o}=e)}catch(c){}if(!n&&r.caretRangeFromPoint){let e=r.caretRangeFromPoint(t.left,t.top);e&&({startContainer:n,startOffset:o}=e)}let i,s=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!s||!e.dom.contains(1!=s.nodeType?s.parentNode:s)){let n=e.dom.getBoundingClientRect();if(!G(t,n))return null;if(s=Q(e.dom,t,n),!s)return null}if(N)for(let u=s;n&&u;u=l(u))u.draggable&&(n=void 0);if(s=X(s,t),n){if(M&&1==n.nodeType&&(o=Math.min(o,n.childNodes.length),o<n.childNodes.length)){let e,r=n.childNodes[o];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&o++}n==e.dom&&o==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?i=e.state.doc.content.size:0!=o&&1==n.nodeType&&"BR"==n.childNodes[o-1].nodeName||(i=Y(e,n,o,t))}null==i&&(i=Z(e,s,t));let a=e.docView.nearestDesc(s,!0);return{pos:i,inside:a?a.posAtStart-a.border:-1}}function te(e,t){let n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}const ne=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function re(e,t,n){let{node:r,offset:o,atom:i}=e.docView.domFromPos(t,n<0?-1:1),s=j||M;if(3==r.nodeType){if(!s||!ne.test(r.nodeValue)&&(n<0?o:o!=r.nodeValue.length)){let e=o,t=o,i=n<0?1:-1;return n<0&&!o?(t++,i=-1):n>=0&&o==r.nodeValue.length?(e--,i=1):n<0?e--:t++,oe(te(c(r,e,t),1),i<0)}{let e=te(c(r,o,o),n);if(M&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let t=te(c(r,o-1,o-1),-1);if(t.top==e.top){let n=te(c(r,o,o+1),-1);if(n.top!=e.top)return oe(n,n.left<t.left)}}return e}}let l=e.state.doc.resolve(t-(i||0));if(!l.parent.inlineContent){if(null==i&&o&&(n<0||o==h(r))){let e=r.childNodes[o-1];if(1==e.nodeType)return ie(e.getBoundingClientRect(),!1)}if(null==i&&o<h(r)){let e=r.childNodes[o];if(1==e.nodeType)return ie(e.getBoundingClientRect(),!0)}return ie(r.getBoundingClientRect(),n>=0)}if(null==i&&o&&(n<0||o==h(r))){let e=r.childNodes[o-1],t=3==e.nodeType?c(e,h(e)-(s?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return oe(te(t,1),!1)}if(null==i&&o<h(r)){let e=r.childNodes[o];while(e.pmViewDesc&&e.pmViewDesc.ignoreForCoords)e=e.nextSibling;let t=e?3==e.nodeType?c(e,0,s?0:1):1==e.nodeType?e:null:null;if(t)return oe(te(t,-1),!0)}return oe(te(3==r.nodeType?c(r):r,-n),n>=0)}function oe(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function ie(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function se(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}function le(e,t,n){let r=t.selection,o="up"==n?r.$from:r.$to;return se(e,t,()=>{let{node:t}=e.docView.domFromPos(o.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.dom;break}t=n.dom.parentNode}let r=re(e,o.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=c(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let o=t[e];if(o.bottom>o.top+1&&("up"==n?r.top-o.top>2*(o.bottom-r.top):o.bottom-r.bottom>2*(r.bottom-o.top)))return!1}}return!0})}const ae=/[\u0590-\u08ac]/;function ce(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,i=!o,s=o==r.parent.content.size,l=e.domSelection();return ae.test(r.parent.textContent)&&l.modify?se(e,t,()=>{let{focusNode:t,focusOffset:o,anchorNode:i,anchorOffset:s}=e.domSelectionRange(),a=l.caretBidiLevel;l.modify("move",n,"character");let c=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:u,focusOffset:d}=e.domSelectionRange(),p=u&&!c.contains(1==u.nodeType?u:u.parentNode)||t==u&&o==d;try{l.collapse(i,s),t&&(t!=i||o!=s)&&l.extend&&l.extend(t,o)}catch(h){}return null!=a&&(l.caretBidiLevel=a),p}):"left"==n||"backward"==n?i:s}let ue=null,de=null,pe=!1;function he(e,t,n){return ue==t&&de==n?pe:(ue=t,de=n,pe="up"==n||"down"==n?le(e,t,n):ce(e,t,n))}const fe=0,me=1,ge=2,ve=3;class ye{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=fe,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{while(e.parentNode!=this.contentDOM)e=e.parentNode;n=e.previousSibling}while(n&&(!(r=n.pmViewDesc)||r.parent!=this))n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{while(e.parentNode!=this.contentDOM)e=e.parentNode;n=e.nextSibling}while(n&&(!(r=n.pmViewDesc)||r.parent!=this))n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>s(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let o,i=this.getDesc(r);if(i&&(!t||i.node)){if(!n||!(o=i.nodeDOM)||(1==o.nodeType?o.contains(1==e.nodeType?e:e.parentNode):o==e))return i;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let n=t;n;n=n.parent)if(n==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],o=n+r.size;if(n==e&&o!=n){while(!r.border&&r.children.length)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n,r=0,o=0;for(let i=0;r<this.children.length;r++){let t=this.children[r],n=i+t.size;if(n>e||t instanceof Ce){o=e-i;break}i=n}if(o)return this.children[r].domFromPos(o-this.children[r].border,t);for(;r&&!(n=this.children[r-1]).size&&n instanceof be&&n.side>=0;r--);if(t<=0){let e,n=!0;for(;;r--,n=!1)if(e=r?this.children[r-1]:null,!e||e.dom.parentNode==this.contentDOM)break;return e&&t&&n&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?s(e.dom)+1:0}}{let e,n=!0;for(;;r++,n=!1)if(e=r<this.children.length?this.children[r]:null,!e||e.dom.parentNode==this.contentDOM)break;return e&&n&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?s(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let i=n,l=0;;l++){let n=this.children[l],a=i+n.size;if(-1==r&&e<=a){let o=i+n.border;if(e>=o&&t<=a-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,o);e=i;for(let t=l;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=s(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(a>t||l==this.children.length-1)){t=a;for(let e=l+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){o=s(n.dom);break}t+=n.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=a}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let o=Math.min(e,t),i=Math.max(e,t);for(let s=0,u=0;s<this.children.length;s++){let l=this.children[s],a=u+l.size;if(o>u&&i<a)return l.setSelection(e-u-l.border,t-u-l.border,n,r);u=a}let l=this.domFromPos(e,e?-1:1),a=t==e?l:this.domFromPos(t,t?-1:1),c=n.getSelection(),d=!1;if((M||N)&&e==t){let{node:e,offset:t}=l;if(3==e.nodeType){if(d=!(!t||"\n"!=e.nodeValue[t-1]),d&&t==e.nodeValue.length)for(let n,r=e;r;r=r.parentNode){if(n=r.nextSibling){"BR"==n.nodeName&&(l=a={node:n.parentNode,offset:s(n)+1});break}let e=r.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];d=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(M&&c.focusNode&&c.focusNode!=a.node&&1==c.focusNode.nodeType){let e=c.focusNode.childNodes[c.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||d&&N)&&u(l.node,l.offset,c.anchorNode,c.anchorOffset)&&u(a.node,a.offset,c.focusNode,c.focusOffset))return;let p=!1;if((c.extend||e==t)&&!d){c.collapse(l.node,l.offset);try{e!=t&&c.extend(a.node,a.offset),p=!0}catch(h){}}if(!p){if(e>t){let e=l;l=a,a=e}let n=document.createRange();n.setEnd(a.node,a.offset),n.setStart(l.node,l.offset),c.removeAllRanges(),c.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){let r=n+o.border,s=i-o.border;if(e>=r&&t<=s)return this.dirty=e==n||t==i?ge:me,void(e!=r||t!=s||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-r,t-r):o.dirty=ve);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?ve:ge}n=i}this.dirty=ge}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?ge:me;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class be extends ye{constructor(e,t,n,r){let o,i=t.type.toDOM;if("function"==typeof i&&(i=i(n,()=>o?o.parent?o.parent.posBeforeChild(o):void 0:r)),!t.type.spec.raw){if(1!=i.nodeType){let e=document.createElement("span");e.appendChild(i),i=e}i.contentEditable="false",i.classList.add("ProseMirror-widget")}super(e,[],i,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==fe&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class we extends ye{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class xe extends ye{constructor(e,t,n,r){super(e,[],n,r),this.mark=t}static create(e,t,n,r){let i=r.nodeViews[t.type.name],s=i&&i(t,r,n);return s&&s.dom||(s=o["DOMSerializer"].renderSpec(document,t.type.spec.toDOM(t,n))),new xe(e,t,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&ve||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=ve&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=fe){let e=this.parent;while(!e.node)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=fe}}slice(e,t,n){let r=xe.create(this.parent,this.mark,!0,n),o=this.children,i=this.size;t<i&&(o=qe(o,t,i,n)),e>0&&(o=qe(o,0,e,n));for(let s=0;s<o.length;s++)o[s].parent=r;return r.children=o,r}}class ke extends ye{constructor(e,t,n,r,o,i,s,l,a){super(e,[],o,i),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=s,i&&this.updateChildren(l,a)}static create(e,t,n,r,i,s){let l,a=i.nodeViews[t.type.name],c=a&&a(t,i,()=>l?l.parent?l.parent.posBeforeChild(l):void 0:s,n,r),u=c&&c.dom,d=c&&c.contentDOM;if(t.isText)if(u){if(3!=u.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else u=document.createTextNode(t.text);else u||({dom:u,contentDOM:d}=o["DOMSerializer"].renderSpec(document,t.type.spec.toDOM(t)));d||t.isText||"BR"==u.nodeName||(u.hasAttribute("contenteditable")||(u.contentEditable="false"),t.type.spec.draggable&&(u.draggable=!0));let p=u;return u=Ie(u,n,t),c?l=new Oe(e,t,n,r,u,d||null,p,c,i,s+1):t.isText?new _e(e,t,n,r,u,p,i):new ke(e,t,n,r,u,d||null,p,i,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>o["Fragment"].empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return this.dirty==fe&&e.eq(this.node)&&ze(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,i=e.composing?this.localCompositionInfo(e,t):null,s=i&&i.pos>-1?i:null,l=i&&i.pos<0,a=new De(this,s&&s.node,e);Fe(this.node,this.innerDeco,(t,i,s)=>{t.spec.marks?a.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!s&&a.syncToMarks(i==this.node.childCount?o["Mark"].none:this.node.child(i).marks,n,e),a.placeWidget(t,e,r)},(t,o,s,c)=>{let u;a.syncToMarks(t.marks,n,e),a.findNodeMatch(t,o,s,c)||l&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(u=a.findIndexWithChild(i.node))>-1&&a.updateNodeAt(t,o,s,u,e)||a.updateNextNode(t,o,s,e,c)||a.addNode(t,o,s,e,r),r+=t.nodeSize}),a.syncToMarks([],n,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==ge)&&(s&&this.protectLocalComposition(e,s),Me(this.contentDOM,this.children,e),R&&Be(this.dom))}localCompositionInfo(e,t){let{from:n,to:o}=e.state.selection;if(!(e.state.selection instanceof r["TextSelection"])||n<t||o>t+this.node.content.size)return null;let i=e.domSelectionRange(),s=Le(i.focusNode,i.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let e=s.nodeValue,r=Ve(this.node.content,e,n-t,o-t);return r<0?null:{node:s,pos:r,text:e}}return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let o=t;for(;;o=o.parentNode){if(o.parentNode==this.contentDOM)break;while(o.previousSibling)o.parentNode.removeChild(o.previousSibling);while(o.nextSibling)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let i=new we(this,o,t,r);e.input.compositionNodes.push(i),this.children=qe(this.children,n,n+r.length,e,i)}update(e,t,n,r){return!(this.dirty==ve||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=fe}updateOuterDeco(e){if(ze(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=Ne(this.dom,this.nodeDOM,Ae(this.outerDeco,this.node,t),Ae(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Se(e,t,n,r,o){return Ie(r,t,e),new ke(void 0,e,t,n,r,r,r,o,0)}class _e extends ke{constructor(e,t,n,r,o,i,s){super(e,t,n,r,o,null,i,s,0)}parseRule(){let e=this.nodeDOM.parentNode;while(e&&e!=this.dom&&!e.pmIsDeco)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(this.dirty==ve||this.dirty!=fe&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),this.dirty==fe&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=fe,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),o=document.createTextNode(r.text);return new _e(this.parent,r,this.outerDeco,this.innerDeco,o,o,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=ve)}get domAtom(){return!1}}class Ce extends ye{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==fe&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class Oe extends ke{constructor(e,t,n,r,o,i,s,l,a,c){super(e,t,n,r,o,i,s,a,c),this.spec=l}update(e,t,n,r){if(this.dirty==ve)return!1;if(this.spec.update){let o=this.spec.update(e,t,n);return o&&this.updateInner(e,t,n,r),o}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Me(e,t,n){let r=e.firstChild,o=!1;for(let i=0;i<t.length;i++){let s=t[i],l=s.dom;if(l.parentNode==e){while(l!=r)r=je(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(l,r);if(s instanceof xe){let t=r?r.previousSibling:e.lastChild;Me(s.contentDOM,s.children,n),r=t?t.nextSibling:e.firstChild}}while(r)r=je(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const Ee=function(e){e&&(this.nodeName=e)};Ee.prototype=Object.create(null);const Te=[new Ee];function Ae(e,t,n){if(0==e.length)return Te;let r=n?Te[0]:new Ee,o=[r];for(let i=0;i<e.length;i++){let s=e[i].type.attrs;if(s){s.nodeName&&o.push(r=new Ee(s.nodeName));for(let e in s){let i=s[e];null!=i&&(n&&1==o.length&&o.push(r=new Ee(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+i:"style"==e?r.style=(r.style?r.style+";":"")+i:"nodeName"!=e&&(r[e]=i))}}}return o}function Ne(e,t,n,r){if(n==Te&&r==Te)return t;let o=t;for(let i=0;i<r.length;i++){let t=r[i],s=n[i];if(i){let n;s&&s.nodeName==t.nodeName&&o!=e&&(n=o.parentNode)&&n.nodeName.toLowerCase()==t.nodeName||(n=document.createElement(t.nodeName),n.pmIsDeco=!0,n.appendChild(o),s=Te[0]),o=n}Re(o,s||Te[0],t)}return o}function Re(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==o.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<o.length;t++)-1==r.indexOf(o[t])&&e.classList.add(o[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;while(n=r.exec(t.style))e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function Ie(e,t,n){return Ne(e,e,Te,Ae(t,n,1!=e.nodeType))}function ze(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function je(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class De{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Pe(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,o=this.stack.length>>1,i=Math.min(o,e.length);while(r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning)r++;while(r<o)this.destroyRest(),this.top.dirty=fe,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;while(o<e.length){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++)if(this.top.children[t].matchesMark(e[o])){r=t;break}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=xe.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,n,r){let o,i=-1;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))i=this.top.children.indexOf(o,this.index);else for(let s=this.index,l=Math.min(this.top.children.length,s+5);s<l;s++){let r=this.top.children[s];if(r.matchesNode(e,t,n)&&!this.preMatch.matched.has(r)){i=s;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,t,n,r,o){let i=this.top.children[r];return i.dirty==ve&&i.dom==i.contentDOM&&(i.dirty=ge),!!i.update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,o){for(let i=this.index;i<this.top.children.length;i++){let s=this.top.children[i];if(s instanceof ke){let l=this.preMatch.matched.get(s);if(null!=l&&l!=o)return!1;let a=s.dom,c=this.lock&&(a==this.lock||1==a.nodeType&&a.contains(this.lock.parentNode))&&!(e.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==e.text&&s.dirty!=ve&&ze(t,s.outerDeco));if(!c&&s.update(e,t,n,r))return this.destroyBetween(this.index,i),s.dom!=a&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,t,n,r,o){this.top.children.splice(this.index++,0,ke.create(this.top,e,t,n,r,o)),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new be(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;while(e instanceof xe)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof _e)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((N||T)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new Ce(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}}function Pe(e,t){let n=t,r=n.children.length,o=e.childCount,i=new Map,s=[];e:while(o>0){let l;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof xe)){l=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=e.child(o-1))break;--o,i.set(l,o),s.push(l)}}return{index:o,matched:i,matches:s.reverse()}}function $e(e,t){return e.type.side-t.type.side}function Fe(e,t,n,r){let o=t.locals(e),i=0;if(0==o.length){for(let n=0;n<e.childCount;n++){let s=e.child(n);r(s,o,t.forChild(i,s),n),i+=s.nodeSize}return}let s=0,l=[],a=null;for(let c=0;;){if(s<o.length&&o[s].to==i){let e,t=o[s++];while(s<o.length&&o[s].to==i)(e||(e=[t])).push(o[s++]);if(e){e.sort($e);for(let t=0;t<e.length;t++)n(e[t],c,!!a)}else n(t,c,!!a)}let u,d;if(a)d=-1,u=a,a=null;else{if(!(c<e.childCount))break;d=c,u=e.child(c++)}for(let e=0;e<l.length;e++)l[e].to<=i&&l.splice(e--,1);while(s<o.length&&o[s].from<=i&&o[s].to>i)l.push(o[s++]);let p=i+u.nodeSize;if(u.isText){let e=p;s<o.length&&o[s].from<e&&(e=o[s].from);for(let t=0;t<l.length;t++)l[t].to<e&&(e=l[t].to);e<p&&(a=u.cut(e-i),u=u.cut(0,e-i),p=e,d=-1)}let h=u.isInline&&!u.isLeaf?l.filter(e=>!e.inline):l.slice();r(u,h,t.forChild(i,u),d),i=p}}function Be(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function Le(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];e=e.childNodes[t-1],t=h(e)}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}function Ve(e,t,n,r){for(let o=0,i=0;o<e.childCount&&i<=r;){let s=e.child(o++),l=i;if(i+=s.nodeSize,!s.isText)continue;let a=s.text;while(o<e.childCount){let t=e.child(o++);if(i+=t.nodeSize,!t.isText)break;a+=t.text}if(i>=n){let e=l<r?a.lastIndexOf(t,r-l-1):-1;if(e>=0&&e+t.length+l>=n)return l+e;if(n==r&&a.length>=r+t.length-l&&a.slice(r-l,r-l+t.length)==t)return r}}return-1}function qe(e,t,n,r,o){let i=[];for(let s=0,l=0;s<e.length;s++){let a=e[s],c=l,u=l+=a.size;c>=n||u<=t?i.push(a):(c<t&&i.push(a.slice(0,t-c,r)),o&&(i.push(o),o=void 0),u>n&&i.push(a.slice(n-c,a.size,r)))}return i}function He(e,t=null){let n=e.domSelectionRange(),o=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),s=i&&0==i.size,l=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let a,c,u=o.resolve(l);if(g(n)){a=u;while(i&&!i.node)i=i.parent;let e=i.node;if(i&&e.isAtom&&r["NodeSelection"].isSelectable(e)&&i.parent&&(!e.isInline||!f(n.focusNode,n.focusOffset,i.dom))){let e=i.posBefore;c=new r["NodeSelection"](l==e?u:o.resolve(e))}}else{let t=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(t<0)return null;a=o.resolve(t)}if(!c){let n="pointer"==t||e.state.selection.head<u.pos&&!s?1:-1;c=tt(e,a,u,n)}return c}function We(e){return e.editable?e.hasFocus():rt(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Ue(e,t=!1){let n=e.state.selection;if(Qe(e,n),We(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&T){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&u(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)Ye(e);else{let o,i,{anchor:s,head:l}=n;!Je||n instanceof r["TextSelection"]||(n.$from.parent.inlineContent||(o=Ke(e,n.from)),n.empty||n.$from.parent.inlineContent||(i=Ke(e,n.to))),e.docView.setSelection(s,l,e.root,t),Je&&(o&&Xe(o),i&&Xe(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Ze(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Je=N||T&&A<63;function Ke(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(N&&o&&"false"==o.contentEditable)return Ge(o);if((!o||"false"==o.contentEditable)&&(!i||"false"==i.contentEditable)){if(o)return Ge(o);if(i)return Ge(i)}}function Ge(e){return e.contentEditable="true",N&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Xe(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Ze(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{We(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")},20))})}function Ye(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,s(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&C&&O<=11&&(r.disabled=!0,r.disabled=!1)}function Qe(e,t){if(t instanceof r["NodeSelection"]){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(et(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else et(e)}function et(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function tt(e,t,n,o){return e.someProp("createSelectionBetween",r=>r(e,t,n))||r["TextSelection"].between(t,n,o)}function nt(e){return!(e.editable&&!e.hasFocus())&&rt(e)}function rt(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function ot(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return u(t.node,t.offset,n.anchorNode,n.anchorOffset)}function it(e,t){let{$anchor:n,$head:o}=e.selection,i=t>0?n.max(o):n.min(o),s=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return s&&r["Selection"].findFrom(s,t)}function st(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function lt(e,t,n){let o=e.state.selection;if(!(o instanceof r["TextSelection"])){if(o instanceof r["NodeSelection"]&&o.node.isInline)return st(e,new r["TextSelection"](t>0?o.$to:o.$from));{let n=it(e.state,t);return!!n&&st(e,n)}}if(!o.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){let n=it(e.state,t);return!!(n&&n instanceof r["NodeSelection"])&&st(e,n)}if(!(I&&n.indexOf("m")>-1)){let n,i=o.$head,s=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText)return!1;let l=t<0?i.pos-s.nodeSize:i.pos;return!!(s.isAtom||(n=e.docView.descAt(l))&&!n.contentDOM)&&(r["NodeSelection"].isSelectable(s)?st(e,new r["NodeSelection"](t<0?e.state.doc.resolve(i.pos-s.nodeSize):i)):!!j&&st(e,new r["TextSelection"](e.state.doc.resolve(t<0?l:l+s.nodeSize))))}}function at(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function ct(e){let t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function ut(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,l=!1;for(M&&1==n.nodeType&&r<at(n)&&ct(n.childNodes[r])&&(l=!0);;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(ct(e))o=n,i=--r;else{if(3!=e.nodeType)break;n=e,r=n.nodeValue.length}}}else{if(pt(n))break;{let t=n.previousSibling;while(t&&ct(t))o=n.parentNode,i=s(t),t=t.previousSibling;if(t)n=t,r=at(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}l?ht(e,n,r):o&&ht(e,o,i)}function dt(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,i,l=at(n);for(;;)if(r<l){if(1!=n.nodeType)break;let e=n.childNodes[r];if(!ct(e))break;o=n,i=++r}else{if(pt(n))break;{let t=n.nextSibling;while(t&&ct(t))o=t.parentNode,i=s(t)+1,t=t.nextSibling;if(t)n=t,r=0,l=at(n);else{if(n=n.parentNode,n==e.dom)break;r=l=0}}}o&&ht(e,o,i)}function pt(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function ht(e,t,n){let r=e.domSelection();if(g(r)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),r.removeAllRanges(),r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout(()=>{e.state==o&&Ue(e)},50)}function ft(e,t,n){let o=e.state.selection;if(o instanceof r["TextSelection"]&&!o.empty||n.indexOf("s")>-1)return!1;if(I&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=o;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=it(e.state,t);if(n&&n instanceof r["NodeSelection"])return st(e,n)}if(!i.parent.inlineContent){let n=t<0?i:s,l=o instanceof r["AllSelection"]?r["Selection"].near(n,t):r["Selection"].findFrom(n,t);return!!l&&st(e,l)}return!1}function mt(e,t){if(!(e.state.selection instanceof r["TextSelection"]))return!0;let{$head:n,$anchor:o,empty:i}=e.state.selection;if(!n.sameParent(o))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let r=e.state.tr;return t<0?r.delete(n.pos-s.nodeSize,n.pos):r.delete(n.pos,n.pos+s.nodeSize),e.dispatch(r),!0}return!1}function gt(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function vt(e){if(!N||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;gt(e,n,"true"),setTimeout(()=>gt(e,n,"false"),20)}return!1}function yt(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function bt(e,t){let n=t.keyCode,r=yt(t);return 8==n||I&&72==n&&"c"==r?mt(e,-1)||ut(e):46==n||I&&68==n&&"c"==r?mt(e,1)||dt(e):13==n||27==n||(37==n||I&&66==n&&"c"==r?lt(e,-1,r)||ut(e):39==n||I&&70==n&&"c"==r?lt(e,1,r)||dt(e):38==n||I&&80==n&&"c"==r?ft(e,-1,r)||ut(e):40==n||I&&78==n&&"c"==r?vt(e)||ft(e,1,r)||dt(e):r==(I?"m":"c")&&(66==n||73==n||89==n||90==n))}function wt(e,t){e.someProp("transformCopied",n=>{t=n(t,e)});let n=[],{content:r,openStart:i,openEnd:s}=t;while(i>1&&s>1&&1==r.childCount&&1==r.firstChild.childCount){i--,s--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let l=e.someProp("clipboardSerializer")||o["DOMSerializer"].fromSchema(e.state.schema),a=Nt(),c=a.createElement("div");c.appendChild(l.serializeFragment(r,{document:a}));let u,d=c.firstChild,p=0;while(d&&1==d.nodeType&&(u=Tt[d.nodeName.toLowerCase()])){for(let e=u.length-1;e>=0;e--){let t=a.createElement(u[e]);while(c.firstChild)t.appendChild(c.firstChild);c.appendChild(t),p++}d=c.firstChild}d&&1==d.nodeType&&d.setAttribute("data-pm-slice",`${i} ${s}${p?" -"+p:""} ${JSON.stringify(n)}`);let h=e.someProp("clipboardTextSerializer",n=>n(t,e))||t.content.textBetween(0,t.content.size,"\n\n");return{dom:c,text:h}}function xt(e,t,n,r,i){let s,l,a=i.parent.type.spec.code;if(!n&&!t)return null;let c=t&&(r||a||!n);if(c){if(e.someProp("transformPastedText",n=>{t=n(t,a||r,e)}),a)return t?new o["Slice"](o["Fragment"].from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):o["Slice"].empty;let n=e.someProp("clipboardTextParser",n=>n(t,i,r,e));if(n)l=n;else{let n=i.marks(),{schema:r}=e.state,l=o["DOMSerializer"].fromSchema(r);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(e=>{let t=s.appendChild(document.createElement("p"));e&&t.appendChild(l.serializeNode(r.text(e,n)))})}}else e.someProp("transformPastedHTML",t=>{n=t(n,e)}),s=Rt(n),j&&It(s);let u=s&&s.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let o=+d[3];o>0;o--){let e=s.firstChild;while(e&&1!=e.nodeType)e=e.nextSibling;if(!e)break;s=e}if(!l){let t=e.someProp("clipboardParser")||e.someProp("domParser")||o["DOMParser"].fromSchema(e.state.schema);l=t.parseSlice(s,{preserveWhitespace:!(!c&&!d),context:i,ruleFromNode(e){return"BR"!=e.nodeName||e.nextSibling||!e.parentNode||kt.test(e.parentNode.nodeName)?null:{ignore:!0}}})}if(d)l=zt(Et(l,+d[1],+d[2]),d[4]);else if(l=o["Slice"].maxOpen(St(l.content,i),!0),l.openStart||l.openEnd){let e=0,t=0;for(let n=l.content.firstChild;e<l.openStart&&!n.type.spec.isolating;e++,n=n.firstChild);for(let n=l.content.lastChild;t<l.openEnd&&!n.type.spec.isolating;t++,n=n.lastChild);l=Et(l,e,t)}return e.someProp("transformPasted",t=>{l=t(l,e)}),l}const kt=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function St(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,i=t.node(n),s=i.contentMatchAt(t.index(n)),l=[];if(e.forEach(e=>{if(!l)return;let t,n=s.findWrapping(e.type);if(!n)return l=null;if(t=l.length&&r.length&&Ct(n,r,e,l[l.length-1],0))l[l.length-1]=t;else{l.length&&(l[l.length-1]=Ot(l[l.length-1],r.length));let t=_t(e,n);l.push(t),s=s.matchType(t.type),r=n}}),l)return o["Fragment"].from(l)}return e}function _t(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,o["Fragment"].from(e));return e}function Ct(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let s=Ct(e,t,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));let l=r.contentMatchAt(r.childCount);if(l.matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(o["Fragment"].from(_t(n,e,i+1))))}}function Ot(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,Ot(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(o["Fragment"].empty,!0);return e.copy(n.append(r))}function Mt(e,t,n,r,i,s){let l=t<0?e.firstChild:e.lastChild,a=l.content;return i<r-1&&(a=Mt(a,t,n,r,i+1,s)),i>=n&&(a=t<0?l.contentMatchAt(0).fillBefore(a,e.childCount>1||s<=i).append(a):a.append(l.contentMatchAt(l.childCount).fillBefore(o["Fragment"].empty,!0))),e.replaceChild(t<0?0:e.childCount-1,l.copy(a))}function Et(e,t,n){return t<e.openStart&&(e=new o["Slice"](Mt(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new o["Slice"](Mt(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const Tt={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let At=null;function Nt(){return At||(At=document.implementation.createHTMLDocument("title"))}function Rt(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=Nt().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);if((n=o&&Tt[o[1].toLowerCase()])&&(e=n.map(e=>"<"+e+">").join("")+e+n.map(e=>"</"+e+">").reverse().join("")),r.innerHTML=e,n)for(let i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}function It(e){let t=e.querySelectorAll(T?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&" "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function zt(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(a){return e}let{content:i,openStart:s,openEnd:l}=e;for(let c=n.length-2;c>=0;c-=2){let e=r.nodes[n[c]];if(!e||e.hasRequiredAttrs())break;i=o["Fragment"].from(e.create(n[c+1],i)),s++,l++}return new o["Slice"](i,s,l)}const jt={},Dt={},Pt={touchstart:!0,touchmove:!0};class $t{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Ft(e){for(let t in jt){let n=jt[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!Ht(e,t)||qt(e,t)||!e.editable&&t.type in Dt||n(e,t)},Pt[t]?{passive:!0}:void 0)}N&&e.dom.addEventListener("input",()=>null),Vt(e)}function Bt(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function Lt(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function Vt(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>qt(e,t))})}function qt(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)})}function Ht(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Wt(e,t){qt(e,t)||!jt[t.type]||!e.editable&&t.type in Dt||jt[t.type](e,t)}function Ut(e){return{left:e.clientX,top:e.clientY}}function Jt(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function Kt(e,t,n,r,o){if(-1==r)return!1;let i=e.state.doc.resolve(r);for(let s=i.depth+1;s>0;s--)if(e.someProp(t,t=>s>i.depth?t(e,n,i.nodeAfter,i.before(s),o,!0):t(e,n,i.node(s),i.before(s),o,!1)))return!0;return!1}function Gt(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function Xt(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),o=n.nodeAfter;return!!(o&&o.isAtom&&r["NodeSelection"].isSelectable(o))&&(Gt(e,new r["NodeSelection"](n),"pointer"),!0)}function Zt(e,t){if(-1==t)return!1;let n,o,i=e.state.selection;i instanceof r["NodeSelection"]&&(n=i.node);let s=e.state.doc.resolve(t);for(let l=s.depth+1;l>0;l--){let e=l>s.depth?s.nodeAfter:s.node(l);if(r["NodeSelection"].isSelectable(e)){o=n&&i.$from.depth>0&&l>=i.$from.depth&&s.before(i.$from.depth+1)==i.$from.pos?s.before(i.$from.depth):s.before(l);break}}return null!=o&&(Gt(e,r["NodeSelection"].create(e.state.doc,o),"pointer"),!0)}function Yt(e,t,n,r,o){return Kt(e,"handleClickOn",t,n,r)||e.someProp("handleClick",n=>n(e,t,r))||(o?Zt(e,n):Xt(e,n))}function Qt(e,t,n,r){return Kt(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",n=>n(e,t,r))}function en(e,t,n,r){return Kt(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",n=>n(e,t,r))||tn(e,n,r)}function tn(e,t,n){if(0!=n.button)return!1;let o=e.state.doc;if(-1==t)return!!o.inlineContent&&(Gt(e,r["TextSelection"].create(o,0,o.content.size),"pointer"),!0);let i=o.resolve(t);for(let s=i.depth+1;s>0;s--){let t=s>i.depth?i.nodeAfter:i.node(s),n=i.before(s);if(t.inlineContent)Gt(e,r["TextSelection"].create(o,n+1,n+1+t.content.size),"pointer");else{if(!r["NodeSelection"].isSelectable(t))continue;Gt(e,r["NodeSelection"].create(o,n),"pointer")}return!0}}function nn(e){return dn(e)}Dt.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!sn(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!z||!T||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!R||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",t=>t(e,n))||bt(e,n)?n.preventDefault():Bt(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",t=>t(e,v(13,"Enter"))),e.input.lastIOSEnter=0)},200)}},Dt.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},Dt.keypress=(e,t)=>{let n=t;if(sn(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||I&&n.metaKey)return;if(e.someProp("handleKeyPress",t=>t(e,n)))return void n.preventDefault();let o=e.state.selection;if(!(o instanceof r["TextSelection"])||!o.$from.sameParent(o.$to)){let t=String.fromCharCode(n.charCode);e.someProp("handleTextInput",n=>n(e,o.$from.pos,o.$to.pos,t))||e.dispatch(e.state.tr.insertText(t).scrollIntoView()),n.preventDefault()}};const rn=I?"metaKey":"ctrlKey";jt.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=nn(e),o=Date.now(),i="singleClick";o-e.input.lastClick.time<500&&Jt(n,e.input.lastClick)&&!n[rn]&&("singleClick"==e.input.lastClick.type?i="doubleClick":"doubleClick"==e.input.lastClick.type&&(i="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:i};let s=e.posAtCoords(Ut(n));s&&("singleClick"==i?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new on(e,s,n,!!r)):("doubleClick"==i?Qt:en)(e,s.pos,s.inside,n)?n.preventDefault():Bt(e,"pointer"))};class on{constructor(e,t,n,o){let i,s;if(this.view=e,this.pos=t,this.event=n,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[rn],this.allowDefault=n.shiftKey,t.inside>-1)i=e.state.doc.nodeAt(t.inside),s=t.inside;else{let n=e.state.doc.resolve(t.pos);i=n.parent,s=n.depth?n.before():0}const l=o?null:n.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a?a.dom:null;let{selection:c}=e.state;(0==n.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||c instanceof r["NodeSelection"]&&c.from<=s&&c.to>s)&&(this.mightDrag={node:i,pos:s,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!M||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Bt(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ue(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Ut(e))),this.updateAllowDefault(e),this.allowDefault||!t?Bt(this.view,"pointer"):Yt(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||N&&this.mightDrag&&!this.mightDrag.node.isAtom||T&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Gt(this.view,r["Selection"].near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Bt(this.view,"pointer")}move(e){this.updateAllowDefault(e),Bt(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function sn(e,t){return!!e.composing||!!(N&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}jt.touchstart=e=>{e.input.lastTouch=Date.now(),nn(e),Bt(e,"pointer")},jt.touchmove=e=>{e.input.lastTouch=Date.now(),Bt(e,"pointer")},jt.contextmenu=e=>nn(e);const ln=z?5e3:-1;function an(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>dn(e),t))}function cn(e){e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=un());while(e.input.compositionNodes.length>0)e.input.compositionNodes.pop().markParentsDirty()}function un(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function dn(e,t=!1){if(!(z&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),cn(e),t||e.docView&&e.docView.dirty){let t=He(e);return t&&!t.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(t)):e.updateState(e.state),!0}return!1}}function pn(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}Dt.compositionstart=Dt.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(e=>!1===e.type.spec.inclusive)))e.markCursor=e.state.storedMarks||n.marks(),dn(e,!0),e.markCursor=null;else if(dn(e),M&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){e.domSelection().collapse(t,t.nodeValue.length);break}n=t,r=-1}}e.input.composing=!0}an(e,ln)},Dt.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,an(e,20))};const hn=C&&O<15||R&&D<604;function fn(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}function mn(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?gn(e,r.value,null,t):gn(e,r.textContent,r.innerHTML,t)},50)}function gn(e,t,n,r){let i=xt(e,t,n,e.input.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",t=>t(e,r,i||o["Slice"].empty)))return!0;if(!i)return!1;let s=fn(i),l=s?e.state.tr.replaceSelectionWith(s,e.input.shiftKey):e.state.tr.replaceSelection(i);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}jt.copy=Dt.cut=(e,t)=>{let n=t,r=e.state.selection,o="cut"==n.type;if(r.empty)return;let i=hn?null:n.clipboardData,s=r.content(),{dom:l,text:a}=wt(e,s);i?(n.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",a)):pn(e,l),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},Dt.paste=(e,t)=>{let n=t;if(e.composing&&!z)return;let r=hn?null:n.clipboardData;r&&gn(e,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():mn(e,n)};class vn{constructor(e,t){this.slice=e,this.move=t}}const yn=I?"altKey":"ctrlKey";jt.dragstart=(e,t)=>{let n=t,o=e.input.mouseDown;if(o&&o.done(),!n.dataTransfer)return;let i=e.state.selection,s=i.empty?null:e.posAtCoords(Ut(n));if(s&&s.pos>=i.from&&s.pos<=(i instanceof r["NodeSelection"]?i.to-1:i.to));else if(o&&o.mightDrag)e.dispatch(e.state.tr.setSelection(r["NodeSelection"].create(e.state.doc,o.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&e.dispatch(e.state.tr.setSelection(r["NodeSelection"].create(e.state.doc,t.posBefore)))}let l=e.state.selection.content(),{dom:a,text:c}=wt(e,l);n.dataTransfer.clearData(),n.dataTransfer.setData(hn?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",hn||n.dataTransfer.setData("text/plain",c),e.dragging=new vn(l,!n[yn])},jt.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)},Dt.dragover=Dt.dragenter=(e,t)=>t.preventDefault(),Dt.drop=(e,t)=>{let n=t,s=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let l=e.posAtCoords(Ut(n));if(!l)return;let a=e.state.doc.resolve(l.pos),c=s&&s.slice;c?e.someProp("transformPasted",t=>{c=t(c,e)}):c=xt(e,n.dataTransfer.getData(hn?"Text":"text/plain"),hn?null:n.dataTransfer.getData("text/html"),!1,a);let u=!(!s||n[yn]);if(e.someProp("handleDrop",t=>t(e,n,c||o["Slice"].empty,u)))return void n.preventDefault();if(!c)return;n.preventDefault();let d=c?Object(i["h"])(e.state.doc,a.pos,c):a.pos;null==d&&(d=a.pos);let p=e.state.tr;u&&p.deleteSelection();let h=p.mapping.map(d),f=0==c.openStart&&0==c.openEnd&&1==c.content.childCount,m=p.doc;if(f?p.replaceRangeWith(h,h,c.content.firstChild):p.replaceRange(h,h,c),p.doc.eq(m))return;let g=p.doc.resolve(h);if(f&&r["NodeSelection"].isSelectable(c.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(c.content.firstChild))p.setSelection(new r["NodeSelection"](g));else{let t=p.mapping.map(d);p.mapping.maps[p.mapping.maps.length-1].forEach((e,n,r,o)=>t=o),p.setSelection(tt(e,g,p.doc.resolve(t)))}e.focus(),e.dispatch(p.setMeta("uiEvent","drop"))},jt.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Ue(e)},20))},jt.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},jt.beforeinput=(e,t)=>{let n=t;if(T&&z&&"deleteContentBackward"==n.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",t=>t(e,v(8,"Backspace"))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}};for(let cr in Dt)jt[cr]=Dt[cr];function bn(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class wn{constructor(e,t){this.toDOM=e,this.spec=t||Cn,this.side=this.spec.side||0}map(e,t,n,r){let{pos:o,deleted:i}=e.mapResult(t.from+r,this.side<0?-1:1);return i?null:new Sn(o-n,o-n,this)}valid(){return!0}eq(e){return this==e||e instanceof wn&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&bn(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class xn{constructor(e,t){this.attrs=e,this.spec=t||Cn}map(e,t,n,r){let o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new Sn(o,i,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof xn&&bn(this.attrs,e.attrs)&&bn(this.spec,e.spec)}static is(e){return e.type instanceof xn}destroy(){}}class kn{constructor(e,t){this.attrs=e,this.spec=t||Cn}map(e,t,n,r){let o=e.mapResult(t.from+r,1);if(o.deleted)return null;let i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new Sn(o.pos-n,i.pos-n,this)}valid(e,t){let n,{index:r,offset:o}=e.content.findIndex(t.from);return o==t.from&&!(n=e.child(r)).isText&&o+n.nodeSize==t.to}eq(e){return this==e||e instanceof kn&&bn(this.attrs,e.attrs)&&bn(this.spec,e.spec)}destroy(){}}class Sn{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new Sn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new Sn(e,e,new wn(t,n))}static inline(e,t,n,r){return new Sn(e,t,new xn(n,r))}static node(e,t,n,r){return new Sn(e,t,new kn(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof xn}}const _n=[],Cn={};class On{constructor(e,t){this.local=e.length?e:_n,this.children=t.length?t:_n}static create(e,t){return t.length?zn(t,e,0,Cn):Mn}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,o){for(let i=0;i<this.local.length;i++){let s=this.local[i];s.from<=t&&s.to>=e&&(!o||o(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(let i=0;i<this.children.length;i+=3)if(this.children[i]<t&&this.children[i+1]>e){let s=this.children[i]+1;this.children[i+2].findInner(e-s,t-s,n,r+s,o)}}map(e,t,n){return this==Mn||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Cn)}mapInner(e,t,n,r,o){let i;for(let s=0;s<this.local.length;s++){let l=this.local[s].map(e,n,r);l&&l.type.valid(t,l)?(i||(i=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?Tn(this.children,i||[],e,t,n,r,o):i?new On(i.sort(jn),_n):Mn}add(e,t){return t.length?this==Mn?On.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,o=0;e.forEach((e,i)=>{let s,l=i+n;if(s=Rn(t,e,l)){r||(r=this.children.slice());while(o<r.length&&r[o]<i)o+=3;r[o]==i?r[o+2]=r[o+2].addInner(e,s,l+1):r.splice(o,0,i,i+e.nodeSize,zn(s,e,l+1,Cn)),o+=3}});let i=An(o?In(t):t,-n);for(let s=0;s<i.length;s++)i[s].type.valid(e,i[s])||i.splice(s--,1);return new On(i.length?this.local.concat(i).sort(jn):this.local,r||this.children)}remove(e){return 0==e.length||this==Mn?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let o=0;o<n.length;o+=3){let r,i=n[o]+t,s=n[o+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>i&&t.to<s&&(e[n]=null,(r||(r=[])).push(t));if(!r)continue;n==this.children&&(n=this.children.slice());let l=n[o+2].removeInner(r,i+1);l!=Mn?n[o+2]=l:(n.splice(o,3),o-=3)}if(r.length)for(let o,i=0;i<e.length;i++)if(o=e[i])for(let e=0;e<r.length;e++)r[e].eq(o,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new On(r,n):Mn}forChild(e,t){if(this==Mn)return this;if(t.isLeaf)return On.empty;let n,r;for(let s=0;s<this.children.length;s+=3)if(this.children[s]>=e){this.children[s]==e&&(n=this.children[s+2]);break}let o=e+1,i=o+t.content.size;for(let s=0;s<this.local.length;s++){let e=this.local[s];if(e.from<i&&e.to>o&&e.type instanceof xn){let t=Math.max(o,e.from)-o,n=Math.min(i,e.to)-o;t<n&&(r||(r=[])).push(e.copy(t,n))}}if(r){let e=new On(r.sort(jn),_n);return n?new En([e,n]):e}return n||Mn}eq(e){if(this==e)return!0;if(!(e instanceof On)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Dn(this.localsInner(e))}localsInner(e){if(this==Mn)return _n;if(e.inlineContent||!this.local.some(xn.is))return this.local;let t=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof xn||t.push(this.local[n]);return t}}On.empty=new On([],[]),On.removeOverlap=Dn;const Mn=On.empty;class En{constructor(e){this.members=e}map(e,t){const n=this.members.map(n=>n.map(e,t,Cn));return En.from(n)}forChild(e,t){if(t.isLeaf)return On.empty;let n=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(e,t);o!=Mn&&(o instanceof En?n=n.concat(o.members):n.push(o))}return En.from(n)}eq(e){if(!(e instanceof En)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<o.length;e++)t.push(o[e])}else t=o}return t?Dn(n?t:t.sort(jn)):_n}static from(e){switch(e.length){case 0:return Mn;case 1:return e[0];default:return new En(e)}}}function Tn(e,t,n,r,o,i,s){let l=e.slice();for(let c=0,u=i;c<n.maps.length;c++){let e=0;n.maps[c].forEach((t,n,r,i)=>{let s=i-r-(n-t);for(let a=0;a<l.length;a+=3){let i=l[a+1];if(i<0||t>i+u-e)continue;let c=l[a]+u-e;n>=c?l[a+1]=t<=c?-2:-1:r>=o&&s&&(l[a]+=s,l[a+1]+=s)}e+=s}),u=n.maps[c].map(u,-1)}let a=!1;for(let c=0;c<l.length;c+=3)if(l[c+1]<0){if(-2==l[c+1]){a=!0,l[c+1]=-1;continue}let t=n.map(e[c]+i),u=t-o;if(u<0||u>=r.content.size){a=!0;continue}let d=n.map(e[c+1]+i,-1),p=d-o,{index:h,offset:f}=r.content.findIndex(u),m=r.maybeChild(h);if(m&&f==u&&f+m.nodeSize==p){let r=l[c+2].mapInner(n,m,t+1,e[c]+i+1,s);r!=Mn?(l[c]=u,l[c+1]=p,l[c+2]=r):(l[c+1]=-2,a=!0)}else a=!0}if(a){let a=Nn(l,e,t,n,o,i,s),c=zn(a,r,0,s);t=c.local;for(let e=0;e<l.length;e+=3)l[e+1]<0&&(l.splice(e,3),e-=3);for(let e=0,t=0;e<c.children.length;e+=3){let n=c.children[e];while(t<l.length&&l[t]<n)t+=3;l.splice(t,0,c.children[e],c.children[e+1],c.children[e+2])}}return new On(t.sort(jn),l)}function An(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new Sn(o.from+t,o.to+t,o.type))}return n}function Nn(e,t,n,r,o,i,s){function l(e,t){for(let i=0;i<e.local.length;i++){let l=e.local[i].map(r,o,t);l?n.push(l):s.onRemove&&s.onRemove(e.local[i].spec)}for(let n=0;n<e.children.length;n+=3)l(e.children[n+2],e.children[n]+t+1)}for(let a=0;a<e.length;a+=3)-1==e[a+1]&&l(e[a+2],t[a]+i+1);return n}function Rn(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let i,s=0;s<e.length;s++)(i=e[s])&&i.from>n&&i.to<r&&((o||(o=[])).push(i),e[s]=null);return o}function In(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function zn(e,t,n,r){let o=[],i=!1;t.forEach((t,s)=>{let l=Rn(e,t,s+n);if(l){i=!0;let e=zn(l,t,n+s+1,r);e!=Mn&&o.push(s,s+t.nodeSize,e)}});let s=An(i?In(e):e,-n).sort(jn);for(let l=0;l<s.length;l++)s[l].type.valid(t,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||o.length?new On(s,o):Mn}function jn(e,t){return e.from-t.from||e.to-t.to}function Dn(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),Pn(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),Pn(t,o+1,i.copy(r.to,i.to)))}}return t}function Pn(e,t,n){while(t<e.length&&jn(n,e[t])>0)t++;e.splice(t,0,n)}function $n(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Mn&&t.push(r)}),e.cursorWrapper&&t.push(On.create(e.state.doc,[e.cursorWrapper.deco])),En.from(t)}const Fn={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Bn=C&&O<=11;class Ln{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Vn{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Ln,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);C&&O<=11&&e.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()}),Bn&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Fn)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(nt(this.view)){if(this.suppressingSelectionUpdates)return Ue(this.view);if(C&&O<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&u(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t,n=new Set;for(let o=e.focusNode;o;o=l(o))n.add(o);for(let o=e.anchorNode;o;o=l(o))if(n.has(o)){t=o;break}let r=t&&this.view.docView.nearestDesc(t);return r&&r.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);let n=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&nt(e)&&!this.ignoreSelectionChange(n),i=-1,s=-1,l=!1,a=[];if(e.editable)for(let r=0;r<t.length;r++){let e=this.registerMutation(t[r],a);e&&(i=i<0?e.from:Math.min(e.from,i),s=s<0?e.to:Math.max(e.to,s),e.typeOver&&(l=!0))}if(M&&a.length>1){let e=a.filter(e=>"BR"==e.nodeName);if(2==e.length){let t=e[0],n=e[1];t.parentNode&&t.parentNode.parentNode==n.parentNode?n.remove():t.remove()}}let c=null;i<0&&o&&e.input.lastFocus>Date.now()-200&&e.input.lastTouch<Date.now()-300&&g(n)&&(c=He(e))&&c.eq(r["Selection"].near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ue(e),this.currentSelection.set(n),e.scrollToSelection()):(i>-1||o)&&(i>-1&&(e.docView.markDirty(i,s),Wn(e)),this.handleDOMChange(i,s,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Ue(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++)t.push(e.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,o=e.nextSibling;if(C&&O<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:i}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!i||Array.prototype.indexOf.call(e.addedNodes,i)<0)&&(o=i)}let i=r&&r.parentNode==e.target?s(r)+1:0,l=n.localPosFromDOM(e.target,i,-1),a=o&&o.parentNode==e.target?s(o):e.target.childNodes.length,c=n.localPosFromDOM(e.target,a,1);return{from:l,to:c}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let qn=new WeakMap,Hn=!1;function Wn(e){if(!qn.has(e)&&(qn.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace))){if(e.requiresGeckoHackNode=M,Hn)return;console["warn"]("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Hn=!0}}function Un(e){let t;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0);let r=t.startContainer,o=t.startOffset,i=t.endContainer,s=t.endOffset,l=e.domAtPos(e.state.selection.anchor);return u(l.node,l.offset,i,s)&&([r,o,i,s]=[i,s,r,o]),{anchorNode:r,anchorOffset:o,focusNode:i,focusOffset:s}}function Jn(e,t,n){let r,{node:i,fromOffset:s,toOffset:l,from:a,to:c}=e.docView.parseRange(t,n),u=e.domSelectionRange(),d=u.anchorNode;if(d&&e.dom.contains(1==d.nodeType?d:d.parentNode)&&(r=[{node:d,offset:u.anchorOffset}],g(u)||r.push({node:u.focusNode,offset:u.focusOffset})),T&&8===e.input.lastKeyCode)for(let o=l;o>s;o--){let e=i.childNodes[o-1],t=e.pmViewDesc;if("BR"==e.nodeName&&!t){l=o;break}if(!t||t.size)break}let p=e.state.doc,h=e.someProp("domParser")||o["DOMParser"].fromSchema(e.state.schema),f=p.resolve(a),m=null,v=h.parse(i,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:s,to:l,preserveWhitespace:"pre"!=f.parent.type.whitespace||"full",findPositions:r,ruleFromNode:Kn,context:f});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),m={anchor:e+a,head:t+a}}return{doc:v,sel:m,from:a,to:c}}function Kn(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(N&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||N&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Gn(e,t,n,o,i){if(t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=He(e,t);if(n&&!e.state.selection.eq(n)){let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),e.dispatch(r)}return}let s=e.state.doc.resolve(t),l=s.sharedDepth(n);t=s.before(l+1),n=e.state.doc.resolve(n).after(l+1);let a,c,u=e.state.selection,d=Jn(e,t,n),p=e.state.doc,h=p.slice(d.from,d.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(a=e.state.selection.to,c="end"):(a=e.state.selection.from,c="start"),e.input.lastKeyCode=null;let f=er(h.content,d.doc.content,d.from,a,c);if((R&&e.input.lastIOSEnter>Date.now()-225||z)&&i.some(e=>"DIV"==e.nodeName||"P"==e.nodeName||"LI"==e.nodeName)&&(!f||f.endA>=f.endB)&&e.someProp("handleKeyDown",t=>t(e,v(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(!f){if(!(o&&u instanceof r["TextSelection"]&&!u.empty&&u.$head.sameParent(u.$anchor))||e.composing||d.sel&&d.sel.anchor!=d.sel.head){if(d.sel){let t=Xn(e,e.state.doc,d.sel);t&&!t.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(t))}return}f={start:u.from,endA:u.to,endB:u.to}}if(T&&e.cursorWrapper&&d.sel&&d.sel.anchor==e.cursorWrapper.deco.from&&d.sel.head==d.sel.anchor){let e=f.endB-f.start;d.sel={anchor:d.sel.anchor+e,head:d.sel.anchor+e}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&f.start==f.endB&&e.state.selection instanceof r["TextSelection"]&&(f.start>e.state.selection.from&&f.start<=e.state.selection.from+2&&e.state.selection.from>=d.from?f.start=e.state.selection.from:f.endA<e.state.selection.to&&f.endA>=e.state.selection.to-2&&e.state.selection.to<=d.to&&(f.endB+=e.state.selection.to-f.endA,f.endA=e.state.selection.to)),C&&O<=11&&f.endB==f.start+1&&f.endA==f.start&&f.start>d.from&&"  "==d.doc.textBetween(f.start-d.from-1,f.start-d.from+1)&&(f.start--,f.endA--,f.endB--);let m,g=d.doc.resolveNoCache(f.start-d.from),y=d.doc.resolveNoCache(f.endB-d.from),b=p.resolve(f.start),w=g.sameParent(y)&&g.parent.inlineContent&&b.end()>=f.endA;if((R&&e.input.lastIOSEnter>Date.now()-225&&(!w||i.some(e=>"DIV"==e.nodeName||"P"==e.nodeName))||!w&&g.pos<d.doc.content.size&&(m=r["Selection"].findFrom(d.doc.resolve(g.pos+1),1,!0))&&m.head==y.pos)&&e.someProp("handleKeyDown",t=>t(e,v(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>f.start&&Yn(p,f.start,f.endA,g,y)&&e.someProp("handleKeyDown",t=>t(e,v(8,"Backspace"))))return void(z&&T&&e.domObserver.suppressSelectionUpdates());T&&z&&f.endB==f.start&&(e.input.lastAndroidDelete=Date.now()),z&&!w&&g.start()!=y.start()&&0==y.parentOffset&&g.depth==y.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==f.endA&&(f.endB-=2,y=d.doc.resolveNoCache(f.endB-d.from),setTimeout(()=>{e.someProp("handleKeyDown",(function(t){return t(e,v(13,"Enter"))}))},20));let x,k,S,_=f.start,M=f.endA;if(w)if(g.pos==y.pos)C&&O<=11&&0==g.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ue(e),20)),x=e.state.tr.delete(_,M),k=p.resolve(f.start).marksAcross(p.resolve(f.endA));else if(f.endA==f.endB&&(S=Zn(g.parent.content.cut(g.parentOffset,y.parentOffset),b.parent.content.cut(b.parentOffset,f.endA-b.start()))))x=e.state.tr,"add"==S.type?x.addMark(_,M,S.mark):x.removeMark(_,M,S.mark);else if(g.parent.child(g.index()).isText&&g.index()==y.index()-(y.textOffset?0:1)){let t=g.parent.textBetween(g.parentOffset,y.parentOffset);if(e.someProp("handleTextInput",n=>n(e,_,M,t)))return;x=e.state.tr.insertText(t,_,M)}if(x||(x=e.state.tr.replace(_,M,d.doc.slice(f.start-d.from,f.endB-d.from))),d.sel){let t=Xn(e,x.doc,d.sel);t&&!(T&&z&&e.composing&&t.empty&&(f.start!=f.endB||e.input.lastAndroidDelete<Date.now()-100)&&(t.head==_||t.head==x.mapping.map(M)-1)||C&&t.empty&&t.head==_)&&x.setSelection(t)}k&&x.ensureMarks(k),e.dispatch(x.scrollIntoView())}function Xn(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:tt(e,t.resolve(n.anchor),t.resolve(n.head))}function Zn(e,t){let n,r,i,s=e.firstChild.marks,l=t.firstChild.marks,a=s,c=l;for(let o=0;o<l.length;o++)a=l[o].removeFromSet(a);for(let o=0;o<s.length;o++)c=s[o].removeFromSet(c);if(1==a.length&&0==c.length)r=a[0],n="add",i=e=>e.mark(r.addToSet(e.marks));else{if(0!=a.length||1!=c.length)return null;r=c[0],n="remove",i=e=>e.mark(r.removeFromSet(e.marks))}let u=[];for(let o=0;o<t.childCount;o++)u.push(i(t.child(o)));if(o["Fragment"].from(u).eq(e))return{mark:r,type:n}}function Yn(e,t,n,r,o){if(!r.parent.isTextblock||n-t<=o.pos-r.pos||Qn(r,!0,!1)<o.pos)return!1;let i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let s=e.resolve(Qn(i,!0,!0));return!(!s.parent.isTextblock||s.pos>n||Qn(s,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Qn(e,t,n){let r=e.depth,o=t?e.end():e.pos;while(r>0&&(t||e.indexAfter(r)==e.node(r).childCount))r--,o++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));while(t&&!t.isLeaf)t=t.firstChild,o++}return o}function er(e,t,n,r,o){let i=e.findDiffStart(t,n);if(null==i)return null;let{a:s,b:l}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==o){let e=Math.max(0,i-Math.min(s,l));r-=s+e-i}if(s<i&&e.size<t.size){let e=r<=i&&r>=s?i-r:0;i-=e,l=i+(l-s),s=i}else if(l<i){let e=r<=i&&r>=l?i-r:0;i-=e,s=i+(s-l),l=i}return{start:i,endA:s,endB:l}}class tr{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new $t,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(ar),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=or(this),rr(this),this.nodeViews=sr(this),this.docView=Se(this.state.doc,nr(this),$n(this),this.dom,this),this.domObserver=new Vn(this,(e,t,n,r)=>Gn(this,e,t,n,r)),this.domObserver.start(),Ft(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Vt(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(ar),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let n in this._props)t[n]=this._props[n];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){let n=this.state,r=!1,o=!1;e.storedMarks&&this.composing&&(cn(this),o=!0),this.state=e;let i=n.plugins!=e.plugins||this._props.plugins!=t.plugins;if(i||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=sr(this);lr(e,this.nodeViews)&&(this.nodeViews=e,r=!0)}(i||t.handleDOMEvents!=this._props.handleDOMEvents)&&Vt(this),this.editable=or(this),rr(this);let s=$n(this),l=nr(this),a=n.plugins==e.plugins||n.doc.eq(e.doc)?e.scrollToSelection>n.scrollToSelection?"to selection":"preserve":"reset",c=r||!this.docView.matchesNode(e.doc,l,s);!c&&e.selection.eq(n.selection)||(o=!0);let u="preserve"==a&&o&&null==this.dom.style.overflowAnchor&&L(this);if(o){this.domObserver.stop();let t=c&&(C||T)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&ir(n.selection,e.selection);if(c){let n=T?this.trackWrites=this.domSelectionRange().focusNode:null;!r&&this.docView.update(e.doc,l,s,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Se(e.doc,l,s,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&ot(this))?Ue(this,t):(Qe(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),"reset"==a?this.dom.scrollTop=0:"to selection"==a?this.scrollToSelection():u&&q(u)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(this.someProp("handleScrollToSelection",e=>e(this)));else if(this.state.selection instanceof r["NodeSelection"]){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&B(this,t.getBoundingClientRect(),e)}else B(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;while(e=this.pluginViews.pop())e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let i=0;i<this.directPlugins.length;i++){let r=this.directPlugins[i].props[e];if(null!=r&&(n=t?t(r):r))return n}let o=this.state.plugins;if(o)for(let i=0;i<o.length;i++){let r=o[i].props[e];if(null!=r&&(n=t?t(r):r))return n}}hasFocus(){if(C){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;while(e&&this.dom!=e&&this.dom.contains(e)){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&U(this.dom),Ue(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t;return e||document}posAtCoords(e){return ee(this,e)}coordsAtPos(e,t=1){return re(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return he(this,t||this.state,e)}destroy(){this.docView&&(Lt(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],$n(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return Wt(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return N&&11===this.root.nodeType&&y(this.dom.ownerDocument)==this.dom?Un(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function nr(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e&&(t.class+=" "+n[e]),"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))}),[Sn.node(0,e.state.doc.content.size,t)]}function rr(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Sn.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function or(e){return!e.someProp("editable",t=>!1===t(e.state))}function ir(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function sr(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function lr(e,t){let n=0,r=0;for(let o in e){if(e[o]!=t[o])return!0;n++}for(let o in t)r++;return n!=r}function ar(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}},7156:function(e,t,n){var r=n("1626"),o=n("861d"),i=n("d2bb");e.exports=function(e,t,n){var s,l;return i&&r(s=t.constructor)&&s!==n&&o(l=s.prototype)&&l!==n.prototype&&i(e,l),e}},"72a8":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d}));var r=n("6ffb"),o=n("b923");class i{constructor(e,t){this.match=e,this.match=e,this.handler="string"==typeof t?s(t):t}}function s(e){return function(t,n,r,o){let i=e;if(n[1]){let e=n[0].lastIndexOf(n[1]);i+=n[0].slice(e+n[1].length),r+=e;let t=r-o;t>0&&(i=n[0].slice(e-t,e)+i,r=o)}return t.tr.insertText(i,r,o)}}const l=500;function a({rules:e}){let t=new r["Plugin"]({state:{init(){return null},apply(e,t){let n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput(n,r,o,i){return c(n,r,o,i,e,t)},handleDOMEvents:{compositionend:n=>{setTimeout(()=>{let{$cursor:r}=n.state.selection;r&&c(n,r.pos,r.pos,"",e,t)})}}},isInputRules:!0});return t}function c(e,t,n,r,o,i){if(e.composing)return!1;let s=e.state,a=s.doc.resolve(t);if(a.parent.type.spec.code)return!1;let c=a.parent.textBetween(Math.max(0,a.parentOffset-l),a.parentOffset,null,"￼")+r;for(let l=0;l<o.length;l++){let a=o[l].match.exec(c),u=a&&o[l].handler(s,a,t-(a[0].length-r.length),n);if(u)return e.dispatch(u.setMeta(i,{transform:u,from:t,to:n,text:r})),!0}return!1}const u=(e,t)=>{let n=e.plugins;for(let r=0;r<n.length;r++){let o,i=n[r];if(i.spec.isInputRules&&(o=i.getState(e))){if(t){let n=e.tr,r=o.transform;for(let e=r.steps.length-1;e>=0;e--)n.step(r.steps[e].invert(r.docs[e]));if(o.text){let t=n.doc.resolve(o.from).marks();n.replaceWith(o.from,o.to,e.schema.text(o.text,t))}else n.delete(o.from,o.to);t(n)}return!0}}return!1};new i(/--$/,"—"),new i(/\.\.\.$/,"…"),new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new i(/"$/,"”"),new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new i(/'$/,"’");function d(e,t,n=null,r){return new i(e,(e,i,s,l)=>{let a=n instanceof Function?n(i):n,c=e.tr.delete(s,l),u=c.doc.resolve(s),d=u.blockRange(),p=d&&Object(o["i"])(d,t,a);if(!p)return null;c.wrap(d,p);let h=c.doc.resolve(s-1).nodeBefore;return h&&h.type==t&&Object(o["f"])(c.doc,s-1)&&(!r||r(i,h))&&c.join(s-1),c})}function p(e,t,n=null){return new i(e,(e,r,o,i)=>{let s=e.doc.resolve(o),l=n instanceof Function?n(r):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t)?e.tr.delete(o,i).setBlockType(o,o,t,l):null})}},"79a1":function(e,t,n){"use strict";n("00d5")},"7eef":function(e,t,n){},"89a9":function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=58)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,l){var a,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(a=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=a):o&&(a=l?function(){o.call(this,this.$root.$options.shadowRoot)}:o),a)if(c.functional){c._injectStyles=a;var u=c.render;c.render=function(e,t){return a.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,a):[a]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},11:function(e,t){e.exports=n("2bb5")},26:function(e,t){e.exports=n("92fa")},42:function(e,t){e.exports=n("c284")},58:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition-group",{class:["el-upload-list","el-upload-list--"+e.listType,{"is-disabled":e.disabled}],attrs:{tag:"ul",name:"el-list"}},e._l(e.files,(function(t){return n("li",{key:t.uid,class:["el-upload-list__item","is-"+t.status,e.focusing?"focusing":""],attrs:{tabindex:"0"},on:{keydown:function(n){if(!("button"in n)&&e._k(n.keyCode,"delete",[8,46],n.key,["Backspace","Delete","Del"]))return null;!e.disabled&&e.$emit("remove",t)},focus:function(t){e.focusing=!0},blur:function(t){e.focusing=!1},click:function(t){e.focusing=!1}}},[e._t("default",["uploading"!==t.status&&["picture-card","picture"].indexOf(e.listType)>-1?n("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:t.url,alt:""}}):e._e(),n("a",{staticClass:"el-upload-list__item-name",on:{click:function(n){e.handleClick(t)}}},[n("i",{staticClass:"el-icon-document"}),e._v(e._s(t.name)+"\n      ")]),n("label",{staticClass:"el-upload-list__item-status-label"},[n("i",{class:{"el-icon-upload-success":!0,"el-icon-circle-check":"text"===e.listType,"el-icon-check":["picture-card","picture"].indexOf(e.listType)>-1}})]),e.disabled?e._e():n("i",{staticClass:"el-icon-close",on:{click:function(n){e.$emit("remove",t)}}}),e.disabled?e._e():n("i",{staticClass:"el-icon-close-tip"},[e._v(e._s(e.t("el.upload.deleteTip")))]),"uploading"===t.status?n("el-progress",{attrs:{type:"picture-card"===e.listType?"circle":"line","stroke-width":"picture-card"===e.listType?6:2,percentage:e.parsePercentage(t.percentage)}}):e._e(),"picture-card"===e.listType?n("span",{staticClass:"el-upload-list__item-actions"},[e.handlePreview&&"picture-card"===e.listType?n("span",{staticClass:"el-upload-list__item-preview",on:{click:function(n){e.handlePreview(t)}}},[n("i",{staticClass:"el-icon-zoom-in"})]):e._e(),e.disabled?e._e():n("span",{staticClass:"el-upload-list__item-delete",on:{click:function(n){e.$emit("remove",t)}}},[n("i",{staticClass:"el-icon-delete"})])]):e._e()],{file:t})],2)})),0)},o=[];r._withStripped=!0;var i=n(6),s=n.n(i),l=n(42),a=n.n(l),c={name:"ElUploadList",mixins:[s.a],data:function(){return{focusing:!1}},components:{ElProgress:a.a},props:{files:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},handlePreview:Function,listType:String},methods:{parsePercentage:function(e){return parseInt(e,10)},handleClick:function(e){this.handlePreview&&this.handlePreview(e)}}},u=c,d=n(0),p=Object(d["a"])(u,r,o,!1,null,null,null);p.options.__file="packages/upload/src/upload-list.vue";var h=p.exports,f=n(26),m=n.n(f);function g(e,t,n){var r=void 0;r=n.response?""+(n.response.error||n.response):n.responseText?""+n.responseText:"fail to post "+e+" "+n.status;var o=new Error(r);return o.status=n.status,o.method="post",o.url=e,o}function v(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(n){return t}}function y(e){if("undefined"!==typeof XMLHttpRequest){var t=new XMLHttpRequest,n=e.action;t.upload&&(t.upload.onprogress=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.onProgress(t)});var r=new FormData;e.data&&Object.keys(e.data).forEach((function(t){r.append(t,e.data[t])})),r.append(e.filename,e.file,e.file.name),t.onerror=function(t){e.onError(t)},t.onload=function(){if(t.status<200||t.status>=300)return e.onError(g(n,e,t));e.onSuccess(v(t))},t.open("post",n,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var o=e.headers||{};for(var i in o)o.hasOwnProperty(i)&&null!==o[i]&&t.setRequestHeader(i,o[i]);return t.send(r),t}}var b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"el-upload-dragger",class:{"is-dragover":e.dragover},on:{drop:function(t){return t.preventDefault(),e.onDrop(t)},dragover:function(t){return t.preventDefault(),e.onDragover(t)},dragleave:function(t){t.preventDefault(),e.dragover=!1}}},[e._t("default")],2)},w=[];b._withStripped=!0;var x={name:"ElUploadDrag",props:{disabled:Boolean},inject:{uploader:{default:""}},data:function(){return{dragover:!1}},methods:{onDragover:function(){this.disabled||(this.dragover=!0)},onDrop:function(e){if(!this.disabled&&this.uploader){var t=this.uploader.accept;this.dragover=!1,t?this.$emit("file",[].slice.call(e.dataTransfer.files).filter((function(e){var n=e.type,r=e.name,o=r.indexOf(".")>-1?"."+r.split(".").pop():"",i=n.replace(/\/.*$/,"");return t.split(",").map((function(e){return e.trim()})).filter((function(e){return e})).some((function(e){return/\..+$/.test(e)?o===e:/\/\*$/.test(e)?i===e.replace(/\/\*$/,""):!!/^[^\/]+\/[^\/]+$/.test(e)&&n===e}))}))):this.$emit("file",e.dataTransfer.files)}}}},k=x,S=Object(d["a"])(k,b,w,!1,null,null,null);S.options.__file="packages/upload/src/upload-dragger.vue";var _,C,O=S.exports,M={inject:["uploader"],components:{UploadDragger:O},props:{type:String,action:{type:String,required:!0},name:{type:String,default:"file"},data:Object,headers:Object,withCredentials:Boolean,multiple:Boolean,accept:String,onStart:Function,onProgress:Function,onSuccess:Function,onError:Function,beforeUpload:Function,drag:Boolean,onPreview:{type:Function,default:function(){}},onRemove:{type:Function,default:function(){}},fileList:Array,autoUpload:Boolean,listType:String,httpRequest:{type:Function,default:y},disabled:Boolean,limit:Number,onExceed:Function},data:function(){return{mouseover:!1,reqs:{}}},methods:{isImage:function(e){return-1!==e.indexOf("image")},handleChange:function(e){var t=e.target.files;t&&this.uploadFiles(t)},uploadFiles:function(e){var t=this;if(this.limit&&this.fileList.length+e.length>this.limit)this.onExceed&&this.onExceed(e,this.fileList);else{var n=Array.prototype.slice.call(e);this.multiple||(n=n.slice(0,1)),0!==n.length&&n.forEach((function(e){t.onStart(e),t.autoUpload&&t.upload(e)}))}},upload:function(e){var t=this;if(this.$refs.input.value=null,!this.beforeUpload)return this.post(e);var n=this.beforeUpload(e);n&&n.then?n.then((function(n){var r=Object.prototype.toString.call(n);if("[object File]"===r||"[object Blob]"===r){for(var o in"[object Blob]"===r&&(n=new File([n],e.name,{type:e.type})),e)e.hasOwnProperty(o)&&(n[o]=e[o]);t.post(n)}else t.post(e)}),(function(){t.onRemove(null,e)})):!1!==n?this.post(e):this.onRemove(null,e)},abort:function(e){var t=this.reqs;if(e){var n=e;e.uid&&(n=e.uid),t[n]&&t[n].abort()}else Object.keys(t).forEach((function(e){t[e]&&t[e].abort(),delete t[e]}))},post:function(e){var t=this,n=e.uid,r={headers:this.headers,withCredentials:this.withCredentials,file:e,data:this.data,filename:this.name,action:this.action,onProgress:function(n){t.onProgress(n,e)},onSuccess:function(r){t.onSuccess(r,e),delete t.reqs[n]},onError:function(r){t.onError(r,e),delete t.reqs[n]}},o=this.httpRequest(r);this.reqs[n]=o,o&&o.then&&o.then(r.onSuccess,r.onError)},handleClick:function(){this.disabled||(this.$refs.input.value=null,this.$refs.input.click())},handleKeydown:function(e){e.target===e.currentTarget&&(13!==e.keyCode&&32!==e.keyCode||this.handleClick())}},render:function(e){var t=this.handleClick,n=this.drag,r=this.name,o=this.handleChange,i=this.multiple,s=this.accept,l=this.listType,a=this.uploadFiles,c=this.disabled,u=this.handleKeydown,d={class:{"el-upload":!0},on:{click:t,keydown:u}};return d.class["el-upload--"+l]=!0,e("div",m()([d,{attrs:{tabindex:"0"}}]),[n?e("upload-dragger",{attrs:{disabled:c},on:{file:a}},[this.$slots.default]):this.$slots.default,e("input",{class:"el-upload__input",attrs:{type:"file",name:r,multiple:i,accept:s},ref:"input",on:{change:o}})])}},E=M,T=Object(d["a"])(E,_,C,!1,null,null,null);T.options.__file="packages/upload/src/upload.vue";var A=T.exports,N=n(11),R=n.n(N);function I(){}var z,j,D={name:"ElUpload",mixins:[R.a],components:{ElProgress:a.a,UploadList:h,Upload:A},provide:function(){return{uploader:this}},inject:{elForm:{default:""}},props:{action:{type:String,required:!0},headers:{type:Object,default:function(){return{}}},data:Object,multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,dragger:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:String,type:{type:String,default:"select"},beforeUpload:Function,beforeRemove:Function,onRemove:{type:Function,default:I},onChange:{type:Function,default:I},onPreview:{type:Function},onSuccess:{type:Function,default:I},onProgress:{type:Function,default:I},onError:{type:Function,default:I},fileList:{type:Array,default:function(){return[]}},autoUpload:{type:Boolean,default:!0},listType:{type:String,default:"text"},httpRequest:Function,disabled:Boolean,limit:Number,onExceed:{type:Function,default:I}},data:function(){return{uploadFiles:[],dragOver:!1,draging:!1,tempIndex:1}},computed:{uploadDisabled:function(){return this.disabled||(this.elForm||{}).disabled}},watch:{listType:function(e){"picture-card"!==e&&"picture"!==e||(this.uploadFiles=this.uploadFiles.map((function(e){if(!e.url&&e.raw)try{e.url=URL.createObjectURL(e.raw)}catch(t){console.error("[Element Error][Upload]",t)}return e})))},fileList:{immediate:!0,handler:function(e){var t=this;this.uploadFiles=e.map((function(e){return e.uid=e.uid||Date.now()+t.tempIndex++,e.status=e.status||"success",e}))}}},methods:{handleStart:function(e){e.uid=Date.now()+this.tempIndex++;var t={status:"ready",name:e.name,size:e.size,percentage:0,uid:e.uid,raw:e};if("picture-card"===this.listType||"picture"===this.listType)try{t.url=URL.createObjectURL(e)}catch(n){return void console.error("[Element Error][Upload]",n)}this.uploadFiles.push(t),this.onChange(t,this.uploadFiles)},handleProgress:function(e,t){var n=this.getFile(t);this.onProgress(e,n,this.uploadFiles),n.status="uploading",n.percentage=e.percent||0},handleSuccess:function(e,t){var n=this.getFile(t);n&&(n.status="success",n.response=e,this.onSuccess(e,n,this.uploadFiles),this.onChange(n,this.uploadFiles))},handleError:function(e,t){var n=this.getFile(t),r=this.uploadFiles;n.status="fail",r.splice(r.indexOf(n),1),this.onError(e,n,this.uploadFiles),this.onChange(n,this.uploadFiles)},handleRemove:function(e,t){var n=this;t&&(e=this.getFile(t));var r=function(){n.abort(e);var t=n.uploadFiles;t.splice(t.indexOf(e),1),n.onRemove(e,t)};if(this.beforeRemove){if("function"===typeof this.beforeRemove){var o=this.beforeRemove(e,this.uploadFiles);o&&o.then?o.then((function(){r()}),I):!1!==o&&r()}}else r()},getFile:function(e){var t=this.uploadFiles,n=void 0;return t.every((function(t){return n=e.uid===t.uid?t:null,!n})),n},abort:function(e){this.$refs["upload-inner"].abort(e)},clearFiles:function(){this.uploadFiles=[]},submit:function(){var e=this;this.uploadFiles.filter((function(e){return"ready"===e.status})).forEach((function(t){e.$refs["upload-inner"].upload(t.raw)}))},getMigratingConfig:function(){return{props:{"default-file-list":"default-file-list is renamed to file-list.","show-upload-list":"show-upload-list is renamed to show-file-list.","thumbnail-mode":"thumbnail-mode has been deprecated, you can implement the same effect according to this case: http://element.eleme.io/#/zh-CN/component/upload#yong-hu-tou-xiang-shang-chuan"}}}},beforeDestroy:function(){this.uploadFiles.forEach((function(e){e.url&&0===e.url.indexOf("blob:")&&URL.revokeObjectURL(e.url)}))},render:function(e){var t=this,n=void 0;this.showFileList&&(n=e(h,{attrs:{disabled:this.uploadDisabled,listType:this.listType,files:this.uploadFiles,handlePreview:this.onPreview},on:{remove:this.handleRemove}},[function(e){if(t.$scopedSlots.file)return t.$scopedSlots.file({file:e.file})}]));var r={props:{type:this.type,drag:this.drag,action:this.action,multiple:this.multiple,"before-upload":this.beforeUpload,"with-credentials":this.withCredentials,headers:this.headers,name:this.name,data:this.data,accept:this.accept,fileList:this.uploadFiles,autoUpload:this.autoUpload,listType:this.listType,disabled:this.uploadDisabled,limit:this.limit,"on-exceed":this.onExceed,"on-start":this.handleStart,"on-progress":this.handleProgress,"on-success":this.handleSuccess,"on-error":this.handleError,"on-preview":this.onPreview,"on-remove":this.handleRemove,"http-request":this.httpRequest},ref:"upload-inner"},o=this.$slots.trigger||this.$slots.default,i=e("upload",r,[o]);return e("div",["picture-card"===this.listType?n:"",this.$slots.trigger?[i,this.$slots.default]:i,this.$slots.tip,"picture-card"!==this.listType?n:""])}},P=D,$=Object(d["a"])(P,z,j,!1,null,null,null);$.options.__file="packages/upload/src/index.vue";var F=$.exports;F.install=function(e){e.component(F.name,F)};t["default"]=F},6:function(e,t){e.exports=n("6b7c")}})},"986d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("6ffb"),o=n("6f27"),i=n("fc88"),s=function(e){return function(t){var n=L(e)(t.selection);return n?S(n.pos)(t):t}},l=function(e,t){return function(n){Array.isArray(e)||(e=[e]);for(var r=0,o=e.length;r<o;r++){var i=L(e[r])(n.selection);if(i){var s=x(i.pos,t)(n);if(s!==n)return s}}return n}},a=function(e){if(y(e.selection)){var t=e.selection.$from.pos,n=e.selection.$to.pos;return w(e.delete(t,n))}return e},c=function(e){return function(t){if(y(t.selection)){var n=t.selection,i=n.$from,s=n.$to;if(e instanceof o.Fragment&&i.parent.canReplace(i.index(),i.indexAfter(),e)||i.parent.canReplaceWith(i.index(),i.indexAfter(),e.type))return w(t.replaceWith(i.pos,s.pos,e).setSelection(new r.NodeSelection(t.doc.resolve(i.pos))))}return t}},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){var o=r.Selection.findFrom(n.doc.resolve(e),t,!0);return o?n.setSelection(o):n}},d=function(e){return e.type&&e.type.spec.selectable},p=function(e){return d(e)&&e.type.isLeaf},h=function(e,t,n){return p(e)?n.setSelection(new r.NodeSelection(n.doc.resolve(t))):u(t)(n)},f=function(e,t,n){return function(r){var o="number"===typeof t,i=r.selection.$from,s=o?r.doc.resolve(t):y(r.selection)?r.doc.resolve(i.pos+1):i,a=s.parent;if(y(r.selection)&&n){var u=r;if(r=c(e)(r),u!==r)return r}if(O(a)){var p=r;if(r=l(a.type,e)(r),p!==r){var f=d(e)?s.before(s.depth):s.pos;return h(e,f,r)}}if(C(s,e)){r.insert(s.pos,e);var m=o?s.pos:d(e)?r.selection.$anchor.pos-1:r.selection.$anchor.pos;return w(h(e,m,r))}for(var g=s.depth;g>0;g--){var v=s.after(g),b=r.doc.resolve(v);if(C(b,e))return r.insert(v,e),w(h(e,v,r))}return r}},m=function(e,t,n,r){return function(o){var i=L(e)(o.selection);return i?w(o.setNodeMarkup(i.pos,t,Object.assign({},i.node.attrs,n),r)):o}},g=function(e){return function(t){if(!y(t.selection)){var n=L(e)(t.selection);if(n)return w(t.setSelection(r.NodeSelection.create(t.doc,n.pos)))}return t}},v=function(e){var t=U(e.selection);return"number"===typeof t?S(t)(e):e},y=function(e){return e instanceof r.NodeSelection},b=function(e,t){return Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e},w=function(e){return Object.assign(Object.create(e),e).setTime(Date.now())},x=function(e,t){return function(n){var r=n.doc.nodeAt(e),o=n.doc.resolve(e);if(k(o,t)){n=n.replaceWith(e,e+r.nodeSize,t);var i=n.selection.$from.pos-1;return n=u(Math.max(i,0),-1)(n),n=u(n.selection.$from.start())(n),w(n)}return n}},k=function(e,t){var n=e.node(e.depth);return n&&n.type.validContent(t instanceof o.Fragment?t:o.Fragment.from(t))},S=function(e){return function(t){var n=t.doc.nodeAt(e);return w(t.delete(e,e+n.nodeSize))}},_=function(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;var t={};return Object.keys(e.nodes).forEach((function(n){var r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)})),e.cached.tableNodeTypes=t,t},C=function(e,t){var n=e.index();return t instanceof o.Fragment?e.parent.canReplace(n,n,t):t instanceof o.Node&&e.parent.canReplaceWith(n,n,t.type)},O=function(e){return!e||"paragraph"===e.type.name&&2===e.nodeSize},M=function(e){var t=function(e){return e.type.spec.tableRole&&/table/i.test(e.type.spec.tableRole)};return $(e,t)},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?e.createChecked(null,t):e.createAndFill()},T=function(e){return function(t){for(var n=i.TableMap.get(t.$anchorCell.node(-1)),r=t.$anchorCell.start(-1),o=n.cellsInRect(e),s=n.cellsInRect(n.rectBetween(t.$anchorCell.pos-r,t.$headCell.pos-r)),l=0,a=o.length;l<a;l++)if(-1===s.indexOf(o[l]))return!1;return!0}},A=function(e){return e[0].map((function(t,n){return e.map((function(e){return e[n]}))}))},N=function(e){for(var t=i.TableMap.get(e),n=[],r=0;r<t.height;r++){for(var o=[],s={},l=0;l<t.width;l++){var a=t.map[r*t.width+l],c=e.nodeAt(a),u=t.findCell(a);s[a]||u.top!==r?o.push(null):(s[a]=!0,o.push(c))}n.push(o)}return n},R=function(e,t){for(var n=[],r=i.TableMap.get(e),o=0;o<r.height;o++){for(var s=e.child(o),l=[],a=0;a<r.width;a++)if(t[o][a]){var c=r.map[o*r.width+a],u=t[o][a],d=e.nodeAt(c),p=d.type.createChecked(Object.assign({},u.attrs),u.content,u.marks);l.push(p)}n.push(s.type.createChecked(s.attrs,l,s.marks))}var h=e.type.createChecked(e.attrs,n,e.marks);return h},I=function(e,t,n,r){var o=A(N(e.node));return o=j(o,t,n,r),o=A(o),R(e.node,o)},z=function(e,t,n,r){var o=N(e.node);return o=j(o,t,n,r),R(e.node,o)},j=function(e,t,n,r){var o=t[0]>n[0]?-1:1,i=e.splice(t[0],t.length),s=i.length%2===0?1:0,l=void 0;return l=-1===r&&1===o?n[0]-1:1===r&&-1===o?n[n.length-1]-s+1:-1===o?n[0]:n[n.length-1]-s,e.splice.apply(e,[l,0].concat(i)),e},D=function(e,t,n,r){var o=e>t?-1:1,i="Target position is invalid, you can't move the "+r+" "+e+" to "+t+", the target can't be split. You could use tryToFit option.";if(1===o){if(-1!==n.slice(0,n.length-1).indexOf(t))throw new Error(i)}else if(-1!==n.slice(1).indexOf(t))throw new Error(i);return!0},P=function(e){return function(t){var n=t.$from;return $(n,e)}},$=function(e,t){for(var n=e.depth;n>0;n--){var r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}},F=function(e,t){return function(n){var r=P(e)(n);if(r)return J(r.pos,t)}},B=function(e){return function(t){return!!P(e)(t)}},L=function(e){return function(t){return P((function(t){return b(e,t)}))(t)}},V=function(e,t){return $(e,(function(e){return b(t,e)}))},q=function(e){return function(t){return B((function(t){return b(e,t)}))(t)}},H=function(e,t){return function(n){return F((function(t){return b(e,t)}),t)(n)}},W=function(e){return function(t){if(y(t)){var n=t.node,r=t.$from;if(b(e,n))return{node:n,pos:r.pos,depth:r.depth}}}},U=function(e){var t=e.$from.nodeBefore,n=r.Selection.findFrom(e.$from,-1);if(n&&t){var o=L(t.type)(n);return o?o.pos:n.$from.pos}},J=function(e,t){var n=t(e),r=n.node.childNodes[n.offset];return n.node.nodeType===Node.TEXT_NODE?n.node.parentNode:r&&r.nodeType!==Node.TEXT_NODE?r:n.node},K=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)throw new Error('Invalid "node" parameter');var n=[];return e.descendants((function(e,r){if(n.push({node:e,pos:r}),!t)return!1})),n},G=function(e,t,n){if(!e)throw new Error('Invalid "node" parameter');if(!t)throw new Error('Invalid "predicate" parameter');return K(e,n).filter((function(e){return t(e.node)}))},X=function(e,t){return G(e,(function(e){return e.isText}),t)},Z=function(e,t){return G(e,(function(e){return e.isInline}),t)},Y=function(e,t){return G(e,(function(e){return e.isBlock}),t)},Q=function(e,t,n){return G(e,(function(e){return!!t(e.attrs)}),n)},ee=function(e,t,n){return G(e,(function(e){return e.type===t}),n)},te=function(e,t,n){return G(e,(function(e){return t.isInSet(e.marks)}),n)},ne=function(e,t){return!!ee(e,t).length};function re(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var oe=function(e){return P((function(e){return e.type.spec.tableRole&&"table"===e.type.spec.tableRole}))(e)},ie=function(e){return e instanceof i.CellSelection},se=function(e){if(ie(e)){var t=e.$anchorCell.start(-1),n=i.TableMap.get(e.$anchorCell.node(-1));return n.rectBetween(e.$anchorCell.pos-t,e.$headCell.pos-t)}},le=function(e){return function(t){if(ie(t)){var n=i.TableMap.get(t.$anchorCell.node(-1));return T({left:e,right:e+1,top:0,bottom:n.height})(t)}return!1}},ae=function(e){return function(t){if(ie(t)){var n=i.TableMap.get(t.$anchorCell.node(-1));return T({left:0,right:n.width,top:e,bottom:e+1})(t)}return!1}},ce=function(e){if(ie(e)){var t=i.TableMap.get(e.$anchorCell.node(-1));return T({left:0,right:t.width,top:0,bottom:t.height})(e)}return!1},ue=function(e){return function(t){var n=oe(t);if(n){var r=i.TableMap.get(n.node),o=Array.isArray(e)?e:Array.from([e]);return o.reduce((function(e,t){if(t>=0&&t<=r.width-1){var o=r.cellsInRect({left:t,right:t+1,top:0,bottom:r.height});return e.concat(o.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t}})))}}),[])}}},de=function(e){return function(t){var n=oe(t);if(n){var r=i.TableMap.get(n.node),o=Array.isArray(e)?e:Array.from([e]);return o.reduce((function(e,t){if(t>=0&&t<=r.height-1){var o=r.cellsInRect({left:0,right:r.width,top:t,bottom:t+1});return e.concat(o.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t}})))}}),[])}}},pe=function(e){var t=oe(e);if(t){var n=i.TableMap.get(t.node),r=n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height});return r.map((function(e){var n=t.node.nodeAt(e),r=e+t.start;return{pos:r,start:r+1,node:n}}))}},he=function(e){return function(t,n){return function(r){var o=oe(r.selection),s="row"===e;if(o){var l=i.TableMap.get(o.node);if(t>=0&&t<(s?l.height:l.width)){var a=s?0:t,c=s?t:0,u=s?l.width:t+1,d=s?t+1:l.height;if(n){var p=ze(r.selection.$from);if(!p)return r;var h=l.findCell(p.pos-o.start);s?(c=Math.min(c,h.top),d=Math.max(d,h.bottom)):(a=Math.min(a,h.left),u=Math.max(u,h.right))}var f=l.cellsInRect({left:a,top:c,right:s?u:a+1,bottom:s?c+1:d}),m=d-c===1?f:l.cellsInRect({left:s?a:u-1,top:s?d-1:c,right:u,bottom:d}),g=o.start+f[0],v=o.start+m[m.length-1],y=r.doc.resolve(g),b=r.doc.resolve(v);return w(r.setSelection(new i.CellSelection(b,y)))}}return r}}},fe=he("column"),me=he("row"),ge=function(e){var t=oe(e.selection);if(t){var n=i.TableMap.get(t.node),r=n.map;if(r&&r.length){var o=t.start+r[0],s=t.start+r[r.length-1],l=e.doc.resolve(o),a=e.doc.resolve(s);return w(e.setSelection(new i.CellSelection(a,l)))}}return e},ve=function(e,t){return function(n){if(e){var r=_(t).cell.createAndFill(),o=r.content;if(!e.node.content.eq(o))return n.replaceWith(e.pos+1,e.pos+e.node.nodeSize,o),w(n)}return n}},ye=function(e){return function(t){var n=oe(t.selection);if(n){var r=i.TableMap.get(n.node);if(e>=0&&e<=r.width)return w(i.addColumn(t,{map:r,tableStart:n.start,table:n.node},e))}return t}},be=function(e,t,n){return function(r){var o={tryToFit:!1,direction:0},i=Object.assign(o,n),s=oe(r.selection);if(!s)return r;var l=$e(e)(r),a=l.indexes,c=$e(t)(r),u=c.indexes;if(a.indexOf(t)>-1)return r;!i.tryToFit&&u.length>1&&D(e,t,u,"row");var d=z(s,a,u,i.direction);return w(r).replaceWith(s.pos,s.pos+s.node.nodeSize,d)}},we=function(e,t,n){return function(r){var o={tryToFit:!1,direction:0},i=Object.assign(o,n),s=oe(r.selection);if(!s)return r;var l=Pe(e)(r),a=l.indexes,c=Pe(t)(r),u=c.indexes;if(a.indexOf(t)>-1)return r;!i.tryToFit&&u.length>1&&D(e,t,u,"column");var d=I(s,a,u,i.direction);return w(r).replaceWith(s.pos,s.pos+s.node.nodeSize,d)}},xe=function(e,t){return function(n){var r=oe(n.selection);if(r){var o=i.TableMap.get(r.node),s=e-1;if(t&&s>=0)return w(ke(s)(n));if(e>=0&&e<=o.height)return w(i.addRow(n,{map:o,tableStart:r.start,table:r.node},e))}return n}},ke=function(e){return function(t){var n=oe(t.selection);if(n){var r=i.TableMap.get(n.node);if(e>=0&&e<=r.height){for(var o=n.node,s=_(o.type.schema),l=n.start,a=0;a<e+1;a++)l+=o.child(a).nodeSize;var c=o.child(e),u=[],d=0;if(c.forEach((function(e){1===e.attrs.rowspan&&(d+=e.attrs.colspan,u.push(s[e.type.spec.tableRole].createAndFill(e.attrs,e.marks)))})),d<r.width){for(var p=[],h=function(n){var r=De(n,(function(t,r){var o=t.node.attrs.rowspan,i=n+o;return o>1&&i>e}))(t);p.push.apply(p,re(r))},m=e;m>=0;m--)h(m);p.length&&p.forEach((function(e){t=Re(e,{rowspan:e.node.attrs.rowspan+1})(t)}))}return f(s.row.create(c.attrs,u),l)(t)}}return t}},Se=function(e){return function(t){var n=oe(t.selection);if(n){var r=i.TableMap.get(n.node);if(0===e&&1===r.width)return Ce(t);if(e>=0&&e<=r.width)return i.removeColumn(t,{map:r,tableStart:n.start,table:n.node},e),w(t)}return t}},_e=function(e){return function(t){var n=oe(t.selection);if(n){var r=i.TableMap.get(n.node);if(0===e&&1===r.height)return Ce(t);if(e>=0&&e<=r.height)return i.removeRow(t,{map:r,tableStart:n.start,table:n.node},e),w(t)}return t}},Ce=function(e){for(var t=e.selection.$from,n=t.depth;n>0;n--){var r=t.node(n);if("table"===r.type.spec.tableRole)return w(e.delete(t.before(n),t.after(n)))}return e},Oe=function(e){var t=e.selection;if(ce(t))return Ce(e);if(ie(t)){var n=oe(t);if(n){var r=i.TableMap.get(n.node),o=r.rectBetween(t.$anchorCell.pos-n.start,t.$headCell.pos-n.start);if(0==o.left&&o.right==r.width)return!1;for(var s=Object.assign({},o,{map:r,table:n.node,tableStart:n.start}),l=s.right-1;;l--){if(i.removeColumn(e,s,l),l===s.left)break;s.table=s.tableStart?e.doc.nodeAt(s.tableStart-1):e.doc,s.map=i.TableMap.get(s.table)}return w(e)}}return e},Me=function(e){var t=e.selection;if(ce(t))return Ce(e);if(ie(t)){var n=oe(t);if(n){var r=i.TableMap.get(n.node),o=r.rectBetween(t.$anchorCell.pos-n.start,t.$headCell.pos-n.start);if(0==o.top&&o.bottom==r.height)return!1;for(var s=Object.assign({},o,{map:r,table:n.node,tableStart:n.start}),l=s.bottom-1;;l--){if(i.removeRow(e,s,l),l===s.top)break;s.table=s.tableStart?e.doc.nodeAt(s.tableStart-1):e.doc,s.map=i.TableMap.get(s.table)}return w(e)}}return e},Ee=function(e){return function(t){var n=je(e);return n?Se(n.left)(u(e.pos)(t)):t}},Te=function(e){return function(t){var n=je(e);return n?_e(n.top)(u(e.pos)(t)):t}},Ae=function(e,t,n){return function(o){var i=ue(e)(o.selection);if(i){for(var s=i.length-1;s>=0;s--)o=t(i[s],o);if(n){var l=o.doc.resolve(o.mapping.map(i[i.length-1].pos));o.setSelection(r.Selection.near(l))}return w(o)}return o}},Ne=function(e,t,n){return function(o){var i=de(e)(o.selection);if(i){for(var s=i.length-1;s>=0;s--)o=t(i[s],o);if(n){var l=o.doc.resolve(o.mapping.map(i[i.length-1].pos));o.setSelection(r.Selection.near(l))}}return o}},Re=function(e,t){return function(n){return e?(n.setNodeMarkup(e.pos,null,Object.assign({},e.node.attrs,t)),w(n)):n}},Ie=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=_(e),s=i.cell,l=i.header_cell,a=i.row,c=i.table,u=[],d=[],p=0;p<n;p++)u.push(E(s,o)),r&&d.push(E(l,o));for(var h=[],f=0;f<t;f++)h.push(a.createChecked(null,r&&0===f?d:u));return c.createChecked(null,h)},ze=function(e){var t=function(e){return e.type.spec.tableRole&&/cell/i.test(e.type.spec.tableRole)};return $(e,t)},je=function(e){var t=ze(e);if(t){var n=M(e),r=i.TableMap.get(n.node),o=t.pos-n.start;return r.rectBetween(o,o)}},De=function(e,t){return function(n){var r=[],o=de(e)(n.selection);if(o)for(var i=o.length-1;i>=0;i--)t(o[i],n)&&r.push(o[i]);return r}},Pe=function(e){return function(t){for(var n=e,r=e,o=function(e){var o=ue(e)(t.selection);o&&o.forEach((function(t){var o=t.node.attrs.colspan+e-1;o>=n&&(n=e),o>r&&(r=o)}))},i=e;i>=0;i--)o(i);var s=function(e){var n=ue(e)(t.selection);n&&n.forEach((function(t){var n=t.node.attrs.colspan+e-1;t.node.attrs.colspan>1&&n>r&&(r=n)}))};for(i=e;i<=r;i++)s(i);var l=[];for(i=n;i<=r;i++){var a=ue(i)(t.selection);a&&a.length&&l.push(i)}n=l[0],r=l[l.length-1];for(var c=ue(n)(t.selection),u=de(0)(t.selection),d=t.doc.resolve(c[c.length-1].pos),p=void 0,h=r;h>=n;h--){var f=ue(h)(t.selection);if(f&&f.length){for(var m=u.length-1;m>=0;m--)if(u[m].pos===f[0].pos){p=f[0];break}if(p)break}}var g=t.doc.resolve(p.pos);return{$anchor:d,$head:g,indexes:l}}},$e=function(e){return function(t){for(var n=e,r=e,o=function(e){var o=de(e)(t.selection);o.forEach((function(t){var o=t.node.attrs.rowspan+e-1;o>=n&&(n=e),o>r&&(r=o)}))},i=e;i>=0;i--)o(i);var s=function(e){var n=de(e)(t.selection);n.forEach((function(t){var n=t.node.attrs.rowspan+e-1;t.node.attrs.rowspan>1&&n>r&&(r=n)}))};for(i=e;i<=r;i++)s(i);var l=[];for(i=n;i<=r;i++){var a=de(i)(t.selection);a&&a.length&&l.push(i)}n=l[0],r=l[l.length-1];for(var c=de(n)(t.selection),u=ue(0)(t.selection),d=t.doc.resolve(c[c.length-1].pos),p=void 0,h=r;h>=n;h--){var f=de(h)(t.selection);if(f&&f.length){for(var m=u.length-1;m>=0;m--)if(u[m].pos===f[0].pos){p=f[0];break}if(p)break}}var g=t.doc.resolve(p.pos);return{$anchor:d,$head:g,indexes:l}}};t.isNodeSelection=y,t.canInsert=C,t.convertTableNodeToArrayOfRows=N,t.convertArrayOfRowsToTableNode=R,t.findParentNode=P,t.findParentNodeClosestToPos=$,t.findParentDomRef=F,t.hasParentNode=B,t.findParentNodeOfType=L,t.findParentNodeOfTypeClosestToPos=V,t.hasParentNodeOfType=q,t.findParentDomRefOfType=H,t.findSelectedNodeOfType=W,t.findPositionOfNodeBefore=U,t.findDomRefAtPos=J,t.flatten=K,t.findChildren=G,t.findTextNodes=X,t.findInlineNodes=Z,t.findBlockNodes=Y,t.findChildrenByAttr=Q,t.findChildrenByType=ee,t.findChildrenByMark=te,t.contains=ne,t.findTable=oe,t.isCellSelection=ie,t.getSelectionRect=se,t.isColumnSelected=le,t.isRowSelected=ae,t.isTableSelected=ce,t.getCellsInColumn=ue,t.getCellsInRow=de,t.getCellsInTable=pe,t.selectColumn=fe,t.selectRow=me,t.selectTable=ge,t.emptyCell=ve,t.addColumnAt=ye,t.moveRow=be,t.moveColumn=we,t.addRowAt=xe,t.cloneRowAt=ke,t.removeColumnAt=Se,t.removeRowAt=_e,t.removeTable=Ce,t.removeSelectedColumns=Oe,t.removeSelectedRows=Me,t.removeColumnClosestToPos=Ee,t.removeRowClosestToPos=Te,t.forEachCellInColumn=Ae,t.forEachCellInRow=Ne,t.setCellAttrs=Re,t.createTable=Ie,t.findCellClosestToPos=ze,t.findCellRectClosestToPos=je,t.getSelectionRangeInColumn=Pe,t.getSelectionRangeInRow=$e,t.removeParentNodeOfType=s,t.replaceParentNodeOfType=l,t.removeSelectedNode=a,t.replaceSelectedNode=c,t.setTextSelection=u,t.safeInsert=f,t.setParentNodeMarkup=m,t.selectParentNodeOfType=g,t.removeNodeBefore=v},a15f:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return w}));var r=n("6ffb");
/*!
    * tiptap-utils v1.13.0
    * (c) 2021 überdosis GbR (limited liability)
    * @license MIT
    */function o(e,t){return t?e.createChecked(null,t):e.createAndFill()}function i(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach(n=>{const r=e.nodes[n];r.spec.tableRole&&(t[r.spec.tableRole]=r)}),e.cached.tableNodeTypes=t,t}function s(e,t,n,r,s){const l=i(e),a=[],c=[];for(let i=0;i<n;i+=1){const e=o(l.cell,s);if(e&&c.push(e),r){const e=o(l.header_cell,s);e&&a.push(e)}}const u=[];for(let o=0;o<t;o+=1)u.push(l.row.createChecked(null,r&&0===o?a:c));return l.table.createChecked(null,u)}function l(e,t){return Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e}function a(e){const t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)throw new Error('Invalid "node" parameter');const n=[];return e.descendants((e,r)=>{if(n.push({node:e,pos:r}),!t)return!1}),n}function c(e,t,n){if(!e)throw new Error('Invalid "node" parameter');if(!t)throw new Error('Invalid "predicate" parameter');return a(e,n).filter(e=>t(e.node))}function u(e,t){return c(e,e=>e.isBlock,t)}function d(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function p(e){return t=>d(t.$from,e)}function h(e){return e instanceof r["NodeSelection"]}function f(e){return function(t){if(h(t)){const{node:n}=t,{$from:r}=t;if(l(e,n))return{node:n,pos:r.pos,depth:r.depth}}}}function m(e,t){const{from:n,to:r}=e.selection;let o=[];e.doc.nodesBetween(n,r,e=>{o=[...o,...e.marks]});const i=o.find(e=>e.type.name===t.name);return i?i.attrs:{}}function g(e=null,t=null){if(!e||!t)return!1;const n=e.parent.childAfter(e.parentOffset);if(!n.node)return!1;const r=n.node.marks.find(e=>e.type===t);if(!r)return!1;let o=e.index(),i=e.start()+n.offset,s=o+1,l=i+n.node.nodeSize;while(o>0&&r.isInSet(e.parent.child(o-1).marks))o-=1,i-=e.parent.child(o).nodeSize;while(s<e.parent.childCount&&r.isInSet(e.parent.child(s).marks))l+=e.parent.child(s).nodeSize,s+=1;return{from:i,to:l}}function v(e,t){const{from:n,to:r}=e.selection;let o=[];e.doc.nodesBetween(n,r,e=>{o=[...o,e]});const i=o.reverse().find(e=>e.type.name===t.name);return i?i.attrs:{}}function y(e,t){const{from:n,$from:r,to:o,empty:i}=e.selection;return i?!!t.isInSet(e.storedMarks||r.marks()):!!e.doc.rangeHasMark(n,o,t)}function b({types:e,node:t}){return Array.isArray(e)&&e.includes(t.type)||t.type===e}function w(e,t,n={}){const r=e=>e.type===t,o=f(t)(e.selection)||p(r)(e.selection);return Object.keys(n).length&&o?o.node.hasMarkup(t,{...o.node.attrs,...n}):!!o}},a9de:function(e,t,n){"use strict";n.d(t,"a",(function(){return r["b"]})),n.d(t,"b",(function(){return r["c"]})),n.d(t,"k",(function(){return r["e"]})),n.d(t,"r",(function(){return r["f"]})),n.d(t,"d",(function(){return u})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return c})),n.d(t,"o",(function(){return f["c"]})),n.d(t,"u",(function(){return f["e"]})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return x})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return S})),n.d(t,"n",(function(){return C})),n.d(t,"p",(function(){return O})),n.d(t,"q",(function(){return E})),n.d(t,"s",(function(){return T})),n.d(t,"t",(function(){return A}));var r=n("442c"),o=n("b923"),i=n("6f27"),s=n("6ffb");function l(e,t=null){return function(n,r){let{$from:s,$to:l}=n.selection,c=s.blockRange(l),u=!1,d=c;if(!c)return!1;if(c.depth>=2&&s.node(c.depth-1).type.compatibleContent(e)&&0==c.startIndex){if(0==s.index(c.depth-1))return!1;let e=n.doc.resolve(c.start-2);d=new i["NodeRange"](e,e,c.depth),c.endIndex<c.parent.childCount&&(c=new i["NodeRange"](s,n.doc.resolve(l.end(c.depth)),c.depth)),u=!0}let p=Object(o["i"])(d,e,t,c);return!!p&&(r&&r(a(n.tr,c,p,u,e).scrollIntoView()),!0)}}function a(e,t,n,r,s){let l=i["Fragment"].empty;for(let o=n.length-1;o>=0;o--)l=i["Fragment"].from(n[o].type.create(n[o].attrs,l));e.step(new o["b"](t.start-(r?2:0),t.end,t.start,t.end,new i["Slice"](l,0,0),n.length,!0));let a=0;for(let o=0;o<n.length;o++)n[o].type==s&&(a=o+1);let c=n.length-a,u=t.start+n.length-(r?2:0),d=t.parent;for(let i=t.startIndex,p=t.endIndex,h=!0;i<p;i++,h=!1)!h&&Object(o["g"])(e.doc,u,c)&&(e.split(u,c),u+=2*c),u+=d.child(i).nodeSize;return e}function c(e){return function(t,n){let{$from:r,$to:l,node:a}=t.selection;if(a&&a.isBlock||r.depth<2||!r.sameParent(l))return!1;let c=r.node(-1);if(c.type!=e)return!1;if(0==r.parent.content.size&&r.node(-1).childCount==r.indexAfter(-1)){if(3==r.depth||r.node(-3).type!=e||r.index(-2)!=r.node(-2).childCount-1)return!1;if(n){let o=i["Fragment"].empty,l=r.index(-1)?1:r.index(-2)?2:3;for(let e=r.depth-l;e>=r.depth-3;e--)o=i["Fragment"].from(r.node(e).copy(o));let a=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;o=o.append(i["Fragment"].from(e.createAndFill()));let c=r.before(r.depth-(l-1)),u=t.tr.replace(c,r.after(-a),new i["Slice"](o,4-l,0)),d=-1;u.doc.nodesBetween(c,u.doc.content.size,(e,t)=>{if(d>-1)return!1;e.isTextblock&&0==e.content.size&&(d=t+1)}),d>-1&&u.setSelection(s["Selection"].near(u.doc.resolve(d))),n(u.scrollIntoView())}return!0}let u=l.pos==r.end()?c.contentMatchAt(0).defaultType:null,d=t.tr.delete(r.pos,l.pos),p=u?[null,{type:u}]:void 0;return!!Object(o["g"])(d.doc,r.pos,2,p)&&(n&&n(d.split(r.pos,2,p).scrollIntoView()),!0)}}function u(e){return function(t,n){let{$from:r,$to:o}=t.selection,i=r.blockRange(o,t=>t.childCount>0&&t.firstChild.type==e);return!!i&&(!n||(r.node(i.depth-1).type==e?d(t,n,e,i):p(t,n,i)))}}function d(e,t,n,r){let s=e.tr,l=r.end,a=r.$to.end(r.depth);l<a&&(s.step(new o["b"](l-1,a,l,a,new i["Slice"](i["Fragment"].from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new i["NodeRange"](s.doc.resolve(r.$from.pos),s.doc.resolve(a),r.depth));const c=Object(o["k"])(r);if(null==c)return!1;s.lift(r,c);let u=s.mapping.map(l,-1)-1;return Object(o["f"])(s.doc,u)&&s.join(u),t(s.scrollIntoView()),!0}function p(e,t,n){let r=e.tr,s=n.parent;for(let o=n.end,i=n.endIndex-1,m=n.startIndex;i>m;i--)o-=s.child(i).nodeSize,r.delete(o-1,o+1);let l=r.doc.resolve(n.start),a=l.nodeAfter;if(r.mapping.map(n.end)!=n.start+l.nodeAfter.nodeSize)return!1;let c=0==n.startIndex,u=n.endIndex==s.childCount,d=l.node(-1),p=l.index(-1);if(!d.canReplace(p+(c?0:1),p+1,a.content.append(u?i["Fragment"].empty:i["Fragment"].from(s))))return!1;let h=l.pos,f=h+a.nodeSize;return r.step(new o["b"](h-(c?1:0),f+(u?1:0),h+1,f-1,new i["Slice"]((c?i["Fragment"].empty:i["Fragment"].from(s.copy(i["Fragment"].empty))).append(u?i["Fragment"].empty:i["Fragment"].from(s.copy(i["Fragment"].empty))),c?0:1,u?0:1),c?0:1)),t(r.scrollIntoView()),!0}function h(e){return function(t,n){let{$from:r,$to:s}=t.selection,l=r.blockRange(s,t=>t.childCount>0&&t.firstChild.type==e);if(!l)return!1;let a=l.startIndex;if(0==a)return!1;let c=l.parent,u=c.child(a-1);if(u.type!=e)return!1;if(n){let r=u.lastChild&&u.lastChild.type==c.type,s=i["Fragment"].from(r?e.create():null),a=new i["Slice"](i["Fragment"].from(e.create(null,i["Fragment"].from(c.type.create(null,s)))),r?3:1,0),d=l.start,p=l.end;n(t.tr.step(new o["b"](d-(r?3:1),p,d,p,a,1,!0)).scrollIntoView())}return!0}}var f=n("72a8"),m=n("a15f");
/*!
    * tiptap-commands v1.17.0
    * (c) 2021 überdosis GbR (limited liability)
    * @license MIT
    */
function g(e=""){return(t,n)=>{const{$from:r}=t.selection,{pos:o}=r.pos;return n(t.tr.insertText(e,o)),!0}}function v(e,t,n){let r=[];return n.doc.nodesBetween(e,t,(e,t)=>{r=[...r,...e.marks.map(n=>({start:t,end:t+e.nodeSize,mark:n}))]}),r}function y(e,t,n){return new f["a"](e,(e,r,o,i)=>{const s=n instanceof Function?n(r):n,{tr:l}=e,a=r.length-1;let c=i,u=o;if(r[a]){const n=o+r[0].indexOf(r[a-1]),s=n+r[a-1].length-1,d=n+r[a-1].lastIndexOf(r[a]),p=d+r[a].length,h=v(o,i,e).filter(e=>{const{excluded:n}=e.mark.type;return n.find(e=>e.name===t.name)}).filter(e=>e.end>n);if(h.length)return!1;p<s&&l.delete(p,s),d>n&&l.delete(n,d),u=n,c=u+r[a].length}return l.addMark(u,c,t.create(s)),l.removeStoredMark(t),l})}function b(e,t,n){return new f["a"](e,(e,r,o,i)=>{const s=n instanceof Function?n(r):n,{tr:l}=e;return r[0]&&l.replaceWith(o-1,i,t.create(s)),l})}function w(e,t,n){const r=o=>{const s=[];return o.forEach(o=>{if(o.isText){const{text:r}=o;let i,l=0;do{if(i=e.exec(r),i){const e=i.index,r=e+i[0].length,a=n instanceof Function?n(i[0]):n;e>0&&s.push(o.cut(l,e)),s.push(o.cut(e,r).mark(t.create(a).addToSet(o.marks))),l=r}}while(i);l<r.length&&s.push(o.cut(l))}else s.push(o.copy(r(o.content)))}),i["Fragment"].fromArray(s)};return new s["Plugin"]({props:{transformPasted:e=>new i["Slice"](r(e.content),e.openStart,e.openEnd)}})}function x(e,t,n){const r=(o,s)=>{const l=[];return o.forEach(o=>{if(o.isText){const{text:r,marks:i}=o;let a,c=0;const u=!!i.filter(e=>"link"===e.type.name)[0];while(!u&&null!==(a=e.exec(r)))if(s&&s.type.allowsMarkType(t)&&a[1]){const e=a.index,r=e+a[0].length,i=e+a[0].indexOf(a[1]),s=i+a[1].length,u=n instanceof Function?n(a):n;e>0&&l.push(o.cut(c,e)),l.push(o.cut(i,s).mark(t.create(u).addToSet(o.marks))),c=r}c<r.length&&l.push(o.cut(c))}else l.push(o.copy(r(o.content,o)))}),i["Fragment"].fromArray(l)};return new s["Plugin"]({props:{transformPasted:e=>new i["Slice"](r(e.content),e.openStart,e.openEnd)}})}function k(e){return(t,n)=>{const{tr:r,selection:o}=t;let{from:i,to:s}=o;const{$from:l,empty:a}=o;if(a){const t=Object(m["e"])(l,e);i=t.from,s=t.to}return r.removeMark(i,s,e),n(r)}}function S(e=null,t,n={},r=i["Fragment"].empty){return(o,i)=>{const{$from:s,$to:l}=o.selection,a=s.index(),c=e?e.from:s.pos,u=e?e.to:l.pos;return!!s.parent.canReplaceWith(a,a,t)&&(i&&i(o.tr.replaceWith(c,u,t.create(n,r))),!0)}}function _(e,t,n=1,r){const o=e.resolve(t),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,u=n-2;c>i;c--,u--){const e=o.node(c),t=o.index(c);if(e.type.spec.isolating)return!1;let n=e.content.cutByIndex(t,e.childCount);const i=r&&r[u]||e;if(i!=e&&(n=n.replaceChild(0,i.type.create(i.attrs))),!e.canReplace(t+1,e.childCount))return!1}const l=o.indexAfter(i),a=r&&r[0];return o.node(i).canReplaceWith(l,l,a?a.type:o.node(i+1).type)}function C(e){return function(t,n){const{$from:r,$to:o,node:s}=t.selection;if(s&&s.isBlock||r.depth<2||!r.sameParent(o))return!1;const l=r.node(-1);if(l.type!=e)return!1;if(0==r.parent.content.size){if(2==r.depth||r.node(-3).type!=e||r.index(-2)!=r.node(-2).childCount-1)return!1;if(n){let o=i["Fragment"].empty;const s=r.index(-1)>0;for(let e=r.depth-(s?1:2);e>=r.depth-3;e--)o=i["Fragment"].from(r.node(e).copy(o));o=o.append(i["Fragment"].from(e.createAndFill()));const l=t.tr.replace(r.before(s?null:-1),r.after(-3),new i["Slice"](o,s?3:2,2));l.setSelection(t.selection.constructor.near(l.doc.resolve(r.pos+(s?3:2)))),n(l.scrollIntoView())}return!0}const a=o.pos==r.end()?l.contentMatchAt(r.indexAfter(-1)).defaultType:null,c=t.tr.delete(r.pos,o.pos);let u=a&&[{type:e},{type:a}];return u||(u=[{type:e},null]),!!_(c.doc,r.pos,2,u)&&(n&&n(c.split(r.pos,2,u).scrollIntoView()),!0)}}function O(e,t,n={}){return(o,i,s)=>{const l=Object(m["i"])(o,e,n);return l?Object(r["e"])(t)(o,i,s):Object(r["e"])(e,n)(o,i,s)}}function M(e,t){return e.type===t.nodes.bullet_list||e.type===t.nodes.ordered_list||e.type===t.nodes.todo_list}function E(e,t){return(n,r,o)=>{const{schema:i,selection:s}=n,{$from:a,$to:c}=s,d=a.blockRange(c);if(!d)return!1;const p=Object(m["c"])(e=>M(e,i))(s);if(d.depth>=1&&p&&d.depth-p.depth<=1){if(p.node.type===e)return u(t)(n,r,o);if(M(p.node,i)&&e.validContent(p.node.content)){const{tr:t}=n;return t.setNodeMarkup(p.pos,e),r&&r(t),!1}}return l(e)(n,r,o)}}function T(e,t={}){return(n,o,i)=>{const s=Object(m["i"])(n,e,t);return s?Object(r["d"])(n,o):Object(r["g"])(e,t)(n,o,i)}}function A(e,t){return(n,r)=>{const{tr:o,selection:i,doc:s}=n,{ranges:l,empty:a}=i;if(a){const{from:n,to:r}=Object(m["e"])(i.$from,e);s.rangeHasMark(n,r,e)&&o.removeMark(n,r,e),o.addMark(n,r,e.create(t))}else l.forEach(n=>{const{$to:r,$from:i}=n;s.rangeHasMark(i.pos,r.pos,e)&&o.removeMark(i.pos,r.pos,e),o.addMark(i.pos,r.pos,e.create(t))});return r(o)}}},ab36:function(e,t,n){var r=n("861d"),o=n("9112");e.exports=function(e,t){r(t)&&"cause"in t&&o(e,"cause",t.cause)}},aeb0:function(e,t,n){var r=n("9bf2").f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},b370:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=128)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,l){var a,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(a=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=a):o&&(a=l?function(){o.call(this,this.$root.$options.shadowRoot)}:o),a)if(c.functional){c._injectStyles=a;var u=c.render;c.render=function(e,t){return a.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,a):[a]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},11:function(e,t){e.exports=n("2bb5")},12:function(e,t){e.exports=n("417f")},128:function(e,t,n){"use strict";n.r(t);var r,o,i=n(12),s=n.n(i),l=n(4),a=n.n(l),c=n(11),u=n.n(c),d=n(14),p=n.n(d),h=n(35),f=n.n(h),m=n(3),g={name:"ElDropdown",componentName:"ElDropdown",mixins:[a.a,u.a],directives:{Clickoutside:s.a},components:{ElButton:p.a,ElButtonGroup:f.a},provide:function(){return{dropdown:this}},props:{trigger:{type:String,default:"hover"},type:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},placement:{type:String,default:"bottom-end"},visibleArrow:{default:!0},showTimeout:{type:Number,default:250},hideTimeout:{type:Number,default:150},tabindex:{type:Number,default:0},disabled:{type:Boolean,default:!1}},data:function(){return{timeout:null,visible:!1,triggerElm:null,menuItems:null,menuItemsArray:null,dropdownElm:null,focusing:!1,listId:"dropdown-menu-"+Object(m["generateId"])()}},computed:{dropdownSize:function(){return this.size||(this.$ELEMENT||{}).size}},mounted:function(){this.$on("menu-item-click",this.handleMenuItemClick)},watch:{visible:function(e){this.broadcast("ElDropdownMenu","visible",e),this.$emit("visible-change",e)},focusing:function(e){var t=this.$el.querySelector(".el-dropdown-selfdefine");t&&(e?t.className+=" focusing":t.className=t.className.replace("focusing",""))}},methods:{getMigratingConfig:function(){return{props:{"menu-align":"menu-align is renamed to placement."}}},show:function(){var e=this;this.disabled||(clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.visible=!0}),"click"===this.trigger?0:this.showTimeout))},hide:function(){var e=this;this.disabled||(this.removeTabindex(),this.tabindex>=0&&this.resetTabindex(this.triggerElm),clearTimeout(this.timeout),this.timeout=setTimeout((function(){e.visible=!1}),"click"===this.trigger?0:this.hideTimeout))},handleClick:function(){this.disabled||(this.visible?this.hide():this.show())},handleTriggerKeyDown:function(e){var t=e.keyCode;[38,40].indexOf(t)>-1?(this.removeTabindex(),this.resetTabindex(this.menuItems[0]),this.menuItems[0].focus(),e.preventDefault(),e.stopPropagation()):13===t?this.handleClick():[9,27].indexOf(t)>-1&&this.hide()},handleItemKeyDown:function(e){var t=e.keyCode,n=e.target,r=this.menuItemsArray.indexOf(n),o=this.menuItemsArray.length-1,i=void 0;[38,40].indexOf(t)>-1?(i=38===t?0!==r?r-1:0:r<o?r+1:o,this.removeTabindex(),this.resetTabindex(this.menuItems[i]),this.menuItems[i].focus(),e.preventDefault(),e.stopPropagation()):13===t?(this.triggerElmFocus(),n.click(),this.hideOnClick&&(this.visible=!1)):[9,27].indexOf(t)>-1&&(this.hide(),this.triggerElmFocus())},resetTabindex:function(e){this.removeTabindex(),e.setAttribute("tabindex","0")},removeTabindex:function(){this.triggerElm.setAttribute("tabindex","-1"),this.menuItemsArray.forEach((function(e){e.setAttribute("tabindex","-1")}))},initAria:function(){this.dropdownElm.setAttribute("id",this.listId),this.triggerElm.setAttribute("aria-haspopup","list"),this.triggerElm.setAttribute("aria-controls",this.listId),this.splitButton||(this.triggerElm.setAttribute("role","button"),this.triggerElm.setAttribute("tabindex",this.tabindex),this.triggerElm.setAttribute("class",(this.triggerElm.getAttribute("class")||"")+" el-dropdown-selfdefine"))},initEvent:function(){var e=this,t=this.trigger,n=this.show,r=this.hide,o=this.handleClick,i=this.splitButton,s=this.handleTriggerKeyDown,l=this.handleItemKeyDown;this.triggerElm=i?this.$refs.trigger.$el:this.$slots.default[0].elm;var a=this.dropdownElm;this.triggerElm.addEventListener("keydown",s),a.addEventListener("keydown",l,!0),i||(this.triggerElm.addEventListener("focus",(function(){e.focusing=!0})),this.triggerElm.addEventListener("blur",(function(){e.focusing=!1})),this.triggerElm.addEventListener("click",(function(){e.focusing=!1}))),"hover"===t?(this.triggerElm.addEventListener("mouseenter",n),this.triggerElm.addEventListener("mouseleave",r),a.addEventListener("mouseenter",n),a.addEventListener("mouseleave",r)):"click"===t&&this.triggerElm.addEventListener("click",o)},handleMenuItemClick:function(e,t){this.hideOnClick&&(this.visible=!1),this.$emit("command",e,t)},triggerElmFocus:function(){this.triggerElm.focus&&this.triggerElm.focus()},initDomOperation:function(){this.dropdownElm=this.popperElm,this.menuItems=this.dropdownElm.querySelectorAll("[tabindex='-1']"),this.menuItemsArray=[].slice.call(this.menuItems),this.initEvent(),this.initAria()}},render:function(e){var t=this,n=this.hide,r=this.splitButton,o=this.type,i=this.dropdownSize,s=this.disabled,l=function(e){t.$emit("click",e),n()},a=null;if(r)a=e("el-button-group",[e("el-button",{attrs:{type:o,size:i,disabled:s},nativeOn:{click:l}},[this.$slots.default]),e("el-button",{ref:"trigger",attrs:{type:o,size:i,disabled:s},class:"el-dropdown__caret-button"},[e("i",{class:"el-dropdown__icon el-icon-arrow-down"})])]);else{a=this.$slots.default;var c=a[0].data||{},u=c.attrs,d=void 0===u?{}:u;s&&!d.disabled&&(d.disabled=!0,c.attrs=d)}var p=s?null:this.$slots.dropdown;return e("div",{class:"el-dropdown",directives:[{name:"clickoutside",value:n}],attrs:{"aria-disabled":s}},[a,p])}},v=g,y=n(0),b=Object(y["a"])(v,r,o,!1,null,null,null);b.options.__file="packages/dropdown/src/dropdown.vue";var w=b.exports;w.install=function(e){e.component(w.name,w)};t["default"]=w},14:function(e,t){e.exports=n("eedf")},3:function(e,t){e.exports=n("8122")},35:function(e,t){e.exports=n("845f")},4:function(e,t){e.exports=n("d010")}})},b923:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return C})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return v})),n.d(t,"e",(function(){return pe})),n.d(t,"f",(function(){return q})),n.d(t,"g",(function(){return L})),n.d(t,"h",(function(){return K})),n.d(t,"i",(function(){return I})),n.d(t,"j",(function(){return W})),n.d(t,"k",(function(){return N})),n.d(t,"l",(function(){return G}));var r=n("6f27");const o=65535,i=Math.pow(2,16);function s(e,t){return e+t*i}function l(e){return e&o}function a(e){return(e-(e&o))/i}const c=1,u=2,d=4,p=8;class h{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&p)>0}get deletedBefore(){return(this.delInfo&(c|d))>0}get deletedAfter(){return(this.delInfo&(u|d))>0}get deletedAcross(){return(this.delInfo&d)>0}}class f{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&f.empty)return f.empty}recover(e){let t=0,n=l(e);if(!this.inverted)for(let r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+a(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,o=this.inverted?2:1,i=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let f=this.ranges[l+o],m=this.ranges[l+i],g=a+f;if(e<=g){let o=f?e==a?-1:e==g?1:t:t,i=a+r+(o<0?0:m);if(n)return i;let v=e==(t<0?a:g)?null:s(l/3,e-a),y=e==a?u:e==g?c:d;return(t<0?e!=a:e!=g)&&(y|=p),new h(i,y,v)}r+=m-f}return n?e+r:new h(e+r,0,null)}touches(e,t){let n=0,r=l(t),o=this.inverted?2:1,i=this.inverted?1:2;for(let s=0;s<this.ranges.length;s+=3){let t=this.ranges[s]-(this.inverted?n:0);if(t>e)break;let l=this.ranges[s+o],a=t+l;if(e<=a&&s==3*r)return!0;n+=this.ranges[s+i]-l}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let i=this.ranges[r],s=i-(this.inverted?o:0),l=i+(this.inverted?0:o),a=this.ranges[r+t],c=this.ranges[r+n];e(s,s+a,l,l+c),o+=c-a}}invert(){return new f(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?f.empty:new f(e<0?[0,-e,0]:[0,0,e])}}f.empty=new f([]);class m{constructor(e=[],t,n=0,r=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=r}slice(e=0,t=this.maps.length){return new m(this.maps,this.mirror,e,t)}copy(){return new m(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new m;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let o=this.from;o<this.to;o++){let n=this.maps[o],i=n.mapResult(e,t);if(null!=i.recover){let t=this.getMirror(o);if(null!=t&&t>o&&t<this.to){o=t,e=this.maps[t].recover(i.recover);continue}}r|=i.delInfo,e=i.pos}return n?e:new h(e,r,null)}}const g=Object.create(null);class v{getMap(){return f.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=g[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in g)throw new RangeError("Duplicate use of step JSON ID "+e);return g[e]=t,t.prototype.jsonID=e,t}}class y{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new y(e,null)}static fail(e){return new y(null,e)}static fromReplace(e,t,n,o){try{return y.ok(e.replace(t,n,o))}catch(i){if(i instanceof r["ReplaceError"])return y.fail(i.message);throw i}}}function b(e,t,n){let o=[];for(let r=0;r<e.childCount;r++){let i=e.child(r);i.content.size&&(i=i.copy(b(i.content,t,i))),i.isInline&&(i=t(i,n,r)),o.push(i)}return r["Fragment"].fromArray(o)}class w extends v{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),o=n.node(n.sharedDepth(this.to)),i=new r["Slice"](b(t.content,(e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e,o),t.openStart,t.openEnd);return y.fromReplace(e,this.from,this.to,i)}invert(){return new x(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new w(t.pos,n.pos,this.mark)}merge(e){return e instanceof w&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new w(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new w(t.from,t.to,e.markFromJSON(t.mark))}}v.jsonID("addMark",w);class x extends v{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new r["Slice"](b(t.content,e=>e.mark(this.mark.removeFromSet(e.marks)),e),t.openStart,t.openEnd);return y.fromReplace(e,this.from,this.to,n)}invert(){return new w(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new x(t.pos,n.pos,this.mark)}merge(e){return e instanceof x&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new x(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new x(t.from,t.to,e.markFromJSON(t.mark))}}v.jsonID("removeMark",x);class k extends v{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return y.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return y.fromReplace(e,this.pos,this.pos+1,new r["Slice"](r["Fragment"].from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new k(this.pos,t.marks[n]);return new k(this.pos,this.mark)}}return new S(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new k(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new k(t.pos,e.markFromJSON(t.mark))}}v.jsonID("addNodeMark",k);class S extends v{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return y.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return y.fromReplace(e,this.pos,this.pos+1,new r["Slice"](r["Fragment"].from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new k(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new S(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new S(t.pos,e.markFromJSON(t.mark))}}v.jsonID("removeNodeMark",S);class _ extends v{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&O(e,this.from,this.to)?y.fail("Structure replace would overwrite content"):y.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new f([this.from,this.to-this.from,this.slice.size])}invert(e){return new _(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new _(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof _)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?r["Slice"].empty:new r["Slice"](e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new _(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?r["Slice"].empty:new r["Slice"](this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new _(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new _(t.from,t.to,r["Slice"].fromJSON(e,t.slice),!!t.structure)}}v.jsonID("replace",_);class C extends v{constructor(e,t,n,r,o,i,s=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=i,this.structure=s}apply(e){if(this.structure&&(O(e,this.from,this.gapFrom)||O(e,this.gapTo,this.to)))return y.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return y.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?y.fromReplace(e,this.from,this.to,n):y.fail("Content does not fit in gap")}getMap(){return new f([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new C(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||o>n.pos?null:new C(t.pos,n.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new C(t.from,t.to,t.gapFrom,t.gapTo,r["Slice"].fromJSON(e,t.slice),t.insert,!!t.structure)}}function O(e,t,n){let r=e.resolve(t),o=n-t,i=r.depth;while(o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount)i--,o--;if(o>0){let e=r.node(i).maybeChild(r.indexAfter(i));while(o>0){if(!e||e.isLeaf)return!0;e=e.firstChild,o--}}return!1}function M(e,t,n,r){let o,i,s=[],l=[];e.doc.nodesBetween(t,n,(e,a,c)=>{if(!e.isInline)return;let u=e.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){let c=Math.max(a,t),d=Math.min(a+e.nodeSize,n),p=r.addToSet(u);for(let e=0;e<u.length;e++)u[e].isInSet(p)||(o&&o.to==c&&o.mark.eq(u[e])?o.to=d:s.push(o=new x(c,d,u[e])));i&&i.to==c?i.to=d:l.push(i=new w(c,d,r))}}),s.forEach(t=>e.step(t)),l.forEach(t=>e.step(t))}function E(e,t,n,o){let i=[],s=0;e.doc.nodesBetween(t,n,(e,l)=>{if(!e.isInline)return;s++;let a=null;if(o instanceof r["MarkType"]){let t,n=e.marks;while(t=o.isInSet(n))(a||(a=[])).push(t),n=t.removeFromSet(n)}else o?o.isInSet(e.marks)&&(a=[o]):a=e.marks;if(a&&a.length){let r=Math.min(l+e.nodeSize,n);for(let e=0;e<a.length;e++){let n,o=a[e];for(let e=0;e<i.length;e++){let t=i[e];t.step==s-1&&o.eq(i[e].style)&&(n=t)}n?(n.to=r,n.step=s):i.push({style:o,from:Math.max(l,t),to:r,step:s})}}}),i.forEach(t=>e.step(new x(t.from,t.to,t.style)))}function T(e,t,n,o=n.contentMatch){let i=e.doc.nodeAt(t),s=[],l=t+1;for(let a=0;a<i.childCount;a++){let t=i.child(a),c=l+t.nodeSize,u=o.matchType(t.type);if(u){o=u;for(let r=0;r<t.marks.length;r++)n.allowsMarkType(t.marks[r].type)||e.step(new x(l,c,t.marks[r]))}else s.push(new _(l,c,r["Slice"].empty));l=c}if(!o.validEnd){let t=o.fillBefore(r["Fragment"].empty,!0);e.replace(l,l,new r["Slice"](t,0,0))}for(let r=s.length-1;r>=0;r--)e.step(s[r])}function A(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function N(e){let t=e.parent,n=t.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let t=e.$from.node(r),o=e.$from.index(r),i=e.$to.indexAfter(r);if(r<e.depth&&t.canReplace(o,i,n))return r;if(0==r||t.type.spec.isolating||!A(t,o,i))break}return null}function R(e,t,n){let{$from:o,$to:i,depth:s}=t,l=o.before(s+1),a=i.after(s+1),c=l,u=a,d=r["Fragment"].empty,p=0;for(let m=s,g=!1;m>n;m--)g||o.index(m)>0?(g=!0,d=r["Fragment"].from(o.node(m).copy(d)),p++):c--;let h=r["Fragment"].empty,f=0;for(let m=s,g=!1;m>n;m--)g||i.after(m+1)<i.end(m)?(g=!0,h=r["Fragment"].from(i.node(m).copy(h)),f++):u++;e.step(new C(c,u,l,a,new r["Slice"](d.append(h),p,f),d.size-p,!0))}function I(e,t,n=null,r=e){let o=j(e,t),i=o&&D(r,t);return i?o.map(z).concat({type:t,attrs:n}).concat(i.map(z)):null}function z(e){return{type:e,attrs:null}}function j(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;let s=i.length?i[0]:t;return n.canReplaceWith(r,o,s)?i:null}function D(e,t){let{parent:n,startIndex:r,endIndex:o}=e,i=n.child(r),s=t.contentMatch.findWrapping(i.type);if(!s)return null;let l=s.length?s[s.length-1]:t,a=l.contentMatch;for(let c=r;a&&c<o;c++)a=a.matchType(n.child(c).type);return a&&a.validEnd?s:null}function P(e,t,n){let o=r["Fragment"].empty;for(let l=n.length-1;l>=0;l--){if(o.size){let e=n[l].type.contentMatch.matchFragment(o);if(!e||!e.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}o=r["Fragment"].from(n[l].type.create(n[l].attrs,o))}let i=t.start,s=t.end;e.step(new C(i,s,i,s,new r["Slice"](o,0,0),n.length,!0))}function $(e,t,n,o,i){if(!o.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,(t,n)=>{if(t.isTextblock&&!t.hasMarkup(o,i)&&F(e.doc,e.mapping.slice(s).map(n),o)){e.clearIncompatible(e.mapping.slice(s).map(n,1),o);let l=e.mapping.slice(s),a=l.map(n,1),c=l.map(n+t.nodeSize,1);return e.step(new C(a,c,a+1,c-1,new r["Slice"](r["Fragment"].from(o.create(i,null,t.marks)),0,0),1,!0)),!1}})}function F(e,t,n){let r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function B(e,t,n,o,i){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let l=n.create(o,null,i||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,l);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new C(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new r["Slice"](r["Fragment"].from(l),0,0),1,!0))}function L(e,t,n=1,r){let o=e.resolve(t),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let c=o.depth-1,u=n-2;c>i;c--,u--){let e=o.node(c),t=o.index(c);if(e.type.spec.isolating)return!1;let n=e.content.cutByIndex(t,e.childCount),i=r&&r[u]||e;if(i!=e&&(n=n.replaceChild(0,i.type.create(i.attrs))),!e.canReplace(t+1,e.childCount)||!i.type.validContent(n))return!1}let l=o.indexAfter(i),a=r&&r[0];return o.node(i).canReplaceWith(l,l,a?a.type:o.node(i+1).type)}function V(e,t,n=1,o){let i=e.doc.resolve(t),s=r["Fragment"].empty,l=r["Fragment"].empty;for(let a=i.depth,c=i.depth-n,u=n-1;a>c;a--,u--){s=r["Fragment"].from(i.node(a).copy(s));let e=o&&o[u];l=r["Fragment"].from(e?e.type.create(e.attrs,l):i.node(a).copy(l))}e.step(new _(t,t,new r["Slice"](s.append(l),n,n),!0))}function q(e,t){let n=e.resolve(t),r=n.index();return H(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function H(e,t){return!(!e||!t||e.isLeaf||!e.canAppend(t))}function W(e,t,n=-1){let r=e.resolve(t);for(let o=r.depth;;o--){let e,i,s=r.index(o);if(o==r.depth?(e=r.nodeBefore,i=r.nodeAfter):n>0?(e=r.node(o+1),s++,i=r.node(o).maybeChild(s)):(e=r.node(o).maybeChild(s-1),i=r.node(o+1)),e&&!e.isTextblock&&H(e,i)&&r.node(o).canReplace(s,s+1))return t;if(0==o)break;t=n<0?r.before(o):r.after(o)}}function U(e,t,n){let o=new _(t-n,t+n,r["Slice"].empty,!0);e.step(o)}function J(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let o=r.depth-1;o>=0;o--){let e=r.index(o);if(r.node(o).canReplaceWith(e,e,n))return r.before(o+1);if(e>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let e=r.indexAfter(o);if(r.node(o).canReplaceWith(e,e,n))return r.after(o+1);if(e<r.node(o).childCount)return null}return null}function K(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let i=0;i<n.openStart;i++)o=o.firstChild.content;for(let i=1;i<=(0==n.openStart&&n.size?2:1);i++)for(let e=r.depth;e>=0;e--){let t=e==r.depth?0:r.pos<=(r.start(e+1)+r.end(e+1))/2?-1:1,n=r.index(e)+(t>0?1:0),s=r.node(e),l=!1;if(1==i)l=s.canReplace(n,n,o);else{let e=s.contentMatchAt(n).findWrapping(o.firstChild.type);l=e&&s.canReplaceWith(n,n,e[0])}if(l)return 0==t?r.pos:t<0?r.before(e+1):r.after(e+1)}return null}function G(e,t,n=t,o=r["Slice"].empty){if(t==n&&!o.size)return null;let i=e.resolve(t),s=e.resolve(n);return X(i,s,o)?new _(t,n,o):new Z(i,s,o).fit()}function X(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}v.jsonID("replaceAround",C);class Z{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=r["Fragment"].empty;for(let r=0;r<=e.depth;r++){let t=e.node(r);this.frontier.push({type:t.type,match:t.contentMatchAt(e.indexAfter(r))})}for(let o=e.depth;o>0;o--)this.placed=r["Fragment"].from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){while(this.unplaced.size){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,o=this.close(e<0?this.$to:n.doc.resolve(e));if(!o)return null;let i=this.placed,s=n.depth,l=o.depth;while(s&&l&&1==i.childCount)i=i.firstChild.content,s--,l--;let a=new r["Slice"](i,s,l);return e>-1?new C(n.pos,e,this.$to.pos,this.$to.end(),a,t):a.size||n.pos!=this.$to.pos?new _(n.pos,o.pos,a):null}findFittable(){for(let e=1;e<=2;e++)for(let t=this.unplaced.openStart;t>=0;t--){let n,o=null;t?(o=ee(this.unplaced.content,t-1).firstChild,n=o.content):n=this.unplaced.content;let i=n.firstChild;for(let s=this.depth;s>=0;s--){let n,{type:l,match:a}=this.frontier[s],c=null;if(1==e&&(i?a.matchType(i.type)||(c=a.fillBefore(r["Fragment"].from(i),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:t,frontierDepth:s,parent:o,inject:c};if(2==e&&i&&(n=a.findWrapping(i.type)))return{sliceDepth:t,frontierDepth:s,parent:o,wrap:n};if(o&&a.matchType(o.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,o=ee(e,t);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new r["Slice"](e,t+1,Math.max(n,o.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,o=ee(e,t);if(o.childCount<=1&&t>0){let i=e.size-t<=t+o.size;this.unplaced=new r["Slice"](Y(e,t-1,1),t-1,i?t-1:n)}else this.unplaced=new r["Slice"](Y(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:o,wrap:i}){while(this.depth>t)this.closeFrontierNode();if(i)for(let r=0;r<i.length;r++)this.openFrontierNode(i[r]);let s=this.unplaced,l=n?n.content:s.content,a=s.openStart-e,c=0,u=[],{match:d,type:p}=this.frontier[t];if(o){for(let e=0;e<o.childCount;e++)u.push(o.child(e));d=d.matchFragment(o)}let h=l.size+e-(s.content.size-s.openEnd);while(c<l.childCount){let e=l.child(c),t=d.matchType(e.type);if(!t)break;c++,(c>1||0==a||e.content.size)&&(d=t,u.push(te(e.mark(p.allowedMarks(e.marks)),1==c?a:0,c==l.childCount?h:-1)))}let f=c==l.childCount;f||(h=-1),this.placed=Q(this.placed,t,r["Fragment"].from(u)),this.frontier[t].match=d,f&&h<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let r=0,m=l;r<h;r++){let e=m.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),m=e.content}this.unplaced=f?0==e?r["Slice"].empty:new r["Slice"](Y(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new r["Slice"](Y(s.content,e,c),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!ne(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);while(n>1&&r==this.$to.end(--n))++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),i=ne(e,t,r,n,o);if(i){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],o=ne(e,n,r,t,!0);if(!o||o.childCount)continue e}return{depth:t,fit:i,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;while(this.depth>t.depth)this.closeFrontierNode();t.fit.childCount&&(this.placed=Q(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=Q(this.placed,this.depth,r["Fragment"].from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop(),t=e.match.fillBefore(r["Fragment"].empty,!0);t.childCount&&(this.placed=Q(this.placed,this.frontier.length,t))}}function Y(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Y(e.firstChild.content,t-1,n)))}function Q(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Q(e.lastChild.content,t-1,n)))}function ee(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function te(e,t,n){if(t<=0)return e;let o=e.content;return t>1&&(o=o.replaceChild(0,te(o.firstChild,t-1,1==o.childCount?n-1:0))),t>0&&(o=e.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(e.type.contentMatch.matchFragment(o).fillBefore(r["Fragment"].empty,!0)))),e.copy(o)}function ne(e,t,n,r,o){let i=e.node(t),s=o?e.indexAfter(t):e.index(t);if(s==i.childCount&&!n.compatibleContent(i.type))return null;let l=r.fillBefore(i.content,!0,s);return l&&!re(n,i.content,s)?l:null}function re(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function oe(e){return e.spec.defining||e.spec.definingForContent}function ie(e,t,n,o){if(!o.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),s=e.doc.resolve(n);if(X(i,s,o))return e.step(new _(t,n,o));let l=ce(i,e.doc.resolve(n));0==l[l.length-1]&&l.pop();let a=-(i.depth+1);l.unshift(a);for(let r=i.depth,h=i.pos-1;r>0;r--,h--){let e=i.node(r).type.spec;if(e.defining||e.definingAsContext||e.isolating)break;l.indexOf(r)>-1?a=r:i.before(r)==h&&l.splice(1,0,-r)}let c=l.indexOf(a),u=[],d=o.openStart;for(let r=o.content,h=0;;h++){let e=r.firstChild;if(u.push(e),h==o.openStart)break;r=e.content}for(let r=d-1;r>=0;r--){let e=u[r].type,t=oe(e);if(t&&i.node(c).type!=e)d=r;else if(t||!e.isTextblock)break}for(let h=o.openStart;h>=0;h--){let t=(h+d+1)%(o.openStart+1),a=u[t];if(a)for(let u=0;u<l.length;u++){let d=l[(u+c)%l.length],p=!0;d<0&&(p=!1,d=-d);let h=i.node(d-1),f=i.index(d-1);if(h.canReplaceWith(f,f,a.type,a.marks))return e.replace(i.before(d),p?s.after(d):n,new r["Slice"](se(o.content,0,o.openStart,t),t,o.openEnd))}}let p=e.steps.length;for(let r=l.length-1;r>=0;r--){if(e.replace(t,n,o),e.steps.length>p)break;let a=l[r];a<0||(t=i.before(a),n=s.after(a))}}function se(e,t,n,o,i){if(t<n){let r=e.firstChild;e=e.replaceChild(0,r.copy(se(r.content,t+1,n,o,r)))}if(t>o){let t=i.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(r["Fragment"].empty,!0))}return e}function le(e,t,n,o){if(!o.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let r=J(e.doc,t,o.type);null!=r&&(t=n=r)}e.replaceRange(t,n,new r["Slice"](r["Fragment"].from(o),0,0))}function ae(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),i=ce(r,o);for(let s=0;s<i.length;s++){let t=i[s],n=s==i.length-1;if(n&&0==t||r.node(t).type.contentMatch.validEnd)return e.delete(r.start(t),o.end(t));if(t>0&&(n||r.node(t-1).canReplace(r.index(t-1),o.indexAfter(t-1))))return e.delete(r.before(t),o.after(t))}for(let s=1;s<=r.depth&&s<=o.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&o.end(s)-n!=o.depth-s)return e.delete(r.before(s),n);e.delete(t,n)}function ce(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let o=r;o>=0;o--){let r=e.start(o);if(r<e.pos-(e.depth-o)||t.end(o)>t.pos+(t.depth-o)||e.node(o).type.spec.isolating||t.node(o).type.spec.isolating)break;(r==t.start(o)||o==e.depth&&o==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&o&&t.start(o-1)==r-1)&&n.push(o)}return n}class ue extends v{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return y.fail("No node at attribute step's position");let n=Object.create(null);for(let r in t.attrs)n[r]=t.attrs[r];n[this.attr]=this.value;let o=t.type.create(n,null,t.marks);return y.fromReplace(e,this.pos,this.pos+1,new r["Slice"](r["Fragment"].from(o),0,t.isLeaf?0:1))}getMap(){return f.empty}invert(e){return new ue(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ue(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new ue(t.pos,t.attr,t.value)}}v.jsonID("attr",ue);let de=class extends Error{};de=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de.prototype.name="TransformError";class pe{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new m}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new de(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=r["Slice"].empty){let o=G(this.doc,e,t,n);return o&&this.step(o),this}replaceWith(e,t,n){return this.replace(e,t,new r["Slice"](r["Fragment"].from(n),0,0))}delete(e,t){return this.replace(e,t,r["Slice"].empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return ie(this,e,t,n),this}replaceRangeWith(e,t,n){return le(this,e,t,n),this}deleteRange(e,t){return ae(this,e,t),this}lift(e,t){return R(this,e,t),this}join(e,t=1){return U(this,e,t),this}wrap(e,t){return P(this,e,t),this}setBlockType(e,t=e,n,r=null){return $(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r=[]){return B(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new ue(e,t,n)),this}addNodeMark(e,t){return this.step(new k(e,t)),this}removeNodeMark(e,t){if(!(t instanceof r["Mark"])){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(t=t.isInSet(n.marks),!t)return this}return this.step(new S(e,t)),this}split(e,t=1,n){return V(this,e,t,n),this}addMark(e,t,n){return M(this,e,t,n),this}removeMark(e,t,n){return E(this,e,t,n),this}clearIncompatible(e,t,n){return T(this,e,t,n),this}}},b980:function(e,t,n){var r=n("d039"),o=n("5c6c");e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},cd42:function(e,t,n){"use strict";n.d(t,"j",(function(){return r["Plugin"]})),n.d(t,"k",(function(){return r["PluginKey"]})),n.d(t,"a",(function(){return z})),n.d(t,"b",(function(){return $})),n.d(t,"c",(function(){return F})),n.d(t,"d",(function(){return V})),n.d(t,"e",(function(){return K})),n.d(t,"f",(function(){return E})),n.d(t,"g",(function(){return N})),n.d(t,"h",(function(){return I})),n.d(t,"i",(function(){return j})),n.d(t,"l",(function(){return D}));var r=n("6ffb"),o=n("703f"),i=n("6f27"),s=n("b923");function l(e={}){return new r["Plugin"]({view(t){return new a(t,e)}})}class a{constructor(e,t){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos);if(!t.parent.inlineContent){let n=t.nodeBefore,r=t.nodeAfter;if(n||r){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),o=n?t.bottom:t.top;n&&r&&(o=(o+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:t.left,right:t.right,top:o-this.width/2,bottom:o+this.width/2}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos);e={left:t.left-this.width/2,right:t.left+this.width/2,top:t.top,bottom:t.bottom}}let n,r,o=this.editorView.dom.offsetParent;if(this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!o||o==document.body&&"static"==getComputedStyle(o).position)n=-pageXOffset,r=-pageYOffset;else{let e=o.getBoundingClientRect();n=e.left-o.scrollLeft,r=e.top-o.scrollTop}this.element.style.left=e.left-n+"px",this.element.style.top=e.top-r+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,o="function"==typeof r?r(this.editorView,t,e):r;if(t&&!o){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(e=Object(s["h"])(this.editorView.state.doc,e,this.editorView.dragging.slice),null==e))return this.setCursor(null);this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}var c=n("e3da");class u extends r["Selection"]{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return u.valid(n)?new u(n):r["Selection"].near(n)}content(){return i["Slice"].empty}eq(e){return e instanceof u&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new u(e.resolve(t.pos))}getBookmark(){return new d(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!p(e)||!h(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&u.valid(e))return e;let o=e.pos,i=null;for(let n=e.depth;;n--){let r=e.node(n);if(t>0?e.indexAfter(n)<r.childCount:e.index(n)>0){i=r.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;o+=t;let s=e.doc.resolve(o);if(u.valid(s))return s}for(;;){let s=t>0?i.firstChild:i.lastChild;if(!s){if(i.isAtom&&!i.isText&&!r["NodeSelection"].isSelectable(i)){e=e.doc.resolve(o+i.nodeSize*t),n=!1;continue e}break}i=s,o+=t;let l=e.doc.resolve(o);if(u.valid(l))return l}return null}}}u.prototype.visible=!1,u.findFrom=u.findGapCursorFrom,r["Selection"].jsonID("gapcursor",u);class d{constructor(e){this.pos=e}map(e){return new d(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return u.valid(t)?new u(t):r["Selection"].near(t)}}function p(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0!=n)for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}function h(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}function f(){return new r["Plugin"]({props:{decorations:b,createSelectionBetween(e,t,n){return t.pos==n.pos&&u.valid(n)?new u(n):null},handleClick:v,handleKeyDown:m,handleDOMEvents:{beforeinput:y}}})}const m=Object(c["a"])({ArrowLeft:g("horiz",-1),ArrowRight:g("horiz",1),ArrowUp:g("vert",-1),ArrowDown:g("vert",1)});function g(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,o,i){let s=e.selection,l=t>0?s.$to:s.$from,a=s.empty;if(s instanceof r["TextSelection"]){if(!i.endOfTextblock(n)||0==l.depth)return!1;a=!1,l=e.doc.resolve(t>0?l.after():l.before())}let c=u.findGapCursorFrom(l,t,a);return!!c&&(o&&o(e.tr.setSelection(new u(c))),!0)}}function v(e,t,n){if(!e||!e.editable)return!1;let o=e.state.doc.resolve(t);if(!u.valid(o))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return!(i&&i.inside>-1&&r["NodeSelection"].isSelectable(e.state.doc.nodeAt(i.inside)))&&(e.dispatch(e.state.tr.setSelection(new u(o))),!0)}function y(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof u))return!1;let{$from:n}=e.state.selection,o=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!o)return!1;let s=i["Fragment"].empty;for(let r=o.length-1;r>=0;r--)s=i["Fragment"].from(o[r].createAndFill(null,s));let l=e.state.tr.replace(n.pos,n.pos,new i["Slice"](s,0,0));return l.setSelection(r["TextSelection"].near(l.doc.resolve(n.pos+1))),e.dispatch(l),!1}function b(e){if(!(e.selection instanceof u))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",o["b"].create(e.doc,[o["a"].widget(e.selection.head,t,{key:"gapcursor"})])}var w=n("442c"),x=n("72a8"),k=n("a15f"),S=n("2b0e"),_=n("a9de");
/*!
    * tiptap v1.32.1
    * (c) 2021 überdosis GbR (limited liability)
    * @license MIT
    */
function C(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,(e,t)=>0===t?e.toLowerCase():e.toUpperCase()).replace(/\s+/g,"")}class O{constructor(e,{editor:t,extension:n,parent:r,node:o,view:i,decorations:s,getPos:l}){this.component=e,this.editor=t,this.extension=n,this.parent=r,this.node=o,this.view=i,this.decorations=s,this.isNode=!!this.node.marks,this.isMark=!this.isNode,this.getPos=this.isMark?this.getMarkPos:l,this.captureEvents=!0,this.dom=this.createDOM(),this.contentDOM=this.vm.$refs.content}createDOM(){const e=S["default"].extend(this.component),t={editor:this.editor,node:this.node,view:this.view,getPos:()=>this.getPos(),decorations:this.decorations,selected:!1,options:this.extension.options,updateAttrs:e=>this.updateAttrs(e)};return"function"===typeof this.extension.setSelection&&(this.setSelection=this.extension.setSelection),"function"===typeof this.extension.update&&(this.update=this.extension.update),this.vm=new e({parent:this.parent,propsData:t}).$mount(),this.vm.$el}update(e,t){return e.type===this.node.type&&(e===this.node&&this.decorations===t||(this.node=e,this.decorations=t,this.updateComponentProps({node:e,decorations:t})),!0)}updateComponentProps(e){if(!this.vm._props)return;const t=S["default"].config.silent;S["default"].config.silent=!0,Object.entries(e).forEach(([e,t])=>{this.vm._props[e]=t}),S["default"].config.silent=t}updateAttrs(e){if(!this.view.editable)return;const{state:t}=this.view,{type:n}=this.node,r=this.getPos(),o={...this.node.attrs,...e},i=this.isMark?t.tr.removeMark(r.from,r.to,n).addMark(r.from,r.to,n.create(o)):t.tr.setNodeMarkup(r,null,o);this.view.dispatch(i)}ignoreMutation(e){return"selection"!==e.type&&(!this.contentDOM||!this.contentDOM.contains(e.target))}stopEvent(e){if("function"===typeof this.extension.stopEvent)return this.extension.stopEvent(e);const t=!!this.extension.schema.draggable;if(t&&"mousedown"===e.type){const t=e.target.closest&&e.target.closest("[data-drag-handle]"),n=t&&(this.dom===t||this.dom.contains(t));n&&(this.captureEvents=!1,document.addEventListener("dragend",()=>{this.captureEvents=!0},{once:!0}))}const n="copy"===e.type,r="paste"===e.type,o="cut"===e.type,i=e.type.startsWith("drag")||"drop"===e.type;return!(t&&i||n||r||o)&&this.captureEvents}selectNode(){this.updateComponentProps({selected:!0})}deselectNode(){this.updateComponentProps({selected:!1})}getMarkPos(){const e=this.view.posAtDOM(this.dom),t=this.view.state.doc.resolve(e),n=Object(k["e"])(t,this.node.type);return n}destroy(){this.vm.$destroy()}}class M{on(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}emit(e,...t){this._callbacks=this._callbacks||{};const n=this._callbacks[e];return n&&n.forEach(e=>e.apply(this,t)),this}off(e,t){if(arguments.length){const n=this._callbacks?this._callbacks[e]:null;n&&(t?this._callbacks[e]=n.filter(e=>e!==t):delete this._callbacks[e])}else this._callbacks={};return this}}class E{constructor(e={}){this.options={...this.defaultOptions,...e}}init(){return null}bindEditor(e=null){this.editor=e}get name(){return null}get type(){return"extension"}get defaultOptions(){return{}}get plugins(){return[]}inputRules(){return[]}pasteRules(){return[]}keys(){return{}}}class T{constructor(e=[],t){e.forEach(e=>{e.bindEditor(t),e.init()}),this.extensions=e}get nodes(){return this.extensions.filter(e=>"node"===e.type).reduce((e,{name:t,schema:n})=>({...e,[t]:n}),{})}get options(){const{view:e}=this;return this.extensions.reduce((t,n)=>({...t,[n.name]:new Proxy(n.options,{set(t,n,r){const o=t[n]!==r;return Object.assign(t,{[n]:r}),o&&e.updateState(e.state),!0}})}),{})}get marks(){return this.extensions.filter(e=>"mark"===e.type).reduce((e,{name:t,schema:n})=>({...e,[t]:n}),{})}get plugins(){return this.extensions.filter(e=>e.plugins).reduce((e,{plugins:t})=>[...e,...t],[])}keymaps({schema:e}){const t=this.extensions.filter(e=>["extension"].includes(e.type)).filter(e=>e.keys).map(t=>t.keys({schema:e})),n=this.extensions.filter(e=>["node","mark"].includes(e.type)).filter(e=>e.keys).map(t=>t.keys({type:e[t.type+"s"][t.name],schema:e}));return[...t,...n].map(e=>Object(c["b"])(e))}inputRules({schema:e,excludedExtensions:t}){if(!(t instanceof Array)&&t)return[];const n=t instanceof Array?this.extensions.filter(e=>!t.includes(e.name)):this.extensions,r=n.filter(e=>["extension"].includes(e.type)).filter(e=>e.inputRules).map(t=>t.inputRules({schema:e})),o=n.filter(e=>["node","mark"].includes(e.type)).filter(e=>e.inputRules).map(t=>t.inputRules({type:e[t.type+"s"][t.name],schema:e}));return[...r,...o].reduce((e,t)=>[...e,...t],[])}pasteRules({schema:e,excludedExtensions:t}){if(!(t instanceof Array)&&t)return[];const n=t instanceof Array?this.extensions.filter(e=>!t.includes(e.name)):this.extensions,r=n.filter(e=>["extension"].includes(e.type)).filter(e=>e.pasteRules).map(t=>t.pasteRules({schema:e})),o=n.filter(e=>["node","mark"].includes(e.type)).filter(e=>e.pasteRules).map(t=>t.pasteRules({type:e[t.type+"s"][t.name],schema:e}));return[...r,...o].reduce((e,t)=>[...e,...t],[])}commands({schema:e,view:t}){return this.extensions.filter(e=>e.commands).reduce((n,r)=>{const{name:o,type:i}=r,s={},l=r.commands({schema:e,...["node","mark"].includes(i)?{type:e[i+"s"][o]}:{}}),a=(e,n)=>!!t.editable&&(t.focus(),e(n)(t.state,t.dispatch,t)),c=(e,t)=>{Array.isArray(t)?s[e]=e=>t.forEach(t=>a(t,e)):"function"===typeof t&&(s[e]=e=>a(t,e))};return"object"===typeof l?Object.entries(l).forEach(([e,t])=>{c(e,t)}):c(o,l),{...n,...s}},{})}}function A(e){{const t=document.createElement("style");t.type="text/css",t.textContent=e;const{head:n}=document,{firstChild:r}=n;r?n.insertBefore(t,r):n.appendChild(t)}}class N extends E{constructor(e={}){super(e)}get type(){return"mark"}get view(){return null}get schema(){return null}command(){return()=>{}}}function R(e=0,t=0,n=0){return Math.min(Math.max(parseInt(e,10),t),n)}class I extends E{constructor(e={}){super(e)}get type(){return"node"}get view(){return null}get schema(){return null}command(){return()=>{}}}class z extends I{get name(){return"doc"}get schema(){return{content:"block+"}}}class j extends I{get name(){return"paragraph"}get schema(){return{content:"inline*",group:"block",draggable:!1,parseDOM:[{tag:"p"}],toDOM:()=>["p",0]}}commands({type:e}){return()=>Object(_["k"])(e)}}class D extends I{get name(){return"text"}get schema(){return{group:"inline"}}}var P='.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n';class $ extends M{constructor(e={}){super(),this.defaultOptions={editorProps:{},editable:!0,autoFocus:null,extensions:[],content:"",topNode:"doc",emptyDocument:{type:"doc",content:[{type:"paragraph"}]},useBuiltInExtensions:!0,disableInputRules:!1,disablePasteRules:!1,dropCursor:{},enableDropCursor:!0,enableGapCursor:!0,parseOptions:{},injectCSS:!0,onInit:()=>{},onTransaction:()=>{},onUpdate:()=>{},onFocus:()=>{},onBlur:()=>{},onPaste:()=>{},onDrop:()=>{}},this.events=["init","transaction","update","focus","blur","paste","drop"],this.init(e)}init(e={}){this.setOptions({...this.defaultOptions,...e}),this.focused=!1,this.selection={from:0,to:0},this.element=document.createElement("div"),this.extensions=this.createExtensions(),this.nodes=this.createNodes(),this.marks=this.createMarks(),this.schema=this.createSchema(),this.plugins=this.createPlugins(),this.keymaps=this.createKeymaps(),this.inputRules=this.createInputRules(),this.pasteRules=this.createPasteRules(),this.view=this.createView(),this.commands=this.createCommands(),this.setActiveNodesAndMarks(),this.options.injectCSS&&A(P),null!==this.options.autoFocus&&this.focus(this.options.autoFocus),this.events.forEach(e=>{this.on(e,this.options[C("on "+e)]||(()=>{}))}),this.emit("init",{view:this.view,state:this.state}),this.extensions.view=this.view}setOptions(e){this.options={...this.options,...e},this.view&&this.state&&this.view.updateState(this.state)}get builtInExtensions(){return this.options.useBuiltInExtensions?[new z,new D,new j]:[]}get state(){return this.view?this.view.state:null}createExtensions(){return new T([...this.builtInExtensions,...this.options.extensions],this)}createPlugins(){return this.extensions.plugins}createKeymaps(){return this.extensions.keymaps({schema:this.schema})}createInputRules(){return this.extensions.inputRules({schema:this.schema,excludedExtensions:this.options.disableInputRules})}createPasteRules(){return this.extensions.pasteRules({schema:this.schema,excludedExtensions:this.options.disablePasteRules})}createCommands(){return this.extensions.commands({schema:this.schema,view:this.view})}createNodes(){return this.extensions.nodes}createMarks(){return this.extensions.marks}createSchema(){return new i["Schema"]({topNode:this.options.topNode,nodes:this.nodes,marks:this.marks})}createState(){return r["EditorState"].create({schema:this.schema,doc:this.createDocument(this.options.content),plugins:[...this.plugins,Object(x["b"])({rules:this.inputRules}),...this.pasteRules,...this.keymaps,Object(c["b"])({Backspace:x["d"]}),Object(c["b"])(w["a"]),...this.options.enableDropCursor?[l(this.options.dropCursor)]:[],...this.options.enableGapCursor?[f()]:[],new r["Plugin"]({key:new r["PluginKey"]("editable"),props:{editable:()=>this.options.editable}}),new r["Plugin"]({props:{attributes:{tabindex:0},handleDOMEvents:{focus:(e,t)=>{this.focused=!0,this.emit("focus",{event:t,state:e.state,view:e});const n=this.state.tr.setMeta("focused",!0);this.view.dispatch(n)},blur:(e,t)=>{this.focused=!1,this.emit("blur",{event:t,state:e.state,view:e});const n=this.state.tr.setMeta("focused",!1);this.view.dispatch(n)}}}}),new r["Plugin"]({props:this.options.editorProps})]})}createDocument(e,t=this.options.parseOptions){if(null===e)return this.schema.nodeFromJSON(this.options.emptyDocument);if("object"===typeof e)try{return this.schema.nodeFromJSON(e)}catch(n){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",n),this.schema.nodeFromJSON(this.options.emptyDocument)}if("string"===typeof e){const n=`<div>${e}</div>`,r=new window.DOMParser,o=r.parseFromString(n,"text/html").body.firstElementChild;return i["DOMParser"].fromSchema(this.schema).parse(o,t)}return!1}createView(){return new o["c"](this.element,{state:this.createState(),handlePaste:(...e)=>{this.emit("paste",...e)},handleDrop:(...e)=>{this.emit("drop",...e)},dispatchTransaction:this.dispatchTransaction.bind(this)})}setParentComponent(e=null){e&&this.view.setProps({nodeViews:this.initNodeViews({parent:e,extensions:[...this.builtInExtensions,...this.options.extensions]})})}initNodeViews({parent:e,extensions:t}){return t.filter(e=>["node","mark"].includes(e.type)).filter(e=>e.view).reduce((t,n)=>{const r=(t,r,o,i)=>{const s=n.view;return new O(s,{editor:this,extension:n,parent:e,node:t,view:r,getPos:o,decorations:i})};return{...t,[n.name]:r}},{})}dispatchTransaction(e){const t=this.state.apply(e);this.view.updateState(t),this.selection={from:this.state.selection.from,to:this.state.selection.to},this.setActiveNodesAndMarks(),this.emit("transaction",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:e}),e.docChanged&&!e.getMeta("preventUpdate")&&this.emitUpdate(e)}emitUpdate(e){this.emit("update",{getHTML:this.getHTML.bind(this),getJSON:this.getJSON.bind(this),state:this.state,transaction:e})}resolveSelection(e=null){if(this.selection&&null===e)return this.selection;if("start"===e||!0===e)return{from:0,to:0};if("end"===e){const{doc:e}=this.state;return{from:e.content.size,to:e.content.size}}return{from:e,to:e}}focus(e=null){if(this.view.focused&&null===e||!1===e)return;const{from:t,to:n}=this.resolveSelection(e);this.setSelection(t,n),setTimeout(()=>this.view.focus(),10)}setSelection(e=0,t=0){const{doc:n,tr:o}=this.state,i=R(e,0,n.content.size),s=R(t,0,n.content.size),l=r["TextSelection"].create(n,i,s),a=o.setSelection(l);this.view.dispatch(a)}blur(){this.view.dom.blur()}getSchemaJSON(){return JSON.parse(JSON.stringify({nodes:this.extensions.nodes,marks:this.extensions.marks}))}getHTML(){const e=document.createElement("div"),t=i["DOMSerializer"].fromSchema(this.schema).serializeFragment(this.state.doc.content);return e.appendChild(t),e.innerHTML}getJSON(){return this.state.doc.toJSON()}setContent(e={},t=!1,n){const{doc:o,tr:i}=this.state,s=this.createDocument(e,n),l=r["TextSelection"].create(o,0,o.content.size),a=i.setSelection(l).replaceSelectionWith(s,!1).setMeta("preventUpdate",!t);this.view.dispatch(a)}clearContent(e=!1){this.setContent(this.options.emptyDocument,e)}setActiveNodesAndMarks(){this.activeMarks=Object.entries(this.schema.marks).reduce((e,[t,n])=>({...e,[t]:(e={})=>Object(k["g"])(this.state,n,e)}),{}),this.activeMarkAttrs=Object.entries(this.schema.marks).reduce((e,[t,n])=>({...e,[t]:Object(k["d"])(this.state,n)}),{}),this.activeNodes=Object.entries(this.schema.nodes).reduce((e,[t,n])=>({...e,[t]:(e={})=>Object(k["i"])(this.state,n,e)}),{})}getMarkAttrs(e=null){return this.activeMarkAttrs[e]}getNodeAttrs(e=null){return{...Object(k["f"])(this.state,this.schema.nodes[e])}}get isActive(){return Object.entries({...this.activeMarks,...this.activeNodes}).reduce((e,[t,n])=>({...e,[t]:(e={})=>n(e)}),{})}registerPlugin(e=null,t){const n="function"===typeof t?t(e,this.state.plugins):[e,...this.state.plugins],r=this.state.reconfigure({plugins:n});this.view.updateState(r)}unregisterPlugin(e=null){if(!e||!this.view.docView)return;const t=this.state.reconfigure({plugins:this.state.plugins.filter(t=>!t.key.startsWith(e+"$"))});this.view.updateState(t)}destroy(){this.view&&this.view.destroy()}}var F={props:{editor:{default:null,type:Object}},watch:{editor:{immediate:!0,handler(e){e&&e.element&&this.$nextTick(()=>{this.$el.appendChild(e.element.firstChild),e.setParentComponent(this)})}}},render(e){return e("div")},beforeDestroy(){this.editor.element=this.$el}};class B{constructor({options:e}){this.options=e,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.blurHandler=()=>{this.preventHide?this.preventHide=!1:this.options.editor.emit("menubar:focusUpdate",!1)},this.options.editor.on("blur",this.blurHandler)}handleClick(){this.preventHide=!0}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("blur",this.blurHandler)}}function L(e){return new r["Plugin"]({key:new r["PluginKey"]("menu_bar"),view(t){return new B({editorView:t,options:e})}})}var V={props:{editor:{default:null,type:Object}},data(){return{focused:!1}},watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick(()=>{e.registerPlugin(L({editor:e,element:this.$el})),this.focused=e.focused,e.on("focus",()=>{this.focused=!0}),e.on("menubar:focusUpdate",e=>{this.focused=e})})}}},render(){return this.editor?this.$scopedSlots.default({focused:this.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor)}):null}};function q(e,t,n){const r=document.createRange();return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,Math.max(t,0)),r}function H(e,t){const n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}function W(e,t,n=!1){const{node:r,offset:o}=e.docView.domFromPos(t);let i,s;if(3===r.nodeType)n&&o<r.nodeValue.length?(s=H(q(r,o-1,o),-1),i="right"):o<r.nodeValue.length&&(s=H(q(r,o,o+1),-1),i="left");else if(r.firstChild){if(o<r.childNodes.length){const e=r.childNodes[o];s=H(3===e.nodeType?q(e):e,-1),i="left"}if((!s||s.top===s.bottom)&&o){const e=r.childNodes[o-1];s=H(3===e.nodeType?q(e):e,1),i="right"}}else s=r.getBoundingClientRect(),i="left";const l=s[i];return{top:s.top,bottom:s.bottom,left:l,right:l}}class U{constructor({options:e,editorView:t}){this.options={element:null,keepInBounds:!0,onUpdate:()=>!1,...e},this.editorView=t,this.isActive=!1,this.left=0,this.bottom=0,this.top=0,this.preventHide=!1,this.mousedownHandler=this.handleClick.bind(this),this.options.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.focusHandler=({view:e})=>{this.update(e)},this.options.editor.on("focus",this.focusHandler),this.blurHandler=({event:e})=>{this.preventHide?this.preventHide=!1:this.hide(e)},this.options.editor.on("blur",this.blurHandler)}handleClick(){this.preventHide=!0}update(e,t){const{state:n}=e;if(e.composing)return;if(t&&t.doc.eq(n.doc)&&t.selection.eq(n.selection))return;if(n.selection.empty)return void this.hide();const{from:r,to:o}=n.selection,i=W(e,r),s=W(e,o,!0),l=this.options.element.offsetParent;if(!l)return void this.hide();const a=l.getBoundingClientRect(),c=this.options.element.getBoundingClientRect(),u=(i.left+s.left)/2-a.left;this.left=Math.round(this.options.keepInBounds?Math.min(a.width-c.width/2,Math.max(u,c.width/2)):u),this.bottom=Math.round(a.bottom-i.top),this.top=Math.round(s.bottom-a.top),this.isActive=!0,this.sendUpdate()}sendUpdate(){this.options.onUpdate({isActive:this.isActive,left:this.left,bottom:this.bottom,top:this.top})}hide(e){e&&e.relatedTarget&&this.options.element.parentNode&&this.options.element.parentNode.contains(e.relatedTarget)||(this.isActive=!1,this.sendUpdate())}destroy(){this.options.element.removeEventListener("mousedown",this.mousedownHandler),this.options.editor.off("focus",this.focusHandler),this.options.editor.off("blur",this.blurHandler)}}function J(e){return new r["Plugin"]({key:new r["PluginKey"]("menu_bubble"),view(t){return new U({editorView:t,options:e})}})}var K={props:{editor:{default:null,type:Object},keepInBounds:{default:!0,type:Boolean}},data(){return{menu:{isActive:!1,left:0,bottom:0}}},watch:{editor:{immediate:!0,handler(e){e&&this.$nextTick(()=>{e.registerPlugin(J({editor:e,element:this.$el,keepInBounds:this.keepInBounds,onUpdate:e=>{e.isActive&&!1===this.menu.isActive?this.$emit("show",e):e.isActive||!0!==this.menu.isActive||this.$emit("hide",e),this.menu=e}}))})}}},render(){return this.editor?this.$scopedSlots.default({focused:this.editor.view.focused,focus:this.editor.focus,commands:this.editor.commands,isActive:this.editor.isActive,getMarkAttrs:this.editor.getMarkAttrs.bind(this.editor),getNodeAttrs:this.editor.getNodeAttrs.bind(this.editor),menu:this.menu}):null},beforeDestroy(){this.editor.unregisterPlugin("menu_bubble")}}},d2bb:function(e,t,n){var r=n("e330"),o=n("825a"),i=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(s){}return function(n,r){return o(n),i(r),t?e(n,r):n.__proto__=r,n}}():void 0)},d9e2:function(e,t,n){var r=n("23e7"),o=n("da84"),i=n("2ba4"),s=n("e5cb"),l="WebAssembly",a=o[l],c=7!==Error("e",{cause:7}).cause,u=function(e,t){var n={};n[e]=s(e,t,c),r({global:!0,constructor:!0,arity:1,forced:c},n)},d=function(e,t){if(a&&a[e]){var n={};n[e]=s(l+"."+e,t,c),r({target:l,stat:!0,constructor:!0,arity:1,forced:c},n)}};u("Error",(function(e){return function(t){return i(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return i(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return i(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return i(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return i(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return i(e,this,arguments)}})),u("URIError",(function(e){return function(t){return i(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return i(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return i(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return i(e,this,arguments)}}))},defb:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=82)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,l){var a,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(a=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=a):o&&(a=l?function(){o.call(this,this.$root.$options.shadowRoot)}:o),a)if(c.functional){c._injectStyles=a;var u=c.render;c.render=function(e,t){return a.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,a):[a]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},5:function(e,t){e.exports=n("e974")},82:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"el-zoom-in-top"},on:{"after-leave":e.doDestroy}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:e.showPopper,expression:"showPopper"}],staticClass:"el-dropdown-menu el-popper",class:[e.size&&"el-dropdown-menu--"+e.size]},[e._t("default")],2)])},o=[];r._withStripped=!0;var i=n(5),s=n.n(i),l={name:"ElDropdownMenu",componentName:"ElDropdownMenu",mixins:[s.a],props:{visibleArrow:{type:Boolean,default:!0},arrowOffset:{type:Number,default:0}},data:function(){return{size:this.dropdown.dropdownSize}},inject:["dropdown"],created:function(){var e=this;this.$on("updatePopper",(function(){e.showPopper&&e.updatePopper()})),this.$on("visible",(function(t){e.showPopper=t}))},mounted:function(){this.dropdown.popperElm=this.popperElm=this.$el,this.referenceElm=this.dropdown.$el,this.dropdown.initDomOperation()},watch:{"dropdown.placement":{immediate:!0,handler:function(e){this.currentPlacement=e}}}},a=l,c=n(0),u=Object(c["a"])(a,r,o,!1,null,null,null);u.options.__file="packages/dropdown/src/dropdown-menu.vue";var d=u.exports;d.install=function(e){e.component(d.name,d)};t["default"]=d}})},df33:function(e,t,n){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=81)}({0:function(e,t,n){"use strict";function r(e,t,n,r,o,i,s,l){var a,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),s?(a=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=a):o&&(a=l?function(){o.call(this,this.$root.$options.shadowRoot)}:o),a)if(c.functional){c._injectStyles=a;var u=c.render;c.render=function(e,t){return a.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,a):[a]}return{exports:e,options:c}}n.d(t,"a",(function(){return r}))},11:function(e,t){e.exports=n("2bb5")},13:function(e,t){e.exports=n("5128")},4:function(e,t){e.exports=n("d010")},81:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"dialog-fade"},on:{"after-enter":e.afterEnter,"after-leave":e.afterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"el-dialog__wrapper",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleWrapperClick(t)}}},[n("div",{key:e.key,ref:"dialog",class:["el-dialog",{"is-fullscreen":e.fullscreen,"el-dialog--center":e.center},e.customClass],style:e.style,attrs:{role:"dialog","aria-modal":"true","aria-label":e.title||"dialog"}},[n("div",{staticClass:"el-dialog__header"},[e._t("title",[n("span",{staticClass:"el-dialog__title"},[e._v(e._s(e.title))])]),e.showClose?n("button",{staticClass:"el-dialog__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:e.handleClose}},[n("i",{staticClass:"el-dialog__close el-icon el-icon-close"})]):e._e()],2),e.rendered?n("div",{staticClass:"el-dialog__body"},[e._t("default")],2):e._e(),e.$slots.footer?n("div",{staticClass:"el-dialog__footer"},[e._t("footer")],2):e._e()])])])},o=[];r._withStripped=!0;var i=n(13),s=n.n(i),l=n(11),a=n.n(l),c=n(4),u=n.n(c),d={name:"ElDialog",mixins:[s.a,u.a,a.a],props:{title:{type:String,default:""},modal:{type:Boolean,default:!0},modalAppendToBody:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},width:String,fullscreen:Boolean,customClass:{type:String,default:""},top:{type:String,default:"15vh"},beforeClose:Function,center:{type:Boolean,default:!1},destroyOnClose:Boolean},data:function(){return{closed:!1,key:0}},watch:{visible:function(e){var t=this;e?(this.closed=!1,this.$emit("open"),this.$el.addEventListener("scroll",this.updatePopper),this.$nextTick((function(){t.$refs.dialog.scrollTop=0})),this.appendToBody&&document.body.appendChild(this.$el)):(this.$el.removeEventListener("scroll",this.updatePopper),this.closed||this.$emit("close"),this.destroyOnClose&&this.$nextTick((function(){t.key++})))}},computed:{style:function(){var e={};return this.fullscreen||(e.marginTop=this.top,this.width&&(e.width=this.width)),e}},methods:{getMigratingConfig:function(){return{props:{size:"size is removed."}}},handleWrapperClick:function(){this.closeOnClickModal&&this.handleClose()},handleClose:function(){"function"===typeof this.beforeClose?this.beforeClose(this.hide):this.hide()},hide:function(e){!1!==e&&(this.$emit("update:visible",!1),this.$emit("close"),this.closed=!0)},updatePopper:function(){this.broadcast("ElSelectDropdown","updatePopper"),this.broadcast("ElDropdownMenu","updatePopper")},afterEnter:function(){this.$emit("opened")},afterLeave:function(){this.$emit("closed")}},mounted:function(){this.visible&&(this.rendered=!0,this.open(),this.appendToBody&&document.body.appendChild(this.$el))},destroyed:function(){this.appendToBody&&this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)}},p=d,h=n(0),f=Object(h["a"])(p,r,o,!1,null,null,null);f.options.__file="packages/dialog/src/component.vue";var m=f.exports;m.install=function(e){e.component(m.name,m)};t["default"]=m}})},e391:function(e,t,n){var r=n("577e");e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},e3da:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return v}));for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},i="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),s=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),l="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),a=s||i&&+i[1]<57,c=0;c<10;c++)r[48+c]=r[96+c]=String(c);for(c=1;c<=24;c++)r[c+111]="F"+c;for(c=65;c<=90;c++)r[c]=String.fromCharCode(c+32),o[c]=String.fromCharCode(c);for(var u in r)o.hasOwnProperty(u)||(o[u]=r[u]);function d(e){var t=a&&(e.ctrlKey||e.altKey||e.metaKey)||l&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key,n=!t&&e.key||(e.shiftKey?o:r)[e.keyCode]||e.key||"Unidentified";return"Esc"==n&&(n="Escape"),"Del"==n&&(n="Delete"),"Left"==n&&(n="ArrowLeft"),"Up"==n&&(n="ArrowUp"),"Right"==n&&(n="ArrowRight"),"Down"==n&&(n="ArrowDown"),n}var p=n("6ffb");const h="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function f(e){let t,n,r,o,i=e.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(let l=0;l<i.length-1;l++){let e=i[l];if(/^(cmd|meta|m)$/i.test(e))o=!0;else if(/^a(lt)?$/i.test(e))t=!0;else if(/^(c|ctrl|control)$/i.test(e))n=!0;else if(/^s(hift)?$/i.test(e))r=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);h?o=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function m(e){let t=Object.create(null);for(let n in e)t[f(n)]=e[n];return t}function g(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function v(e){return new p["Plugin"]({props:{handleKeyDown:y(e)}})}function y(e){let t=m(e);return function(e,n){let o,i=d(n),s=1==i.length&&" "!=i,l=t[g(i,n,!s)];if(l&&l(e.state,e.dispatch,e))return!0;if(s&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(o=r[n.keyCode])&&o!=i){let r=t[g(o,n,!0)];if(r&&r(e.state,e.dispatch,e))return!0}else if(s&&n.shiftKey){let r=t[g(i,n,!0)];if(r&&r(e.state,e.dispatch,e))return!0}return!1}}},e5cb:function(e,t,n){"use strict";var r=n("d066"),o=n("1a2d"),i=n("9112"),s=n("3a9b"),l=n("d2bb"),a=n("e893"),c=n("aeb0"),u=n("7156"),d=n("e391"),p=n("ab36"),h=n("0d26"),f=n("b980"),m=n("83ab"),g=n("c430");e.exports=function(e,t,n,v){var y="stackTraceLimit",b=v?2:1,w=e.split("."),x=w[w.length-1],k=r.apply(null,w);if(k){var S=k.prototype;if(!g&&o(S,"cause")&&delete S.cause,!n)return k;var _=r("Error"),C=t((function(e,t){var n=d(v?t:e,void 0),r=v?new k(e):new k;return void 0!==n&&i(r,"message",n),f&&i(r,"stack",h(r.stack,2)),this&&s(S,this)&&u(r,this,C),arguments.length>b&&p(r,arguments[b]),r}));if(C.prototype=S,"Error"!==x?l?l(C,_):a(C,_,{name:!0}):m&&y in k&&(c(C,k,y),c(C,k,"prepareStackTrace")),a(C,k),!g)try{S.name!==x&&i(S,"name",x),S.constructor=C}catch(O){}return C}}},e6f7:function(e,t,n){"use strict";n("12c8")},f23d:function(e,t,n){"use strict";n.d(t,"a",(function(){return P})),n.d(t,"b",(function(){return X})),n.d(t,"c",(function(){return $})),n.d(t,"d",(function(){return F})),n.d(t,"e",(function(){return B})),n.d(t,"f",(function(){return te})),n.d(t,"g",(function(){return L})),n.d(t,"h",(function(){return q})),n.d(t,"i",(function(){return Z})),n.d(t,"j",(function(){return Y})),n.d(t,"k",(function(){return H})),n.d(t,"l",(function(){return W})),n.d(t,"m",(function(){return ne})),n.d(t,"n",(function(){return Q})),n.d(t,"o",(function(){return J})),n.d(t,"p",(function(){return K})),n.d(t,"q",(function(){return G})),n.d(t,"r",(function(){return ee}));var r=n("cd42"),o=n("a9de"),i=(n("3ce4"),n("703f")),s=n("a15f"),l=(n("6f27"),n("6ffb")),a=n("fc88"),c=n("b923");new l["PluginKey"]("collab");var u=200,d=function(){};d.prototype.append=function(e){return e.length?(e=d.from(e),!this.length&&e||e.length<u&&this.leafAppend(e)||this.length<u&&e.leafPrepend(this)||this.appendInner(e)):this},d.prototype.prepend=function(e){return e.length?d.from(e).append(this):this},d.prototype.appendInner=function(e){return new h(this,e)},d.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?d.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},d.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},d.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},d.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},d.from=function(e){return e instanceof d?e:e&&e.length?new p(e):d.empty};var p=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=u)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=u)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(d);d.empty=new p([]);var h=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(d),f=d,m=f;const g=500;class v{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,o=this.items.length;for(;;o--){let e=this.items.get(o-1);if(e.selection){--o;break}}t&&(n=this.remapping(o,this.items.length),r=n.maps.length);let i,s,l=e.tr,a=[],c=[];return this.items.forEach((e,t)=>{if(!e.step)return n||(n=this.remapping(o,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new b(e.map));let t,o=e.step.map(n.slice(r));o&&l.maybeStep(o).doc&&(t=l.mapping.maps[l.mapping.maps.length-1],a.push(new b(t,void 0,void 0,a.length+c.length))),r--,t&&n.appendMap(t,r)}else l.maybeStep(e.step);return e.selection?(i=n?e.selection.map(n.slice(r)):e.selection,s=new v(this.items.slice(0,o).append(c.reverse().concat(a)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:s,transform:l,selection:i}}addTransform(e,t,n,r){let o=[],i=this.eventCount,s=this.items,l=!r&&s.length?s.get(s.length-1):null;for(let c=0;c<e.steps.length;c++){let n,a=e.steps[c].invert(e.docs[c]),u=new b(e.mapping.maps[c],a,t);(n=l&&l.merge(u))&&(u=n,c?o.pop():s=s.slice(0,s.length-1)),o.push(u),t&&(i++,t=void 0),r||(l=u)}let a=i-n.depth;return a>x&&(s=y(s,a),i-=a),new v(s.append(o),i)}remapping(e,t){let n=new c["a"];return this.items.forEach((t,r)=>{let o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,o)},e,t),n}addMaps(e){return 0==this.eventCount?this:new v(this.items.append(e.map(e=>new b(e))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,s=this.eventCount;this.items.forEach(e=>{e.selection&&s--},r);let l=t;this.items.forEach(t=>{let r=o.getMirror(--l);if(null==r)return;i=Math.min(i,r);let a=o.maps[r];if(t.step){let i=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(o.slice(l+1,r));c&&s++,n.push(new b(a,i,c))}else n.push(new b(a))},r);let a=[];for(let d=t;d<i;d++)a.push(new b(o.maps[d]));let c=this.items.slice(0,r).append(a).append(n),u=new v(c,s);return u.emptyItemCount()>g&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach((i,s)=>{if(s>=e)r.push(i),i.selection&&o++;else if(i.step){let e=i.step.map(t.slice(n)),s=e&&e.getMap();if(n--,s&&t.appendMap(s,n),e){let l=i.selection&&i.selection.map(t.slice(n));l&&o++;let a,c=new b(s.invert(),e,l),u=r.length-1;(a=r.length&&r[u].merge(c))?r[u]=a:r.push(c)}}else i.map&&n--},this.items.length,0),new v(m.from(r.reverse()),o)}}function y(e,t){let n;return e.forEach((e,r)=>{if(e.selection&&0==t--)return n=r,!1}),e.slice(n)}v.empty=new v(m.empty,0);class b{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new b(t.getMap().invert(),t,this.selection)}}}class w{constructor(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r}}const x=20;function k(e,t,n,r){let o,i=n.getMeta(A);if(i)return i.historyState;n.getMeta(N)&&(e=new w(e.done,e.undone,null,0));let s=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(s&&s.getMeta(A))return s.getMeta(A).redo?new w(e.done.addTransform(n,void 0,r,T(t)),e.undone,_(n.mapping.maps[n.steps.length-1]),e.prevTime):new w(e.done,e.undone.addTransform(n,void 0,r,T(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new w(e.done.rebased(n,o),e.undone.rebased(n,o),C(e.prevRanges,n.mapping),e.prevTime):new w(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),C(e.prevRanges,n.mapping),e.prevTime);{let o=0==e.prevTime||!s&&(e.prevTime<(n.time||0)-r.newGroupDelay||!S(n,e.prevRanges)),i=s?C(e.prevRanges,n.mapping):_(n.mapping.maps[n.steps.length-1]);return new w(e.done.addTransform(n,o?t.selection.getBookmark():void 0,r,T(t)),v.empty,i,n.time)}}function S(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((e,r)=>{for(let o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)}),n}function _(e){let t=[];return e.forEach((e,n,r,o)=>t.push(r,o)),t}function C(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function O(e,t,n,r){let o=T(t),i=A.get(t).spec.config,s=(r?e.undone:e.done).popEvent(t,o);if(!s)return;let l=s.selection.resolve(s.transform.doc),a=(r?e.done:e.undone).addTransform(s.transform,t.selection.getBookmark(),i,o),c=new w(r?a:s.remaining,r?s.remaining:a,null,0);n(s.transform.setSelection(l).setMeta(A,{redo:r,historyState:c}).scrollIntoView())}let M=!1,E=null;function T(e){let t=e.plugins;if(E!=t){M=!1,E=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){M=!0;break}}return M}const A=new l["PluginKey"]("history"),N=new l["PluginKey"]("closeHistory");function R(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new l["Plugin"]({key:A,state:{init(){return new w(v.empty,v.empty,null,0)},apply(t,n,r){return k(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?I:"historyRedo"==n?z:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}const I=(e,t)=>{let n=A.getState(e);return!(!n||0==n.done.eventCount)&&(t&&O(n,e,t,!1),!0)},z=(e,t)=>{let n=A.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&O(n,e,t,!0),!0)};function j(e){let t=A.getState(e);return t?t.done.eventCount:0}function D(e){let t=A.getState(e);return t?t.undone.eventCount:0}
/*!
    * tiptap-extensions v1.35.1
    * (c) 2021 überdosis GbR (limited liability)
    * @license MIT
    */class P extends r["h"]{get name(){return"blockquote"}get schema(){return{content:"block*",group:"block",defining:!0,draggable:!1,parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]}}commands({type:e}){return()=>Object(o["s"])(e)}keys({type:e}){return{"Ctrl->":Object(o["s"])(e)}}inputRules({type:e}){return[Object(o["u"])(/^\s*>\s$/,e)]}}class $ extends r["h"]{get name(){return"bullet_list"}get schema(){return{content:"list_item+",group:"block",parseDOM:[{tag:"ul"}],toDOM:()=>["ul",0]}}commands({type:e,schema:t}){return()=>Object(o["q"])(e,t.nodes.list_item)}keys({type:e,schema:t}){return{"Shift-Ctrl-8":Object(o["q"])(e,t.nodes.list_item)}}inputRules({type:e}){return[Object(o["u"])(/^\s*([-+*])\s$/,e)]}}class F extends r["h"]{get name(){return"code_block"}get schema(){return{content:"text*",marks:"",group:"block",code:!0,defining:!0,draggable:!1,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:()=>["pre",["code",0]]}}commands({type:e,schema:t}){return()=>Object(o["p"])(e,t.nodes.paragraph)}keys({type:e}){return{"Shift-Ctrl-\\":Object(o["k"])(e)}}inputRules({type:e}){return[Object(o["o"])(/^```$/,e)]}}r["h"];r["h"];class B extends r["h"]{get name(){return"heading"}get defaultOptions(){return{levels:[1,2,3,4,5,6]}}get schema(){return{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,draggable:!1,parseDOM:this.options.levels.map(e=>({tag:"h"+e,attrs:{level:e}})),toDOM:e=>["h"+e.attrs.level,0]}}commands({type:e,schema:t}){return n=>Object(o["p"])(e,t.nodes.paragraph,n)}keys({type:e}){return this.options.levels.reduce((t,n)=>({...t,["Shift-Ctrl-"+n]:Object(o["k"])(e,{level:n})}),{})}inputRules({type:e}){return this.options.levels.map(t=>Object(o["o"])(new RegExp(`^(#{1,${t}})\\s$`),e,()=>({level:t})))}}class L extends r["h"]{get name(){return"horizontal_rule"}get schema(){return{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["hr"]}}commands({type:e}){return()=>(t,n)=>n(t.tr.replaceSelectionWith(e.create()))}inputRules({type:e}){return[Object(o["g"])(/^(?:---|___\s|\*\*\*\s)$/,e)]}}const V=/!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\)/;class q extends r["h"]{get name(){return"image"}get schema(){return{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:e=>({src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")})}],toDOM:e=>["img",e.attrs]}}commands({type:e}){return t=>(n,r)=>{const{selection:o}=n,i=o.$cursor?o.$cursor.pos:o.$to.pos,s=e.create(t),l=n.tr.insert(i,s);r(l)}}inputRules({type:e}){return[Object(o["g"])(V,e,e=>{const[,t,n,r]=e;return{src:n,alt:t,title:r}})]}get plugins(){return[new r["j"]({props:{handleDOMEvents:{drop(e,t){const n=t.dataTransfer&&t.dataTransfer.files&&t.dataTransfer.files.length;if(!n)return;const r=Array.from(t.dataTransfer.files).filter(e=>/image/i.test(e.type));if(0===r.length)return;t.preventDefault();const{schema:o}=e.state,i=e.posAtCoords({left:t.clientX,top:t.clientY});r.forEach(t=>{const n=new FileReader;n.onload=t=>{const n=o.nodes.image.create({src:t.target.result}),r=e.state.tr.insert(i.pos,n);e.dispatch(r)},n.readAsDataURL(t)})}}}})]}}class H extends r["h"]{get name(){return"list_item"}get schema(){return{content:"paragraph block*",defining:!0,draggable:!1,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]}}keys({type:e}){return{Enter:Object(o["m"])(e),Tab:Object(o["l"])(e),"Shift-Tab":Object(o["d"])(e)}}}r["h"];class W extends r["h"]{get name(){return"ordered_list"}get schema(){return{attrs:{order:{default:1}},content:"list_item+",group:"block",parseDOM:[{tag:"ol",getAttrs:e=>({order:e.hasAttribute("start")?+e.getAttribute("start"):1})}],toDOM:e=>1===e.attrs.order?["ol",0]:["ol",{start:e.attrs.order},0]}}commands({type:e,schema:t}){return()=>Object(o["q"])(e,t.nodes.list_item)}keys({type:e,schema:t}){return{"Shift-Ctrl-9":Object(o["q"])(e,t.nodes.list_item)}}inputRules({type:e}){return[Object(o["u"])(/^(\d+)\.\s$/,e,e=>({order:+e[1]}),(e,t)=>t.childCount+t.attrs.order===+e[1])]}}var U=Object(a["tableNodes"])({tableGroup:"block",cellContent:"block+",cellAttributes:{background:{default:null,getFromDOM(e){return e.style.backgroundColor||null},setDOMAttr(e,t){if(e){const n={style:`${t.style||""}background-color: ${e};`};Object.assign(t,n)}}}}});class J extends r["h"]{get name(){return"table"}get defaultOptions(){return{resizable:!1}}get schema(){return U.table}commands({schema:e}){return{createTable:({rowsCount:t,colsCount:n,withHeaderRow:r})=>(o,i)=>{const a=o.tr.selection.anchor+1,c=Object(s["a"])(e,t,n,r),u=o.tr.replaceSelectionWith(c).scrollIntoView(),d=u.doc.resolve(a);u.setSelection(l["TextSelection"].near(d)),i(u)},addColumnBefore:()=>a["addColumnBefore"],addColumnAfter:()=>a["addColumnAfter"],deleteColumn:()=>a["deleteColumn"],addRowBefore:()=>a["addRowBefore"],addRowAfter:()=>a["addRowAfter"],deleteRow:()=>a["deleteRow"],deleteTable:()=>a["deleteTable"],toggleCellMerge:()=>(e,t)=>{Object(a["mergeCells"])(e,t)||Object(a["splitCell"])(e,t)},mergeCells:()=>a["mergeCells"],splitCell:()=>a["splitCell"],toggleHeaderColumn:()=>a["toggleHeaderColumn"],toggleHeaderRow:()=>a["toggleHeaderRow"],toggleHeaderCell:()=>a["toggleHeaderCell"],setCellAttr:({name:e,value:t})=>Object(a["setCellAttr"])(e,t),fixTables:()=>a["fixTables"]}}keys(){return{Tab:Object(a["goToNextCell"])(1),"Shift-Tab":Object(a["goToNextCell"])(-1)}}get plugins(){return[...this.options.resizable?[Object(a["columnResizing"])()]:[],Object(a["tableEditing"])()]}}r["h"];r["h"];r["h"];class K extends r["h"]{get name(){return"todo_item"}get defaultOptions(){return{nested:!1}}get view(){return{props:["node","updateAttrs","view"],methods:{onChange(){this.updateAttrs({done:!this.node.attrs.done})}},template:'\n        <li :data-type="node.type.name" :data-done="node.attrs.done.toString()" data-drag-handle>\n          <span class="todo-checkbox" contenteditable="false" @click="onChange"></span>\n          <div class="todo-content" ref="content" :contenteditable="view.editable.toString()"></div>\n        </li>\n      '}}get schema(){return{attrs:{done:{default:!1}},draggable:!0,content:this.options.nested?"(paragraph|todo_list)+":"paragraph+",toDOM:e=>{const{done:t}=e.attrs;return["li",{"data-type":this.name,"data-done":t.toString()},["span",{class:"todo-checkbox",contenteditable:"false"}],["div",{class:"todo-content"},0]]},parseDOM:[{priority:51,tag:`[data-type="${this.name}"]`,getAttrs:e=>({done:"true"===e.getAttribute("data-done")})}]}}keys({type:e}){return{Enter:Object(o["n"])(e),Tab:this.options.nested?Object(o["l"])(e):()=>{},"Shift-Tab":Object(o["d"])(e)}}}class G extends r["h"]{get name(){return"todo_list"}get schema(){return{group:"block",content:"todo_item+",toDOM:()=>["ul",{"data-type":this.name},0],parseDOM:[{priority:51,tag:`[data-type="${this.name}"]`}]}}commands({type:e,schema:t}){return()=>Object(o["q"])(e,t.nodes.todo_item)}inputRules({type:e}){return[Object(o["u"])(/^\s*(\[ \])\s$/,e)]}}class X extends r["g"]{get name(){return"bold"}get schema(){return{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM:()=>["strong",0]}}keys({type:e}){return{"Mod-b":Object(o["r"])(e)}}commands({type:e}){return()=>Object(o["r"])(e)}inputRules({type:e}){return[Object(o["e"])(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,e)]}pasteRules({type:e}){return[Object(o["f"])(/(?:\*\*|__)([^*_]+)(?:\*\*|__)/g,e)]}}r["g"];class Z extends r["g"]{get name(){return"italic"}get schema(){return{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:()=>["em",0]}}keys({type:e}){return{"Mod-i":Object(o["r"])(e)}}commands({type:e}){return()=>Object(o["r"])(e)}inputRules({type:e}){return[Object(o["e"])(/(?:^|[^_])(_([^_]+)_)$/,e),Object(o["e"])(/(?:^|[^*])(\*([^*]+)\*)$/,e)]}pasteRules({type:e}){return[Object(o["f"])(/_([^_]+)_/g,e),Object(o["f"])(/\*([^*]+)\*/g,e)]}}class Y extends r["g"]{get name(){return"link"}get defaultOptions(){return{openOnClick:!0,target:null}}get schema(){return{attrs:{href:{default:null},target:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>({href:e.getAttribute("href"),target:e.getAttribute("target")})}],toDOM:e=>["a",{...e.attrs,rel:"noopener noreferrer nofollow",target:e.attrs.target||this.options.target},0]}}commands({type:e}){return t=>t.href?Object(o["t"])(e,t):Object(o["i"])(e)}pasteRules({type:e}){return[Object(o["h"])(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z]{2,}\b([-a-zA-Z0-9@:%_+.~#?&//=,()!]*)/gi,e,e=>({href:e}))]}get plugins(){return this.options.openOnClick?[new r["j"]({props:{handleClick:(e,t,n)=>{const{schema:r}=e.state,o=Object(s["d"])(e.state,r.marks.link);o.href&&n.target instanceof HTMLAnchorElement&&(n.stopPropagation(),window.open(o.href,o.target))}}})]:[]}}class Q extends r["g"]{get name(){return"strike"}get schema(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:e=>"line-through"===e}],toDOM:()=>["s",0]}}keys({type:e}){return{"Mod-d":Object(o["r"])(e)}}commands({type:e}){return()=>Object(o["r"])(e)}inputRules({type:e}){return[Object(o["e"])(/~([^~]+)~$/,e)]}pasteRules({type:e}){return[Object(o["f"])(/~([^~]+)~/g,e)]}}class ee extends r["g"]{get name(){return"underline"}get schema(){return{parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:e=>"underline"===e}],toDOM:()=>["u",0]}}keys({type:e}){return{"Mod-u":Object(o["r"])(e)}}commands({type:e}){return()=>Object(o["r"])(e)}}r["f"];r["f"];class te extends r["f"]{get name(){return"history"}get defaultOptions(){return{depth:"",newGroupDelay:""}}keys(){const e={"Mod-z":I,"Mod-y":z,"Shift-Mod-z":z,"Mod-я":I,"Shift-Mod-я":z};return e}get plugins(){return[R({depth:this.options.depth,newGroupDelay:this.options.newGroupDelay})]}commands(){return{undo:()=>I,redo:()=>z,undoDepth:()=>j,redoDepth:()=>D}}}class ne extends r["f"]{get name(){return"placeholder"}get defaultOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",emptyNodeText:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0}}get plugins(){return[new r["j"]({props:{decorations:({doc:e,plugins:t,selection:n})=>{const r=t.find(e=>e.key.startsWith("editable$")),o=r.props.editable(),s=o||!this.options.showOnlyWhenEditable,{anchor:l}=n,a=[],c=0===e.textContent.length;return!!s&&(e.descendants((e,t)=>{const n=l>=t&&l<=t+e.nodeSize,r=0===e.content.size;if((n||!this.options.showOnlyCurrent)&&r){const n=[this.options.emptyNodeClass];c&&n.push(this.options.emptyEditorClass);const r=i["a"].node(t,t+e.nodeSize,{class:n.join(" "),"data-empty-text":"function"===typeof this.options.emptyNodeText?this.options.emptyNodeText(e):this.options.emptyNodeText});a.push(r)}return!1}),i["b"].create(e,a))}}})]}}r["f"];r["f"]},f5df:function(e,t,n){var r=n("00ee"),o=n("1626"),i=n("c6b6"),s=n("b622"),l=s("toStringTag"),a=Object,c="Arguments"==i(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=a(e),l))?n:c?i(t):"Object"==(r=i(t))&&o(t.callee)?"Arguments":r}},fc88:function(e,t,n){"use strict";n.r(t),n.d(t,"CellSelection",(function(){return D})),n.d(t,"TableMap",(function(){return d})),n.d(t,"TableView",(function(){return $e})),n.d(t,"__clipCells",(function(){return W})),n.d(t,"__insertCells",(function(){return G})),n.d(t,"__pastedCells",(function(){return V})),n.d(t,"addColSpan",(function(){return z})),n.d(t,"addColumn",(function(){return pe})),n.d(t,"addColumnAfter",(function(){return fe})),n.d(t,"addColumnBefore",(function(){return he})),n.d(t,"addRow",(function(){return ye})),n.d(t,"addRowAfter",(function(){return we})),n.d(t,"addRowBefore",(function(){return be})),n.d(t,"cellAround",(function(){return x})),n.d(t,"colCount",(function(){return A})),n.d(t,"columnIsHeader",(function(){return j})),n.d(t,"columnResizing",(function(){return Le})),n.d(t,"columnResizingPluginKey",(function(){return Be})),n.d(t,"deleteColumn",(function(){return ge})),n.d(t,"deleteRow",(function(){return ke})),n.d(t,"deleteTable",(function(){return Pe})),n.d(t,"findCell",(function(){return T})),n.d(t,"fixTables",(function(){return ce})),n.d(t,"fixTablesKey",(function(){return le})),n.d(t,"goToNextCell",(function(){return De})),n.d(t,"handlePaste",(function(){return ne})),n.d(t,"inSameTable",(function(){return E})),n.d(t,"isInTable",(function(){return S})),n.d(t,"mergeCells",(function(){return Ce})),n.d(t,"moveCellForward",(function(){return M})),n.d(t,"nextCell",(function(){return N})),n.d(t,"pointsAtCell",(function(){return O})),n.d(t,"removeColSpan",(function(){return I})),n.d(t,"removeColumn",(function(){return me})),n.d(t,"removeRow",(function(){return xe})),n.d(t,"rowIsHeader",(function(){return ve})),n.d(t,"selectedRect",(function(){return de})),n.d(t,"selectionCell",(function(){return _})),n.d(t,"setAttr",(function(){return R})),n.d(t,"setCellAttr",(function(){return Ee})),n.d(t,"splitCell",(function(){return Oe})),n.d(t,"splitCellWithType",(function(){return Me})),n.d(t,"tableEditing",(function(){return tt})),n.d(t,"tableEditingKey",(function(){return w})),n.d(t,"tableNodeTypes",(function(){return b})),n.d(t,"tableNodes",(function(){return y})),n.d(t,"toggleHeader",(function(){return Ne})),n.d(t,"toggleHeaderCell",(function(){return ze})),n.d(t,"toggleHeaderColumn",(function(){return Ie})),n.d(t,"toggleHeaderRow",(function(){return Re})),n.d(t,"updateColumnsOnResize",(function(){return Fe}));var r=n("6ffb"),o=n("6f27"),i=n("e3da"),s=n("703f"),l=n("b923");let a,c;if("undefined"!=typeof WeakMap){let e=new WeakMap;a=t=>e.get(t),c=(t,n)=>(e.set(t,n),n)}else{let e=[],t=10,n=0;a=t=>{for(let n=0;n<e.length;n+=2)if(e[n]==t)return e[n+1]},c=(r,o)=>(n==t&&(n=0),e[n++]=r,e[n++]=o)}class u{constructor(e,t,n,r){this.left=e,this.top=t,this.right=n,this.bottom=r}}class d{constructor(e,t,n,r){this.width=e,this.height=t,this.map=n,this.problems=r}findCell(e){for(let t=0;t<this.map.length;t++){let n=this.map[t];if(n!=e)continue;let r=t%this.width,o=t/this.width|0,i=r+1,s=o+1;for(let e=1;i<this.width&&this.map[t+e]==n;e++)i++;for(let e=1;s<this.height&&this.map[t+this.width*e]==n;e++)s++;return new u(r,o,i,s)}throw new RangeError("No cell with offset "+e+" found")}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")}nextCell(e,t,n){let{left:r,right:o,top:i,bottom:s}=this.findCell(e);return"horiz"==t?(n<0?0==r:o==this.width)?null:this.map[i*this.width+(n<0?r-1:o)]:(n<0?0==i:s==this.height)?null:this.map[r+this.width*(n<0?i-1:s)]}rectBetween(e,t){let{left:n,right:r,top:o,bottom:i}=this.findCell(e),{left:s,right:l,top:a,bottom:c}=this.findCell(t);return new u(Math.min(n,s),Math.min(o,a),Math.max(r,l),Math.max(i,c))}cellsInRect(e){let t=[],n={};for(let r=e.top;r<e.bottom;r++)for(let o=e.left;o<e.right;o++){let i=r*this.width+o,s=this.map[i];n[s]||(n[s]=!0,o==e.left&&o&&this.map[i-1]==s||r==e.top&&r&&this.map[i-this.width]==s||t.push(s))}return t}positionAt(e,t,n){for(let r=0,o=0;;r++){let i=o+n.child(r).nodeSize;if(r==e){let n=t+e*this.width,r=(e+1)*this.width;while(n<r&&this.map[n]<o)n++;return n==r?i-1:this.map[n]}o=i}}static get(e){return a(e)||c(e,p(e))}}function p(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);let t=h(e),n=e.childCount,r=[],o=0,i=null,s=[];for(let c=0,u=t*n;c<u;c++)r[c]=0;for(let c=0,u=0;c<n;c++){let l=e.child(c);u++;for(let e=0;;e++){while(o<r.length&&0!=r[o])o++;if(e==l.childCount)break;let a=l.child(e),{colspan:d,rowspan:p,colwidth:h}=a.attrs;for(let e=0;e<p;e++){if(e+c>=n){(i||(i=[])).push({type:"overlong_rowspan",pos:u,n:p-e});break}let l=o+e*t;for(let e=0;e<d;e++){0==r[l+e]?r[l+e]=u:(i||(i=[])).push({type:"collision",row:c,pos:u,n:d-e});let n=h&&h[e];if(n){let r=(l+e)%t*2,o=s[r];null==o||o!=n&&1==s[r+1]?(s[r]=n,s[r+1]=1):o==n&&s[r+1]++}}}o+=d,u+=a.nodeSize}let a=(c+1)*t,d=0;while(o<a)0==r[o++]&&d++;d&&(i||(i=[])).push({type:"missing",row:c,n:d}),u++}let l=new d(t,n,r,i),a=!1;for(let c=0;!a&&c<s.length;c+=2)null!=s[c]&&s[c+1]<n&&(a=!0);return a&&f(l,s,e),l}function h(e){let t=-1,n=!1;for(let r=0;r<e.childCount;r++){let o=e.child(r),i=0;if(n)for(let t=0;t<r;t++){let n=e.child(t);for(let e=0;e<n.childCount;e++){let o=n.child(e);t+o.attrs.rowspan>r&&(i+=o.attrs.colspan)}}for(let e=0;e<o.childCount;e++){let t=o.child(e);i+=t.attrs.colspan,t.attrs.rowspan>1&&(n=!0)}-1==t?t=i:t!=i&&(t=Math.max(t,i))}return t}function f(e,t,n){e.problems||(e.problems=[]);for(let r=0,o={};r<e.map.length;r++){let i=e.map[r];if(o[i])continue;o[i]=!0;let s=n.nodeAt(i),l=null;for(let n=0;n<s.attrs.colspan;n++){let o=(r+n)%e.width,i=t[2*o];null==i||s.attrs.colwidth&&s.attrs.colwidth[n]==i||((l||(l=m(s.attrs)))[n]=i)}l&&e.problems.unshift({type:"colwidth mismatch",pos:i,colwidth:l})}}function m(e){if(e.colwidth)return e.colwidth.slice();let t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function g(e,t){let n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map(e=>Number(e)):null,o=Number(e.getAttribute("colspan")||1),i={colspan:o,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length==o?r:null};for(let s in t){let n=t[s].getFromDOM,r=n&&n(e);null!=r&&(i[s]=r)}return i}function v(e,t){let n={};1!=e.attrs.colspan&&(n.colspan=e.attrs.colspan),1!=e.attrs.rowspan&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(","));for(let r in t){let o=t[r].setDOMAttr;o&&o(e.attrs[r],n)}return n}function y(e){let t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(let r in t)n[r]={default:t[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:e=>g(e,t)}],toDOM(e){return["td",v(e,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:e=>g(e,t)}],toDOM(e){return["th",v(e,t),0]}}}}function b(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(let n in e.nodes){let r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}}return t}const w=new r["PluginKey"]("selectingCells");function x(e){for(let t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function k(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}function S(e){let t=e.selection.$head;for(let n=t.depth;n>0;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function _(e){let t=e.selection;return t.$anchorCell?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:t.node&&"cell"==t.node.type.spec.tableRole?t.$anchor:x(t.$head)||C(t.$head)}function C(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){let r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){let r=t.type.spec.tableRole;if("cell"==r||"header_cell"==r)return e.doc.resolve(n-t.nodeSize)}}function O(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function M(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function E(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function T(e){return d.get(e.node(-1)).findCell(e.pos-e.start(-1))}function A(e){return d.get(e.node(-1)).colCount(e.pos-e.start(-1))}function N(e,t,n){let r=e.start(-1),o=d.get(e.node(-1)),i=o.nextCell(e.pos-r,t,n);return null==i?null:e.node(0).resolve(r+i)}function R(e,t,n){let r={};for(let o in e)r[o]=e[o];return r[t]=n,r}function I(e,t,n=1){let r=R(e,"colspan",e.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some(e=>e>0)||(r.colwidth=null)),r}function z(e,t,n=1){let r=R(e,"colspan",e.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(let e=0;e<n;e++)r.colwidth.splice(t,0,0)}return r}function j(e,t,n){let r=b(t.type.schema).header_cell;for(let o=0;o<e.height;o++)if(t.nodeAt(e.map[n+o*e.width]).type!=r)return!1;return!0}class D extends r["Selection"]{constructor(e,t=e){let n=e.node(-1),o=d.get(n),i=e.start(-1),s=o.rectBetween(e.pos-i,t.pos-i),l=e.node(0),a=o.cellsInRect(s).filter(e=>e!=t.pos-i);a.unshift(t.pos-i);let c=a.map(e=>{let t=n.nodeAt(e),o=e+i+1;return new r["SelectionRange"](l.resolve(o),l.resolve(o+t.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=t}map(e,t){let n=e.resolve(t.map(this.$anchorCell.pos)),o=e.resolve(t.map(this.$headCell.pos));if(O(n)&&O(o)&&E(n,o)){let e=this.$anchorCell.node(-1)!=n.node(-1);return e&&this.isRowSelection()?D.rowSelection(n,o):e&&this.isColSelection()?D.colSelection(n,o):new D(n,o)}return r["TextSelection"].between(n,o)}content(){let e=this.$anchorCell.node(-1),t=d.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),i={},s=[];for(let a=r.top;a<r.bottom;a++){let n=[];for(let o=a*t.width+r.left,s=r.left;s<r.right;s++,o++){let s=t.map[o];if(!i[s]){i[s]=!0;let o=t.findCell(s),l=e.nodeAt(s),a=r.left-o.left,c=o.right-r.right;if(a>0||c>0){let e=l.attrs;a>0&&(e=I(e,0,a)),c>0&&(e=I(e,e.colspan-c,c)),l=o.left<r.left?l.type.createAndFill(e):l.type.create(e,l.content)}if(o.top<r.top||o.bottom>r.bottom){let e=R(l.attrs,"rowspan",Math.min(o.bottom,r.bottom)-Math.max(o.top,r.top));l=o.top<r.top?l.type.createAndFill(e):l.type.create(e,l.content)}n.push(l)}}s.push(e.child(a).copy(o["Fragment"].from(n)))}const l=this.isColSelection()&&this.isRowSelection()?e:s;return new o["Slice"](o["Fragment"].from(l),1,1)}replace(e,t=o["Slice"].empty){let n=e.steps.length,i=this.ranges;for(let r=0;r<i.length;r++){let{$from:s,$to:l}=i[r],a=e.mapping.slice(n);e.replace(a.map(s.pos),a.map(l.pos),r?o["Slice"].empty:t)}let s=r["Selection"].findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,t){this.replace(e,new o["Slice"](o["Fragment"].from(t),0,0))}forEachCell(e){let t=this.$anchorCell.node(-1),n=d.get(t),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let i=0;i<o.length;i++)e(t.nodeAt(o[i]),r+o[i])}isColSelection(){let e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;let n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount}static colSelection(e,t=e){let n=d.get(e.node(-1)),r=e.start(-1),o=n.findCell(e.pos-r),i=n.findCell(t.pos-r),s=e.node(0);return o.top<=i.top?(o.top>0&&(e=s.resolve(r+n.map[o.left])),i.bottom<n.height&&(t=s.resolve(r+n.map[n.width*(n.height-1)+i.right-1]))):(i.top>0&&(t=s.resolve(r+n.map[i.left])),o.bottom<n.height&&(e=s.resolve(r+n.map[n.width*(n.height-1)+o.right-1]))),new D(e,t)}isRowSelection(){let e=d.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),r=e.colCount(this.$headCell.pos-t);if(Math.min(n,r)>0)return!1;let o=n+this.$anchorCell.nodeAfter.attrs.colspan,i=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,i)==e.width}eq(e){return e instanceof D&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,t=e){let n=d.get(e.node(-1)),r=e.start(-1),o=n.findCell(e.pos-r),i=n.findCell(t.pos-r),s=e.node(0);return o.left<=i.left?(o.left>0&&(e=s.resolve(r+n.map[o.top*n.width])),i.right<n.width&&(t=s.resolve(r+n.map[n.width*(i.top+1)-1]))):(i.left>0&&(t=s.resolve(r+n.map[i.top*n.width])),o.right<n.width&&(e=s.resolve(r+n.map[n.width*(o.top+1)-1]))),new D(e,t)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,t){return new D(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){return new D(e.resolve(t),e.resolve(n))}getBookmark(){return new P(this.$anchorCell.pos,this.$headCell.pos)}}D.prototype.visible=!1,r["Selection"].jsonID("cell",D);class P{constructor(e,t){this.anchor=e,this.head=t}map(e){return new P(e.map(this.anchor),e.map(this.head))}resolve(e){let t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&E(t,n)?new D(t,n):r["Selection"].near(n,1)}}function $(e){if(!(e.selection instanceof D))return null;let t=[];return e.selection.forEachCell((e,n)=>{t.push(s["a"].node(n,n+e.nodeSize,{class:"selectedCell"}))}),s["b"].create(e.doc,t)}function F({$from:e,$to:t}){if(e.pos==t.pos||e.pos<e.pos-6)return!1;let n=e.pos,r=t.pos,o=e.depth;for(;o>=0;o--,n++)if(e.after(o+1)<e.end(o))break;for(let i=t.depth;i>=0;i--,r--)if(t.before(i+1)>t.start(i))break;return n==r&&/row|table/.test(e.node(o).type.spec.tableRole)}function B({$from:e,$to:t}){let n,r;for(let o=e.depth;o>0;o--){let t=e.node(o);if("cell"===t.type.spec.tableRole||"header_cell"===t.type.spec.tableRole){n=t;break}}for(let o=t.depth;o>0;o--){let e=t.node(o);if("cell"===e.type.spec.tableRole||"header_cell"===e.type.spec.tableRole){r=e;break}}return n!==r&&0===t.parentOffset}function L(e,t,n){let o,i,s=(t||e).selection,l=(t||e).doc;if(s instanceof r["NodeSelection"]&&(i=s.node.type.spec.tableRole)){if("cell"==i||"header_cell"==i)o=D.create(l,s.from);else if("row"==i){let e=l.resolve(s.from+1);o=D.rowSelection(e,e)}else if(!n){let e=d.get(s.node),t=s.from+1,n=t+e.map[e.width*e.height-1];o=D.create(l,t+1,n)}}else s instanceof r["TextSelection"]&&F(s)?o=r["TextSelection"].create(l,s.from):s instanceof r["TextSelection"]&&B(s)&&(o=r["TextSelection"].create(l,s.$from.start(),s.$from.end()));return o&&(t||(t=e.tr)).setSelection(o),t}function V(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:r}=e;while(1==t.childCount&&(n>0&&r>0||"table"==t.firstChild.type.spec.tableRole))n--,r--,t=t.firstChild.content;let i=t.firstChild,s=i.type.spec.tableRole,l=i.type.schema,a=[];if("row"==s)for(let c=0;c<t.childCount;c++){let e=t.child(c).content,i=c?0:Math.max(0,n-1),s=c<t.childCount-1?0:Math.max(0,r-1);(i||s)&&(e=H(b(l).row,new o["Slice"](e,i,s)).content),a.push(e)}else{if("cell"!=s&&"header_cell"!=s)return null;a.push(n||r?H(b(l).row,new o["Slice"](t,n,r)).content:t)}return q(l,a)}function q(e,t){let n=[];for(let o=0;o<t.length;o++){let e=t[o];for(let t=e.childCount-1;t>=0;t--){let{rowspan:r,colspan:i}=e.child(t).attrs;for(let e=o;e<o+r;e++)n[e]=(n[e]||0)+i}}let r=0;for(let o=0;o<n.length;o++)r=Math.max(r,n[o]);for(let i=0;i<n.length;i++)if(i>=t.length&&t.push(o["Fragment"].empty),n[i]<r){let s=b(e).cell.createAndFill(),l=[];for(let e=n[i];e<r;e++)l.push(s);t[i]=t[i].append(o["Fragment"].from(l))}return{height:t.length,width:r,rows:t}}function H(e,t){let n=e.createAndFill(),r=new l["e"](n).replace(0,n.content.size,t);return r.doc}function W({width:e,height:t,rows:n},r,i){if(e!=r){let t=[],i=[];for(let e=0;e<n.length;e++){let s=n[e],l=[];for(let n=t[e]||0,o=0;n<r;o++){let i=s.child(o%s.childCount);n+i.attrs.colspan>r&&(i=i.type.create(I(i.attrs,i.attrs.colspan,n+i.attrs.colspan-r),i.content)),l.push(i),n+=i.attrs.colspan;for(let n=1;n<i.attrs.rowspan;n++)t[e+n]=(t[e+n]||0)+i.attrs.colspan}i.push(o["Fragment"].from(l))}n=i,e=r}if(t!=i){let e=[];for(let r=0,s=0;r<i;r++,s++){let l=[],a=n[s%t];for(let e=0;e<a.childCount;e++){let t=a.child(e);r+t.attrs.rowspan>i&&(t=t.type.create(R(t.attrs,"rowspan",Math.max(1,i-t.attrs.rowspan)),t.content)),l.push(t)}e.push(o["Fragment"].from(l))}n=e,t=i}return{width:e,height:t,rows:n}}function U(e,t,n,r,i,s,l){let a,c,u=e.doc.type.schema,d=b(u);if(i>t.width)for(let o=0,p=0;o<t.height;o++){let s=n.child(o);p+=s.nodeSize;let u,h=[];u=null==s.lastChild||s.lastChild.type==d.cell?a||(a=d.cell.createAndFill()):c||(c=d.header_cell.createAndFill());for(let e=t.width;e<i;e++)h.push(u);e.insert(e.mapping.slice(l).map(p-1+r),h)}if(s>t.height){let u=[];for(let e=0,r=(t.height-1)*t.width;e<Math.max(t.width,i);e++){let o=!(e>=t.width)&&n.nodeAt(t.map[r+e]).type==d.header_cell;u.push(o?c||(c=d.header_cell.createAndFill()):a||(a=d.cell.createAndFill()))}let p=d.row.create(null,o["Fragment"].from(u)),h=[];for(let e=t.height;e<s;e++)h.push(p);e.insert(e.mapping.slice(l).map(r+n.nodeSize-2),h)}return!(!a&&!c)}function J(e,t,n,r,o,i,s,l){if(0==s||s==t.height)return!1;let a=!1;for(let c=o;c<i;c++){let o=s*t.width+c,i=t.map[o];if(t.map[o-t.width]==i){a=!0;let o=n.nodeAt(i),{top:u,left:d}=t.findCell(i);e.setNodeMarkup(e.mapping.slice(l).map(i+r),null,R(o.attrs,"rowspan",s-u)),e.insert(e.mapping.slice(l).map(t.positionAt(s,d,n)),o.type.createAndFill(R(o.attrs,"rowspan",u+o.attrs.rowspan-s))),c+=o.attrs.colspan-1}}return a}function K(e,t,n,r,o,i,s,l){if(0==s||s==t.width)return!1;let a=!1;for(let c=o;c<i;c++){let o=c*t.width+s,i=t.map[o];if(t.map[o-1]==i){a=!0;let o=n.nodeAt(i),u=t.colCount(i),d=e.mapping.slice(l).map(i+r);e.setNodeMarkup(d,null,I(o.attrs,s-u,o.attrs.colspan-(s-u))),e.insert(d+o.nodeSize,o.type.createAndFill(I(o.attrs,0,s-u))),c+=o.attrs.rowspan-1}}return a}function G(e,t,n,r,i){let s=n?e.doc.nodeAt(n-1):e.doc,l=d.get(s),{top:a,left:c}=r,u=c+i.width,p=a+i.height,h=e.tr,f=0;function m(){s=n?h.doc.nodeAt(n-1):h.doc,l=d.get(s),f=h.mapping.maps.length}U(h,l,s,n,u,p,f)&&m(),J(h,l,s,n,c,u,a,f)&&m(),J(h,l,s,n,c,u,p,f)&&m(),K(h,l,s,n,a,p,c,f)&&m(),K(h,l,s,n,a,p,u,f)&&m();for(let d=a;d<p;d++){let e=l.positionAt(d,c,s),t=l.positionAt(d,u,s);h.replace(h.mapping.slice(f).map(e+n),h.mapping.slice(f).map(t+n),new o["Slice"](i.rows[d-a],0,0))}m(),h.setSelection(new D(h.doc.resolve(n+l.positionAt(a,c,s)),h.doc.resolve(n+l.positionAt(p-1,u-1,s)))),t(h)}const X=Object(i["a"])({ArrowLeft:Y("horiz",-1),ArrowRight:Y("horiz",1),ArrowUp:Y("vert",-1),ArrowDown:Y("vert",1),"Shift-ArrowLeft":Q("horiz",-1),"Shift-ArrowRight":Q("horiz",1),"Shift-ArrowUp":Q("vert",-1),"Shift-ArrowDown":Q("vert",1),Backspace:ee,"Mod-Backspace":ee,Delete:ee,"Mod-Delete":ee});function Z(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function Y(e,t){return(n,o,i)=>{let s=n.selection;if(s instanceof D)return Z(n,o,r["Selection"].near(s.$headCell,t));if("horiz"!=e&&!s.empty)return!1;let l=oe(i,e,t);if(null==l)return!1;if("horiz"==e)return Z(n,o,r["Selection"].near(n.doc.resolve(s.head+t),t));{let i,s=n.doc.resolve(l),a=N(s,e,t);return i=a?r["Selection"].near(a,1):t<0?r["Selection"].near(n.doc.resolve(s.before(-1)),-1):r["Selection"].near(n.doc.resolve(s.after(-1)),1),Z(n,o,i)}}}function Q(e,t){return(n,r,o)=>{let i=n.selection;if(!(i instanceof D)){let r=oe(o,e,t);if(null==r)return!1;i=new D(n.doc.resolve(r))}let s=N(i.$headCell,e,t);return!!s&&Z(n,r,new D(i.$anchorCell,s))}}function ee(e,t){let n=e.selection;if(!(n instanceof D))return!1;if(t){let r=e.tr,i=b(e.schema).cell.createAndFill().content;n.forEachCell((e,t)=>{e.content.eq(i)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new o["Slice"](i,0,0))}),r.docChanged&&t(r)}return!0}function te(e,t){let n=e.state.doc,r=x(n.resolve(t));return!!r&&(e.dispatch(e.state.tr.setSelection(new D(r))),!0)}function ne(e,t,n){if(!S(e.state))return!1;let r=V(n),i=e.state.selection;if(i instanceof D){r||(r={width:1,height:1,rows:[o["Fragment"].from(H(b(e.state.schema).cell,n))]});let t=i.$anchorCell.node(-1),s=i.$anchorCell.start(-1),l=d.get(t).rectBetween(i.$anchorCell.pos-s,i.$headCell.pos-s);return r=W(r,l.right-l.left,l.bottom-l.top),G(e.state,e.dispatch,s,l,r),!0}if(r){let t=_(e.state),n=t.start(-1);return G(e.state,e.dispatch,n,d.get(t.node(-1)).findCell(t.pos-n),r),!0}return!1}function re(e,t){if(t.ctrlKey||t.metaKey)return;let n,r=ie(e,t.target);if(t.shiftKey&&e.state.selection instanceof D)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&r&&null!=(n=x(e.state.selection.$anchor))&&se(e,t).pos!=n.pos)o(n,t),t.preventDefault();else if(!r)return;function o(t,n){let r=se(e,n),o=null==w.getState(e.state);if(!r||!E(t,r)){if(!o)return;r=t}let i=new D(t,r);if(o||!e.state.selection.eq(i)){let n=e.state.tr.setSelection(i);o&&n.setMeta(w,t.pos),e.dispatch(n)}}function i(){e.root.removeEventListener("mouseup",i),e.root.removeEventListener("dragstart",i),e.root.removeEventListener("mousemove",s),null!=w.getState(e.state)&&e.dispatch(e.state.tr.setMeta(w,-1))}function s(n){let s,l=w.getState(e.state);if(null!=l)s=e.state.doc.resolve(l);else if(ie(e,n.target)!=r&&(s=se(e,t),!s))return i();s&&o(s,n)}e.root.addEventListener("mouseup",i),e.root.addEventListener("dragstart",i),e.root.addEventListener("mousemove",s)}function oe(e,t,n){if(!(e.state.selection instanceof r["TextSelection"]))return null;let{$head:o}=e.state.selection;for(let r=o.depth-1;r>=0;r--){let i=o.node(r),s=n<0?o.index(r):o.indexAfter(r);if(s!=(n<0?0:i.childCount))return null;if("cell"==i.type.spec.tableRole||"header_cell"==i.type.spec.tableRole){let i=o.before(r),s="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(s)?i:null}}return null}function ie(e,t){for(;t&&t!=e.dom;t=t.parentNode)if("TD"==t.nodeName||"TH"==t.nodeName)return t}function se(e,t){let n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?x(e.state.doc.resolve(n.pos)):null}const le=new r["PluginKey"]("fix-tables");function ae(e,t,n,r){let o=e.childCount,i=t.childCount;e:for(let s=0,l=0;s<i;s++){let i=t.child(s);for(let t=l,r=Math.min(o,s+3);t<r;t++)if(e.child(t)==i){l=t+1,n+=i.nodeSize;continue e}r(i,n),l<o&&e.child(l).sameMarkup(i)?ae(e.child(l),i,n+1,r):i.nodesBetween(0,i.content.size,r,n+1),n+=i.nodeSize}}function ce(e,t){let n,r=(t,r)=>{"table"==t.type.spec.tableRole&&(n=ue(e,t,r,n))};return t?t.doc!=e.doc&&ae(t.doc,e.doc,0,r):e.doc.descendants(r),n}function ue(e,t,n,r){let o=d.get(t);if(!o.problems)return r;r||(r=e.tr);let i,s,l=[];for(let a=0;a<o.height;a++)l.push(0);for(let a=0;a<o.problems.length;a++){let e=o.problems[a];if("collision"==e.type){let o=t.nodeAt(e.pos);for(let t=0;t<o.attrs.rowspan;t++)l[e.row+t]+=e.n;r.setNodeMarkup(r.mapping.map(n+1+e.pos),null,I(o.attrs,o.attrs.colspan-e.n,e.n))}else if("missing"==e.type)l[e.row]+=e.n;else if("overlong_rowspan"==e.type){let o=t.nodeAt(e.pos);r.setNodeMarkup(r.mapping.map(n+1+e.pos),null,R(o.attrs,"rowspan",o.attrs.rowspan-e.n))}else if("colwidth mismatch"==e.type){let o=t.nodeAt(e.pos);r.setNodeMarkup(r.mapping.map(n+1+e.pos),null,R(o.attrs,"colwidth",e.colwidth))}}for(let a=0;a<l.length;a++)l[a]&&(null==i&&(i=a),s=a);for(let a=0,c=n+1;a<o.height;a++){let n=t.child(a),o=c+n.nodeSize,u=l[a];if(u>0){let t="cell";n.firstChild&&(t=n.firstChild.type.spec.tableRole);let l=[];for(let n=0;n<u;n++)l.push(b(e.schema)[t].createAndFill());let d=0!=a&&i!=a-1||s!=a?o-1:c+1;r.insert(r.mapping.map(d),l)}c=o}return r.setMeta(le,{fixTables:!0})}function de(e){let t,n=e.selection,r=_(e),o=r.node(-1),i=r.start(-1),s=d.get(o);return t=n instanceof D?s.rectBetween(n.$anchorCell.pos-i,n.$headCell.pos-i):s.findCell(r.pos-i),t.tableStart=i,t.map=s,t.table=o,t}function pe(e,{map:t,tableStart:n,table:r},o){let i=o>0?-1:0;j(t,r,o+i)&&(i=0==o||o==t.width?null:0);for(let s=0;s<t.height;s++){let l=s*t.width+o;if(o>0&&o<t.width&&t.map[l-1]==t.map[l]){let i=t.map[l],a=r.nodeAt(i);e.setNodeMarkup(e.mapping.map(n+i),null,z(a.attrs,o-t.colCount(i))),s+=a.attrs.rowspan-1}else{let a=null==i?b(r.type.schema).cell:r.nodeAt(t.map[l+i]).type,c=t.positionAt(s,o,r);e.insert(e.mapping.map(n+c),a.createAndFill())}}return e}function he(e,t){if(!S(e))return!1;if(t){let n=de(e);t(pe(e.tr,n,n.left))}return!0}function fe(e,t){if(!S(e))return!1;if(t){let n=de(e);t(pe(e.tr,n,n.right))}return!0}function me(e,{map:t,table:n,tableStart:r},o){let i=e.mapping.maps.length;for(let s=0;s<t.height;){let l=s*t.width+o,a=t.map[l],c=n.nodeAt(a);if(o>0&&t.map[l-1]==a||o<t.width-1&&t.map[l+1]==a)e.setNodeMarkup(e.mapping.slice(i).map(r+a),null,I(c.attrs,o-t.colCount(a)));else{let t=e.mapping.slice(i).map(r+a);e.delete(t,t+c.nodeSize)}s+=c.attrs.rowspan}}function ge(e,t){if(!S(e))return!1;if(t){let n=de(e),r=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(let e=n.right-1;;e--){if(me(r,n,e),e==n.left)break;n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=d.get(n.table)}t(r)}return!0}function ve(e,t,n){let r=b(t.type.schema).header_cell;for(let o=0;o<e.width;o++)if(t.nodeAt(e.map[o+n*e.width]).type!=r)return!1;return!0}function ye(e,{map:t,tableStart:n,table:r},o){let i=n;for(let a=0;a<o;a++)i+=r.child(a).nodeSize;let s=[],l=o>0?-1:0;ve(t,r,o+l)&&(l=0==o||o==t.height?null:0);for(let a=0,c=t.width*o;a<t.width;a++,c++)if(o>0&&o<t.height&&t.map[c]==t.map[c-t.width]){let o=t.map[c],i=r.nodeAt(o).attrs;e.setNodeMarkup(n+o,null,R(i,"rowspan",i.rowspan+1)),a+=i.colspan-1}else{let e=null==l?b(r.type.schema).cell:r.nodeAt(t.map[c+l*t.width]).type;s.push(e.createAndFill())}return e.insert(i,b(r.type.schema).row.create(null,s)),e}function be(e,t){if(!S(e))return!1;if(t){let n=de(e);t(ye(e.tr,n,n.top))}return!0}function we(e,t){if(!S(e))return!1;if(t){let n=de(e);t(ye(e.tr,n,n.bottom))}return!0}function xe(e,{map:t,table:n,tableStart:r},o){let i=0;for(let a=0;a<o;a++)i+=n.child(a).nodeSize;let s=i+n.child(o).nodeSize,l=e.mapping.maps.length;e.delete(i+r,s+r);for(let a=0,c=o*t.width;a<t.width;a++,c++){let i=t.map[c];if(o>0&&i==t.map[c-t.width]){let t=n.nodeAt(i).attrs;e.setNodeMarkup(e.mapping.slice(l).map(i+r),null,R(t,"rowspan",t.rowspan-1)),a+=t.colspan-1}else if(o<t.width&&i==t.map[c+t.width]){let s=n.nodeAt(i),c=s.type.create(R(s.attrs,"rowspan",s.attrs.rowspan-1),s.content),u=t.positionAt(o+1,a,n);e.insert(e.mapping.slice(l).map(r+u),c),a+=s.attrs.colspan-1}}}function ke(e,t){if(!S(e))return!1;if(t){let n=de(e),r=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(let e=n.bottom-1;;e--){if(xe(r,n,e),e==n.top)break;n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=d.get(n.table)}t(r)}return!0}function Se(e){let t=e.content;return 1==t.childCount&&t.firstChild.isTextblock&&0==t.firstChild.childCount}function _e({width:e,height:t,map:n},r){let o=r.top*e+r.left,i=o,s=(r.bottom-1)*e+r.left,l=o+(r.right-r.left-1);for(let a=r.top;a<r.bottom;a++){if(r.left>0&&n[i]==n[i-1]||r.right<e&&n[l]==n[l+1])return!0;i+=e,l+=e}for(let a=r.left;a<r.right;a++){if(r.top>0&&n[o]==n[o-e]||r.bottom<t&&n[s]==n[s+e])return!0;o++,s++}return!1}function Ce(e,t){let n=e.selection;if(!(n instanceof D)||n.$anchorCell.pos==n.$headCell.pos)return!1;let r=de(e),{map:i}=r;if(_e(i,r))return!1;if(t){let n,s,l=e.tr,a={},c=o["Fragment"].empty;for(let e=r.top;e<r.bottom;e++)for(let t=r.left;t<r.right;t++){let o=i.map[e*i.width+t],u=r.table.nodeAt(o);if(!a[o])if(a[o]=!0,null==n)n=o,s=u;else{Se(u)||(c=c.append(u.content));let e=l.mapping.map(o+r.tableStart);l.delete(e,e+u.nodeSize)}}if(l.setNodeMarkup(n+r.tableStart,null,R(z(s.attrs,s.attrs.colspan,r.right-r.left-s.attrs.colspan),"rowspan",r.bottom-r.top)),c.size){let e=n+1+s.content.size,t=Se(s)?n+1:e;l.replaceWith(t+r.tableStart,e+r.tableStart,c)}l.setSelection(new D(l.doc.resolve(n+r.tableStart))),t(l)}return!0}function Oe(e,t){const n=b(e.schema);return Me(({node:e})=>n[e.type.spec.tableRole])(e,t)}function Me(e){return(t,n)=>{let r,o,i=t.selection;if(i instanceof D){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;r=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(r=k(i.$from),!r)return!1;o=x(i.$from).pos}if(1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(n){let s=r.attrs,l=[],a=s.colwidth;s.rowspan>1&&(s=R(s,"rowspan",1)),s.colspan>1&&(s=R(s,"colspan",1));let c,u=de(t),d=t.tr;for(let e=0;e<u.right-u.left;e++)l.push(a?R(s,"colwidth",a&&a[e]?[a[e]]:null):s);for(let t=u.top;t<u.bottom;t++){let n=u.map.positionAt(t,u.left,u.table);t==u.top&&(n+=r.nodeSize);for(let o=u.left,i=0;o<u.right;o++,i++)o==u.left&&t==u.top||d.insert(c=d.mapping.map(n+u.tableStart,1),e({node:r,row:t,col:o}).createAndFill(l[i]))}d.setNodeMarkup(o,e({node:r,row:u.top,col:u.left}),l[0]),i instanceof D&&d.setSelection(new D(d.doc.resolve(i.$anchorCell.pos),c&&d.doc.resolve(c))),n(d)}return!0}}function Ee(e,t){return function(n,r){if(!S(n))return!1;let o=_(n);if(o.nodeAfter.attrs[e]===t)return!1;if(r){let i=n.tr;n.selection instanceof D?n.selection.forEachCell((n,r)=>{n.attrs[e]!==t&&i.setNodeMarkup(r,null,R(n.attrs,e,t))}):i.setNodeMarkup(o.pos,null,R(o.nodeAfter.attrs,e,t)),r(i)}return!0}}function Te(e){return function(t,n){if(!S(t))return!1;if(n){let r=b(t.schema),o=de(t),i=t.tr,s=o.map.cellsInRect("column"==e?new u(o.left,0,o.right,o.map.height):"row"==e?new u(0,o.top,o.map.width,o.bottom):o),l=s.map(e=>o.table.nodeAt(e));for(let e=0;e<s.length;e++)l[e].type==r.header_cell&&i.setNodeMarkup(o.tableStart+s[e],r.cell,l[e].attrs);if(0==i.steps.length)for(let e=0;e<s.length;e++)i.setNodeMarkup(o.tableStart+s[e],r.header_cell,l[e].attrs);n(i)}return!0}}function Ae(e,t,n){const r=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1});for(let o=0;o<r.length;o++){const e=t.table.nodeAt(r[o]);if(e&&e.type!==n.header_cell)return!1}return!0}function Ne(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?Te(e):function(t,n){if(!S(t))return!1;if(n){let r=b(t.schema),o=de(t),i=t.tr,s=Ae("row",o,r),l=Ae("column",o,r),a="column"===e?s:"row"===e&&l,c=a?1:0,d="column"==e?new u(0,c,1,o.map.height):"row"==e?new u(c,0,o.map.width,1):o,p="column"==e?l?r.cell:r.header_cell:"row"==e?s?r.cell:r.header_cell:r.cell;o.map.cellsInRect(d).forEach(e=>{const t=e+o.tableStart,n=i.doc.nodeAt(t);n&&i.setNodeMarkup(t,p,n.attrs)}),n(i)}return!0}}let Re=Ne("row",{useDeprecatedLogic:!0}),Ie=Ne("column",{useDeprecatedLogic:!0}),ze=Ne("cell",{useDeprecatedLogic:!0});function je(e,t){if(t<0){let t=e.nodeBefore;if(t)return e.pos-t.nodeSize;for(let n=e.index(-1)-1,r=e.before();n>=0;n--){let t=e.node(-1).child(n);if(t.childCount)return r-1-t.lastChild.nodeSize;r-=t.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;let t=e.node(-1);for(let n=e.indexAfter(-1),r=e.after();n<t.childCount;n++){let e=t.child(n);if(e.childCount)return r+1;r+=e.nodeSize}}}function De(e){return function(t,n){if(!S(t))return!1;let o=je(_(t),e);if(null!=o){if(n){let e=t.doc.resolve(o);n(t.tr.setSelection(r["TextSelection"].between(e,M(e))).scrollIntoView())}return!0}}}function Pe(e,t){let n=e.selection.$anchor;for(let r=n.depth;r>0;r--){let o=n.node(r);if("table"==o.type.spec.tableRole)return t&&t(e.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0}return!1}class $e{constructor(e,t){this.node=e,this.cellMinWidth=t,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Fe(e,this.colgroup,this.table,t),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type==this.node.type&&(this.node=e,Fe(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return"attributes"==e.type&&(e.target==this.table||this.colgroup.contains(e.target))}}function Fe(e,t,n,r,o,i){let s=0,l=!0,a=t.firstChild,c=e.firstChild;for(let u=0,d=0;u<c.childCount;u++){let{colspan:e,colwidth:n}=c.child(u).attrs;for(let c=0;c<e;c++,d++){let e=o==d?i:n&&n[c],u=e?e+"px":"";s+=e||r,e||(l=!1),a?(a.style.width!=u&&(a.style.width=u),a=a.nextSibling):t.appendChild(document.createElement("col")).style.width=u}}while(a){let e=a.nextSibling;a.parentNode.removeChild(a),a=e}l?(n.style.width=s+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=s+"px")}const Be=new r["PluginKey"]("tableColumnResizing");function Le({handleWidth:e=5,cellMinWidth:t=25,View:n=$e,lastColumnResizable:o=!0}={}){let i=new r["Plugin"]({key:Be,state:{init(e,r){return this.spec.props.nodeViews[b(r.schema).table.name]=(e,r)=>new n(e,t,r),new Ve(-1,!1)},apply(e,t){return t.apply(e)}},props:{attributes(e){let t=Be.getState(e);return t.activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove(n,r){qe(n,r,e,t,o)},mouseleave(e){He(e)},mousedown(e,n){We(e,n,t)}},decorations(e){let t=Be.getState(e);if(t.activeHandle>-1)return et(e,t.activeHandle)},nodeViews:{}}});return i}class Ve{constructor(e,t){this.activeHandle=e,this.dragging=t}apply(e){let t=this,n=e.getMeta(Be);if(n&&null!=n.setHandle)return new Ve(n.setHandle,null);if(n&&void 0!==n.setDragging)return new Ve(t.activeHandle,n.setDragging);if(t.activeHandle>-1&&e.docChanged){let n=e.mapping.map(t.activeHandle,-1);O(e.doc.resolve(n))||(n=null),t=new Ve(n,t.dragging)}return t}}function qe(e,t,n,r,o){let i=Be.getState(e.state);if(!i.dragging){let r=Je(t.target),s=-1;if(r){let{left:o,right:i}=r.getBoundingClientRect();t.clientX-o<=n?s=Ke(e,t,"left"):i-t.clientX<=n&&(s=Ke(e,t,"right"))}if(s!=i.activeHandle){if(!o&&-1!==s){let t=e.state.doc.resolve(s),n=t.node(-1),r=d.get(n),o=t.start(-1),i=r.colCount(t.pos-o)+t.nodeAfter.attrs.colspan-1;if(i==r.width-1)return}Xe(e,s)}}}function He(e){let t=Be.getState(e.state);t.activeHandle>-1&&!t.dragging&&Xe(e,-1)}function We(e,t,n){let r=Be.getState(e.state);if(-1==r.activeHandle||r.dragging)return!1;let o=e.state.doc.nodeAt(r.activeHandle),i=Ue(e,r.activeHandle,o.attrs);function s(t){window.removeEventListener("mouseup",s),window.removeEventListener("mousemove",l);let r=Be.getState(e.state);r.dragging&&(Ze(e,r.activeHandle,Ge(r.dragging,t,n)),e.dispatch(e.state.tr.setMeta(Be,{setDragging:null})))}function l(t){if(!t.which)return s(t);let r=Be.getState(e.state),o=Ge(r.dragging,t,n);Ye(e,r.activeHandle,o,n)}return e.dispatch(e.state.tr.setMeta(Be,{setDragging:{startX:t.clientX,startWidth:i}})),window.addEventListener("mouseup",s),window.addEventListener("mousemove",l),t.preventDefault(),!0}function Ue(e,t,{colspan:n,colwidth:r}){let o=r&&r[r.length-1];if(o)return o;let i=e.domAtPos(t),s=i.node.childNodes[i.offset],l=s.offsetWidth,a=n;if(r)for(let c=0;c<n;c++)r[c]&&(l-=r[c],a--);return l/a}function Je(e){while(e&&"TD"!=e.nodeName&&"TH"!=e.nodeName)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function Ke(e,t,n){let r=e.posAtCoords({left:t.clientX,top:t.clientY});if(!r)return-1;let{pos:o}=r,i=x(e.state.doc.resolve(o));if(!i)return-1;if("right"==n)return i.pos;let s=d.get(i.node(-1)),l=i.start(-1),a=s.map.indexOf(i.pos-l);return a%s.width==0?-1:l+s.map[a-1]}function Ge(e,t,n){let r=t.clientX-e.startX;return Math.max(n,e.startWidth+r)}function Xe(e,t){e.dispatch(e.state.tr.setMeta(Be,{setHandle:t}))}function Ze(e,t,n){let r=e.state.doc.resolve(t),o=r.node(-1),i=d.get(o),s=r.start(-1),l=i.colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1,a=e.state.tr;for(let c=0;c<i.height;c++){let e=c*i.width+l;if(c&&i.map[e]==i.map[e-i.width])continue;let t=i.map[e],{attrs:r}=o.nodeAt(t),u=1==r.colspan?0:l-i.colCount(t);if(r.colwidth&&r.colwidth[u]==n)continue;let d=r.colwidth?r.colwidth.slice():Qe(r.colspan);d[u]=n,a.setNodeMarkup(s+t,null,R(r,"colwidth",d))}a.docChanged&&e.dispatch(a)}function Ye(e,t,n,r){let o=e.state.doc.resolve(t),i=o.node(-1),s=o.start(-1),l=d.get(i).colCount(o.pos-s)+o.nodeAfter.attrs.colspan-1,a=e.domAtPos(o.start(-1)).node;while("TABLE"!=a.nodeName)a=a.parentNode;Fe(i,a.firstChild,a,r,l,n)}function Qe(e){let t=[];for(let n=0;n<e;n++)t.push(0);return t}function et(e,t){let n=[],r=e.doc.resolve(t),o=r.node(-1);if(!o)return s["b"].empty;let i=d.get(o),l=r.start(-1),a=i.colCount(r.pos-l)+r.nodeAfter.attrs.colspan;for(let c=0;c<i.height;c++){let e=a+c*i.width-1;if((a==i.width||i.map[e]!=i.map[e+1])&&(0==c||i.map[e-1]!=i.map[e-1-i.width])){let t=i.map[e],r=l+t+o.nodeAt(t).nodeSize-1,a=document.createElement("div");a.className="column-resize-handle",n.push(s["a"].widget(r,a))}}return s["b"].create(e.doc,n)}function tt({allowTableNodeSelection:e=!1}={}){return new r["Plugin"]({key:w,state:{init(){return null},apply(e,t){let n=e.getMeta(w);if(null!=n)return-1==n?null:n;if(null==t||!e.docChanged)return t;let{deleted:r,pos:o}=e.mapping.mapResult(t);return r?null:o}},props:{decorations:$,handleDOMEvents:{mousedown:re},createSelectionBetween(e){if(null!=w.getState(e.state))return e.state.selection},handleTripleClick:te,handleKeyDown:X,handlePaste:ne},appendTransaction(t,n,r){return L(r,ce(r,n),e)}})}}}]);
//# sourceMappingURL=chunk-02eb4727.5c2734c5.js.map