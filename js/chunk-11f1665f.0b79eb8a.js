(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11f1665f"],{"162e":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"layout-container"},[e("el-container",{staticClass:"layout-container"},[e("el-aside",{staticClass:"aside",attrs:{width:"auto"}},[e("AppAside",{staticClass:"aside-menu",attrs:{"is-collapse":t.isCollapse}})],1),e("el-container",[e("el-header",{staticClass:"header"},[e("div",[e("i",{class:t.isCollapse?"el-icon-s-unfold":"el-icon-s-fold",on:{click:function(e){t.isCollapse=!t.isCollapse}}}),e("span",[t._v("成都王氏集团有限公司")])]),e("el-dropdown",[e("div",{staticClass:"person-box"},[e("img",{staticClass:"picture",attrs:{src:t.user.photo}}),e("span",[t._v(t._s(t.user.name)),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})])]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",[e("i",{staticClass:"el-icon-setting"}),t._v("个人设置")]),e("el-dropdown-item",{nativeOn:{click:function(e){return t.onLogout.apply(null,arguments)}}},[e("i",{staticClass:"el-icon-warning-outline"}),t._v(" 退出登录")])],1)],1)],1),e("el-main",{staticClass:"main"},[e("router-view")],1)],1)],1)],1)},i=[],o=(s("14d9"),function(){var t=this,e=t._self._c;return e("el-menu",{attrs:{"default-active":t.$route.path,"background-color":"#002033","text-color":"#fff","active-text-color":"#ffd04b",router:"",collapse:t.isCollapse,"collapse-transition":!1}},[e("el-menu-item",{attrs:{index:"/layout"}},[e("i",{staticClass:"el-icon-s-home"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("首页")])]),e("el-menu-item",{attrs:{index:"/article"}},[e("i",{staticClass:"el-icon-document"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("内容管理")])]),e("el-menu-item",{attrs:{index:"/image"}},[e("i",{staticClass:"el-icon-picture"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("素材管理")])]),e("el-menu-item",{attrs:{index:"/publish"}},[e("i",{staticClass:"el-icon-s-promotion"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("发布文章")])]),e("el-menu-item",{attrs:{index:"/comment"}},[e("i",{staticClass:"el-icon-chat-dot-round"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("评论管理")])]),e("el-menu-item",{attrs:{index:"/fans"}},[e("i",{staticClass:"el-icon-present"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("粉丝管理")])]),e("el-menu-item",{attrs:{index:"/settings"}},[e("i",{staticClass:"el-icon-setting"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("个人设置")])])],1)}),n=[],l={name:"AppAside",props:["is-collapse"],data(){return{}},methods:{}},r=l,c=s("2877"),u=Object(c["a"])(r,o,n,!1,null,null,null),d=u.exports,p=s("c24f"),m=s("50f8"),f={name:"LayoutIndex",data(){return{user:{},isCollapse:!1}},created(){this.loadUserInfo(),m["a"].$on("update-user",t=>{this.user.name=t.name,this.user.photo=t.photo})},methods:{loadUserInfo(){Object(p["a"])().then(t=>{this.user=t.data.data,console.log(this.user)})},onLogout(){this.$confirm("是否退出登录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{window.sessionStorage.removeItem("user"),this.$router.push("/login"),this.$message({type:"success",message:"退出成功!"})}).catch(t=>{console.log(t)})}},components:{AppAside:d}},h=f,v=(s("d595"),Object(c["a"])(h,a,i,!1,null,"1f57a020",null));e["default"]=v.exports},"50f8":function(t,e,s){"use strict";var a=s("2b0e");e["a"]=new a["default"]},"71c0":function(t,e,s){},c24f:function(t,e,s){"use strict";s.d(e,"d",(function(){return i})),s.d(e,"a",(function(){return o})),s.d(e,"c",(function(){return n})),s.d(e,"b",(function(){return l}));var a=s("b775");const i=t=>Object(a["a"])({method:"POST",url:"/mp/v1_0/authorizations",data:t}),o=()=>Object(a["a"])({method:"GET",url:"/mp/v1_0/user/profile"}),n=t=>Object(a["a"])({method:"PATCH",url:"/mp/v1_0/user/photo",data:t}),l=t=>Object(a["a"])({method:"PATCH",url:"/mp/v1_0/user/profile",data:t})},d595:function(t,e,s){"use strict";s("71c0")}}]);
//# sourceMappingURL=chunk-11f1665f.0b79eb8a.js.map